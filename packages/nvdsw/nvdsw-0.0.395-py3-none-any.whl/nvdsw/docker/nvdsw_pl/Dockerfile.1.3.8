FROM nvcr.io/partners/gridai/pytorch-lightning:v1.3.8

ENTRYPOINT
# EXPOSE 8888/tcp

# apparently, we need this to build jupyter lab below
# change name of the jupyter window
# SHELL ["/bin/bash", "--login", "-c", "jupyter lab build --dev-build=False --minimize=False --name='pl:1.3.8'"]
RUN source /usr/local/nvm/nvm.sh && jupyter lab build --dev-build=False --minimize=False --name='pl:1.3.8'
# RUN jupyter lab build --dev-build=False --minimize=False --name='pl:1.3.8'

# make the mounted data directory show up in the home jupyter lab dir
# VOLUME ["/data"]
# RUN ln -s /data ./data
# CMD jupyter lab --allow-root --ip=0.0.0.0 --no-browser --NotebookApp.token=''
