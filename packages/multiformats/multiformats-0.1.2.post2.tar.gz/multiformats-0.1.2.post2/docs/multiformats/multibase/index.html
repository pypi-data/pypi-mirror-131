<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>multiformats.multibase API documentation</title>
<meta name="description" content="Implementation of the [multibase spec](https://github.com/multiformats/multibase) â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}.hljs-meta{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;pointer-events:none}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>multiformats.multibase</code></h1>
</header>
<section id="section-intro">
<p>Implementation of the <a href="https://github.com/multiformats/multibase">multibase spec</a>.</p>
<p>The <code><a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a></code> class provides a container for multibase encoding data:</p>
<pre><code class="language-py">&gt;&gt;&gt; from multiformats import multibase
&gt;&gt;&gt; from multiformats.multibase import Multibase
&gt;&gt;&gt; Multibase(name=&quot;base16&quot;, code=&quot;f&quot;,
              status=&quot;default&quot;, description=&quot;hexadecimal&quot;)
    Multibase(name='base16', code='f', status='default', description='hexadecimal')
</code></pre>
<p>Core functionality is provided by the <code><a title="multiformats.multibase.encode" href="#multiformats.multibase.encode">encode()</a></code> and <code><a title="multiformats.multibase.decode" href="#multiformats.multibase.decode">decode()</a></code> functions, which can be used to
encode a bytestring into a string using a chosen multibase encoding and to decode a string
into a bytestring using the multibase encoding specified by its first character:</p>
<pre><code class="language-py">&gt;&gt;&gt; multibase.encode(b&quot;Hello World!&quot;, &quot;base32&quot;)
'bjbswy3dpeblw64tmmqqq'
&gt;&gt;&gt; multibase.decode('bjbswy3dpeblw64tmmqqq')
b'Hello World!'
</code></pre>
<p>The multibase encoding specified by a given string is accessible using the <code><a title="multiformats.multibase.from_str" href="#multiformats.multibase.from_str">from_str()</a></code> function:</p>
<pre><code class="language-py">&gt;&gt;&gt; multibase.from_str('bjbswy3dpeblw64tmmqqq')
Multibase(encoding='base32', code='b',
          status='default',
          description='rfc4648 case-insensitive - no padding')
</code></pre>
<p>Additional encoding management functionality is provided by the <code><a title="multiformats.multibase.exists" href="#multiformats.multibase.exists">exists()</a></code> and <code><a title="multiformats.multibase.get" href="#multiformats.multibase.get">get()</a></code> functions,
which can be used to check whether an encoding with given name or code is known, and if so to get the corresponding object:</p>
<pre><code class="language-py">&gt;&gt;&gt; multibase.exists(&quot;base32&quot;)
True
&gt;&gt;&gt; multibase.get(&quot;base32&quot;)
Multibase(encoding='base32', code='b',
          status='default',
          description='rfc4648 case-insensitive - no padding')
&gt;&gt;&gt; multibase.exists(code=&quot;f&quot;)
True
&gt;&gt;&gt; multibase.get(code=&quot;f&quot;)
Multibase(encoding=&quot;base16&quot;, code=&quot;f&quot;,
          status=&quot;default&quot;, description=&quot;hexadecimal&quot;)
</code></pre>
<p>Multibase objects have <code><a title="multiformats.multibase.encode" href="#multiformats.multibase.encode">encode()</a></code> and <code><a title="multiformats.multibase.decode" href="#multiformats.multibase.decode">decode()</a></code> methods that perform functionality analogous to the homonymous functions:</p>
<pre><code class="language-py">&gt;&gt;&gt; base32 = multibase.get(&quot;base32&quot;)
&gt;&gt;&gt; base32.encode(b&quot;Hello World!&quot;)
'bjbswy3dpeblw64tmmqqq'
&gt;&gt;&gt; base32.decode('bjbswy3dpeblw64tmmqqq')
b'Hello World!'
</code></pre>
<p>The <code><a title="multiformats.multibase.decode" href="#multiformats.multibase.decode">decode()</a></code> method includes additional encoding validation:</p>
<pre><code class="language-py">&gt;&gt;&gt; base32.decode('Bjbswy3dpeblw64tmmqqq')
err.ValueError: Expected 'base32' encoding, found 'base32upper' encoding instead.
</code></pre>
<p>The <code><a title="multiformats.multibase.table" href="#multiformats.multibase.table">table()</a></code> function can be used to iterate through known multibase encodings:</p>
<pre><code class="language-py">&gt;&gt;&gt; list(enc.name for enc in multibase.table())
['identity', 'base2', 'base8', 'base10', 'base32upper',
 'base32padupper', 'base16upper', 'base36upper', 'base64pad',
 'base32hexpadupper', 'base64urlpad', 'base32hexupper',
 'base58flickr', 'base32', 'base32pad', 'base16', 'base32z',
 'base36', 'base64', 'proquint', 'base32hexpad', 'base64url',
 'base32hex', 'base58btc']
</code></pre>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
    Implementation of the [multibase spec](https://github.com/multiformats/multibase).

    The `Multibase` class provides a container for multibase encoding data:

    ```py
    &gt;&gt;&gt; from multiformats import multibase
    &gt;&gt;&gt; from multiformats.multibase import Multibase
    &gt;&gt;&gt; Multibase(name=&#34;base16&#34;, code=&#34;f&#34;,
                  status=&#34;default&#34;, description=&#34;hexadecimal&#34;)
        Multibase(name=&#39;base16&#39;, code=&#39;f&#39;, status=&#39;default&#39;, description=&#39;hexadecimal&#39;)
    ```

    Core functionality is provided by the `encode` and `decode` functions, which can be used to
    encode a bytestring into a string using a chosen multibase encoding and to decode a string
    into a bytestring using the multibase encoding specified by its first character:

    ```py
    &gt;&gt;&gt; multibase.encode(b&#34;Hello World!&#34;, &#34;base32&#34;)
    &#39;bjbswy3dpeblw64tmmqqq&#39;
    &gt;&gt;&gt; multibase.decode(&#39;bjbswy3dpeblw64tmmqqq&#39;)
    b&#39;Hello World!&#39;
    ```

    The multibase encoding specified by a given string is accessible using the `from_str` function:
    ```py
    &gt;&gt;&gt; multibase.from_str(&#39;bjbswy3dpeblw64tmmqqq&#39;)
    Multibase(encoding=&#39;base32&#39;, code=&#39;b&#39;,
              status=&#39;default&#39;,
              description=&#39;rfc4648 case-insensitive - no padding&#39;)
    ```

    Additional encoding management functionality is provided by the `exists` and `get` functions,
    which can be used to check whether an encoding with given name or code is known, and if so to get the corresponding object:

    ```py
    &gt;&gt;&gt; multibase.exists(&#34;base32&#34;)
    True
    &gt;&gt;&gt; multibase.get(&#34;base32&#34;)
    Multibase(encoding=&#39;base32&#39;, code=&#39;b&#39;,
              status=&#39;default&#39;,
              description=&#39;rfc4648 case-insensitive - no padding&#39;)
    &gt;&gt;&gt; multibase.exists(code=&#34;f&#34;)
    True
    &gt;&gt;&gt; multibase.get(code=&#34;f&#34;)
    Multibase(encoding=&#34;base16&#34;, code=&#34;f&#34;,
              status=&#34;default&#34;, description=&#34;hexadecimal&#34;)
    ```

    Multibase objects have `encode` and `decode` methods that perform functionality analogous to the homonymous functions:

    ```py
    &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
    &gt;&gt;&gt; base32.encode(b&#34;Hello World!&#34;)
    &#39;bjbswy3dpeblw64tmmqqq&#39;
    &gt;&gt;&gt; base32.decode(&#39;bjbswy3dpeblw64tmmqqq&#39;)
    b&#39;Hello World!&#39;
    ```

    The `decode` method includes additional encoding validation:

    ```py
    &gt;&gt;&gt; base32.decode(&#39;Bjbswy3dpeblw64tmmqqq&#39;)
    err.ValueError: Expected &#39;base32&#39; encoding, found &#39;base32upper&#39; encoding instead.
    ```

    The `table` function can be used to iterate through known multibase encodings:

    ```py
    &gt;&gt;&gt; list(enc.name for enc in multibase.table())
    [&#39;identity&#39;, &#39;base2&#39;, &#39;base8&#39;, &#39;base10&#39;, &#39;base32upper&#39;,
     &#39;base32padupper&#39;, &#39;base16upper&#39;, &#39;base36upper&#39;, &#39;base64pad&#39;,
     &#39;base32hexpadupper&#39;, &#39;base64urlpad&#39;, &#39;base32hexupper&#39;,
     &#39;base58flickr&#39;, &#39;base32&#39;, &#39;base32pad&#39;, &#39;base16&#39;, &#39;base32z&#39;,
     &#39;base36&#39;, &#39;base64&#39;, &#39;proquint&#39;, &#39;base32hexpad&#39;, &#39;base64url&#39;,
     &#39;base32hex&#39;, &#39;base58btc&#39;]
    ```
&#34;&#34;&#34;

from abc import ABC, abstractmethod
import binascii
import importlib.resources as importlib_resources
from itertools import product
import json
import math
import re
from typing import Any, Callable, cast, Dict, Iterable, Iterator, List, Mapping, Optional, Tuple, Type, Union
import sys

from typing_extensions import Literal
from typing_validation import validate

from bases import (base2, base16, base8, base10, base36, base58btc, base58flickr, base58ripple,
                   base32, base32hex, base32z, base64, base64url, base45,)

from multiformats.multibase import raw
from multiformats.varint import BytesLike
from .raw import RawEncoder, RawDecoder
from . import err


class Multibase:
    &#34;&#34;&#34;
        Container class for a multibase encoding.

        Example usage:

        ```py
            Multibase(name=&#34;base16&#34;, code=&#34;f&#34;,
                      status=&#34;default&#34;, description=&#34;hexadecimal&#34;)
        ```
    &#34;&#34;&#34;

    _name: str
    _code: str
    _status: Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;]
    _description: str

    __slots__ = (&#34;__weakref__&#34;, &#34;_name&#34;, &#34;_code&#34;, &#34;_status&#34;, &#34;_description&#34;)

    def __init__(self, *,
                 name: str,
                 code: str,
                 status: str = &#34;draft&#34;,
                 description: str = &#34;&#34;
                ):
        for arg in (name, code, status, description):
            validate(arg, str)
        name = Multibase._validate_name(name)
        code = Multibase.validate_code(code)
        status = Multibase._validate_status(status)
        self._name = name
        self._code = code
        self._status = status
        self._description = description

    @staticmethod
    def _validate_name(name: Optional[str]) -&gt; str:
        validate(name, Optional[str])
        assert name is not None
        if not re.match(r&#34;^[a-z][a-z0-9_-]+$&#34;, name): # ensures len(name) &gt; 1
            raise err.ValueError(f&#34;Invalid multibase encoding name {repr(name)}&#34;)
        return name

    @staticmethod
    def validate_code(code: str) -&gt; str:
        &#34;&#34;&#34;
            Validates a multibase code and transforms it to single-character format (if in hex format).

            Example usage:

            ```py
            &gt;&gt;&gt; Multibase.validate_code(&#34;0x00&#34;)
            &#39;\\x00&#39;
            &gt;&gt;&gt; Multibase.validate_code(&#34;hi&#34;)
            err.ValueError: Multibase codes must be single-character strings
            or the hex digits &#39;0xYZ&#39; of a single byte.
            ```
        &#34;&#34;&#34;
        validate(code, str)
        if re.match(r&#34;^0x[0-9a-zA-Z][0-9a-zA-Z]$&#34;, code):
            ord_code = int(code, base=16)
            code = chr(ord_code)
        elif len(code) != 1:
            raise err.ValueError(&#34;Multibase codes must be single-character strings or the hex digits &#39;0xYZ&#39; of a single byte.&#34;)
        if ord(code) not in range(0x00, 0x80):
            raise err.ValueError(&#34;Multibase codes must be ASCII characters.&#34;)
        return code

    @staticmethod
    def _validate_status(status: str) -&gt; Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;]:
        if status not in (&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;):
            raise err.ValueError(f&#34;Invalid multibase encoding status {repr(status)}.&#34;)
        return cast(Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;], status)

    @property
    def code(self) -&gt; str:
        &#34;&#34;&#34;
            Multibase code. Must either have length 1 or satisfy:

            ```py
            re.match(r&#34;^0x$&#34;, code)
            ```
        &#34;&#34;&#34;
        return self._code

    @property
    def code_printable(self) -&gt; str:
        &#34;&#34;&#34;
            Printable version of `Multibase.code`:

            - if the code is a single non-printable ASCII character, returns the hex string of its byte
            - otherwise, returns the code itself

            Example usage:

            ```py
            &gt;&gt;&gt; identity = multibase.get(code=&#34;\\x00&#34;)
            &gt;&gt;&gt; identity.code
            &#39;\\x00&#39;
            &gt;&gt;&gt; identity.code_printable
            &#39;0x00&#39;
            ```
        &#34;&#34;&#34;
        code = self.code
        ord_code = ord(code)
        if ord_code not in range(0x20, 0x7F):
            return &#34;0x&#34;+base16.encode(bytes([ord_code]))
        return code

    @property
    def status(self) -&gt; Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;]:
        &#34;&#34;&#34; Multibase status. Must be &#39;draft&#39;, &#39;candidate&#39; or &#39;default&#39;.&#34;&#34;&#34;
        return self._status

    @property
    def description(self) -&gt; str:
        &#34;&#34;&#34; Multibase description. &#34;&#34;&#34;
        return self._description

    @property
    def name(self) -&gt; str:
        &#34;&#34;&#34;
            Multibase name. Must satisfy the following:

            ```py
            re.match(r&#34;^[a-z][a-z0-9_-]+$&#34;, name)
            ```

            In the [multibase table](https://github.com/multiformats/multibase/raw/master/multibase.csv),
            this is listed under `encoding`.
        &#34;&#34;&#34;
        return self._name

    @property
    def raw_encoder(self) -&gt; RawEncoder:
        &#34;&#34;&#34;
            Returns the raw encoder for this encoding:
            given bytes, it produces the encoded string without the multibase prefix.
        &#34;&#34;&#34;
        enc = raw.get(self.name)
        if enc is None:
            raise NotImplementedError(f&#34;Multibase/decoding for {repr(self.name)} is not yet implemented.&#34;)
        return enc.encode

    @property
    def raw_decoder(self) -&gt; RawDecoder:
        &#34;&#34;&#34;
            Returns the raw encoder for this encoding:
            given a string without the multibase prefix, it produces the decoded data.
        &#34;&#34;&#34;
        enc = raw.get(self.name)
        if enc is None:
            raise NotImplementedError(f&#34;Multibase/decoding for {repr(self.name)} is not yet implemented.&#34;)
        return enc.decode

    def encode(self, data: BytesLike) -&gt; str:
        &#34;&#34;&#34;
            Encodes bytes into a multibase string: it first uses `Multibase.raw_encoder`,
            and then prepends the multibase prefix given by `Multibase.code` and returns
            the resulting multibase string.

            Example usage:

            ```py
            &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
            &gt;&gt;&gt; base32.encode(b&#34;Hello World!&#34;)
            &#39;bjbswy3dpeblw64tmmqqq&#39;
            ```
        &#34;&#34;&#34;
        return self.code+self.raw_encoder(data)

    def decode(self, string: str) -&gt; bytes:
        &#34;&#34;&#34;
            Decodes a multibase string into bytes: it first checks that the multibase
            prefix matches the value specified by `Multibase.code`, then uses
            `Multibase.raw_encoder` on the string without prefix and returns the bytes.

            Example usage:

            ```py
            &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
            &gt;&gt;&gt; base32.decode(&#34;bjbswy3dpeblw64tmmqqq&#34;)
            b&#39;Hello World!&#39;
            ```
        &#34;&#34;&#34;
        encoding = from_str(string)
        if encoding != self:
            raise err.ValueError(f&#34;Expected {repr(self.name)} encoding, &#34;
                             f&#34;found {repr(encoding.name)} encoding instead.&#34;)
        return self.raw_decoder(string[1:])

    def to_json(self) -&gt; Mapping[str, str]:
        &#34;&#34;&#34;
            Returns a JSON dictionary representation of this `Multibase` object.

            Example usage:

            ```py
            &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
            &gt;&gt;&gt; base32.to_json()
            {&#39;name&#39;: &#39;base32&#39;, &#39;code&#39;: &#39;b&#39;,
             &#39;status&#39;: &#39;default&#39;,
             &#39;description&#39;: &#39;rfc4648 case-insensitive - no padding&#39;}
            ```
        &#34;&#34;&#34;
        return {
            &#34;name&#34;: self.name,
            &#34;code&#34;: self.code_printable,
            &#34;status&#34;: self.status,
            &#34;description&#34;: self.description
        }

    def __str__(self) -&gt; str:
        if exists(self.name) and get(self.name) == self:
            return f&#34;multibase.get({repr(self.name)})&#34;
        return repr(self)

    def __repr__(self) -&gt; str:
        return f&#34;Multibase({&#39;, &#39;.join(f&#39;{k}={repr(v)}&#39; for k, v in self.to_json().items())})&#34;

    @property
    def _as_tuple(self) -&gt; Tuple[Type[&#34;Multibase&#34;], str, str, Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;]]:
        return (Multibase, self.name, self.code, self.status)

    def __hash__(self) -&gt; int:
        return hash(self._as_tuple)

    def __eq__(self, other: Any) -&gt; bool:
        if self is other:
            return True
        if not isinstance(other, Multibase):
            return NotImplemented
        return self._as_tuple == other._as_tuple


def get(name: Optional[str] = None, *, code: Optional[str] = None) -&gt; Multibase:
    &#34;&#34;&#34;
        Gets the multibase encoding with given name or multibase code. Exactly one
        of `name` or `code` must be passed:

        - `name` can be passed as either a positional or keyword argument
        - `code` must be passed as a keyword argument

        Raises `err.ValueError` if the empty string is passed. Raises `err.KeyError` if no such encoding exists.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.get(&#34;base8&#34;)
        Multibase(encoding=&#39;base8&#39;, code=&#39;7&#39;,
                  status=&#39;draft&#39;, description=&#39;octal&#39;)
        &gt;&gt;&gt; multibase.get(name=&#34;base8&#34;)
        Multibase(encoding=&#39;base8&#39;, code=&#39;7&#39;,
                  status=&#39;draft&#39;, description=&#39;octal&#39;)
        &gt;&gt;&gt; multibase.get(code=&#34;t&#34;)
        Multibase(encoding=&#39;base32hexpad&#39;, code=&#39;t&#39;, status=&#39;candidate&#39;,
                  description=&#39;rfc4648 case-insensitive - with padding&#39;)
        ```
    &#34;&#34;&#34;
    validate(name, Optional[str])
    validate(code, Optional[str])
    if (name is None) == (code is None):
        raise err.ValueError(&#34;Must specify exactly one between encoding name and code.&#34;)
    if code is not None:
        if code not in _code_table:
            raise err.KeyError(f&#34;No multibase encoding with code {repr(code)}.&#34;)
        return _code_table[code]
    if name not in _name_table:
        raise err.KeyError(f&#34;No multibase encoding named {repr(name)}.&#34;)
    return _name_table[name]


def exists(name: Optional[str] = None, *, code: Optional[str] = None) -&gt; bool:
    &#34;&#34;&#34;
        Checks whether a multibase encoding with given name or code exists. Exactly one
        of `name` or `code` must be passed:

        - `name` can be passed as either a positional or keyword argument
        - `code` must be passed as a keyword argument

        Raises `err.ValueError` if the empty string is passed.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.exists(&#34;base8&#34;)
        True
        &gt;&gt;&gt; multibase.exists(code=&#34;t&#34;)
        True
        ```
    &#34;&#34;&#34;
    validate(name, Optional[str])
    validate(code, Optional[str])
    if (name is None) == (code is None):
        raise err.ValueError(&#34;Must specify exactly one between encoding name and code.&#34;)
    if code is not None:
        code = Multibase.validate_code(code)
        return code in _code_table
    return name in _name_table


def register(enc: Multibase, *, overwrite: bool = False) -&gt; None:
    &#34;&#34;&#34;
        Registers a given multibase encoding. The optional keyword argument `overwrite` (default: `False`)
        can be used to overwrite a multibase encoding with existing code.

        When `overwrite` is `False`, raises `err.ValueError` if a multibase encoding with the same name or code already exists.
        When `overwrite` is `True`, raises `err.ValueError` if a multibase encoding with the same name but different code already exists.

        Example usage:

        ```py
        &gt;&gt;&gt; base45 = Multibase(name=&#34;base45&#34;, code=&#34;:&#34;,
                               status=&#34;draft&#34;, description=&#34;base45 encoding&#34;)
        &gt;&gt;&gt; multibase.register(base45)
        &gt;&gt;&gt; multibase.get(&#34;base45&#34;)
        Multibase(encoding=&#39;base45&#39;, code=&#39;:&#39;, status=&#39;draft&#39;,
                  description=&#39;base45 encoding&#39;)
        ```
    &#34;&#34;&#34;
    validate(enc, Multibase)
    validate(overwrite, bool)
    if not overwrite and enc.code in _code_table:
        raise err.ValueError(f&#34;Multibase encoding with code {repr(enc.code)} already exists: {_code_table[enc.code]}&#34;)
    if enc.name in _name_table and _name_table[enc.name].code != enc.code:
        raise err.ValueError(f&#34;Multibase encoding with name {repr(enc.name)} already exists: {_name_table[enc.name]}&#34;)
    _code_table[enc.code] = enc
    _name_table[enc.name] = enc


def validate_multibase(multibase: Multibase) -&gt; None:
    &#34;&#34;&#34;
        Validates a multibase:

        - raises `err.KeyError` if no multibase with the given name is registered
        - raises `err.ValueError` if a multibase with the given name is registered, but is different from the one given
        - raises no error if the given multibase is registered
    &#34;&#34;&#34;
    validate(multibase, Multibase)
    mc = get(multibase.name)
    if mc != multibase:
        raise err.ValueError(f&#34;Multibase named {multibase.name} exists, but is not the one given.&#34;)


def unregister(name: Optional[str] = None, *, code: Optional[str] = None) -&gt; None:
    &#34;&#34;&#34;
        Unregisters the multibase encoding with given name (if a string is passed) or code (if an int is passed).
        Raises `err.KeyError` if no such multibase encoding exists.

        Example usage:

        ```py
        &gt;&gt;&gt; base45 = Multibase(name=&#34;base45&#34;, code=&#34;:&#34;,
                               status=&#34;draft&#34;, description=&#34;base45 encoding&#34;)
        &gt;&gt;&gt; multibase.register(base45)
        &gt;&gt;&gt; multibase.get(&#34;base45&#34;)
        Multibase(encoding=&#39;base45&#39;, code=&#39;:&#39;, status=&#39;draft&#39;,
                  description=&#39;base45 encoding&#39;)
        &gt;&gt;&gt; multibase.unregister(code=&#34;:&#34;)
        &gt;&gt;&gt; multibase.exists(&#34;base45&#34;)
        False
        ```
    &#34;&#34;&#34;
    enc = get(name=name, code=code)
    del _code_table[enc.code]
    del _name_table[enc.name]


def table() -&gt; Iterator[Multibase]:
    &#34;&#34;&#34;
        Iterates through the registered encodings, in order of ascending code.

        Example usage:

        ```py
        &gt;&gt;&gt; [e.code for e in multibase.table()]
        [&#39;\\x00&#39;, &#39;0&#39;, &#39;7&#39;, &#39;9&#39;, &#39;B&#39;, &#39;C&#39;, &#39;F&#39;, &#39;K&#39;, &#39;M&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;,
         &#39;Z&#39;,&#39;b&#39;, &#39;c&#39;, &#39;f&#39;, &#39;h&#39;, &#39;k&#39;, &#39;m&#39;, &#39;p&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;z&#39;]
        ```
    &#34;&#34;&#34;
    for code in sorted(_code_table.keys()):
        yield _code_table[code]


def from_str(string: str) -&gt; Multibase:
    &#34;&#34;&#34;
        Returns the multibase encoding for the given string, according to the code specified by its prefix.
        Raises `err.ValueError` if the empty string is passed.
        Raises `err.KeyError` if no encoding exists with that code.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.from_str(&#34;mSGVsbG8gd29ybGQh&#34;)
        Multibase(encoding=&#39;base64&#39;, code=&#39;m&#39;, status=&#39;default&#39;,
                  description=&#39;rfc4648 no padding&#39;)
        ```
    &#34;&#34;&#34;
    validate(string, str)
    if len(string) == 0:
        raise err.ValueError(&#34;Empty string is not valid for encoded data.&#34;)
    if string[0] in _code_table:
        return _code_table[string[0]]
    for code in _code_table:
        if string.startswith(code):
            return get(code=code)
    raise err.KeyError(&#34;No known multibase code is a prefix of the given string.&#34;)


def encode(data: BytesLike, enc: Union[str, &#34;Multibase&#34;]) -&gt; str:
    &#34;&#34;&#34;
        Encodes the given bytes into a multibase string using the given encoding.
        If the encoding is passed by name or code (i.e. as a string), the `get`
        function is used to retrieve it. Multibase encoding is performed by `Multibase.encode`.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.encode(b&#34;Hello world!&#34;, &#34;base64&#34;)
        &#39;mSGVsbG8gd29ybGQh&#39;
        ```
    &#34;&#34;&#34;
    validate(enc, Union[str, &#34;Multibase&#34;])
    if isinstance(enc, str):
        enc = get(enc)
    return enc.encode(data)


def decode(string: str) -&gt; bytes:
    &#34;&#34;&#34;
        Decodes the given multibase string into bytes.
        The encoding is inferred using the `from_str` function.
        Decoding is then performed by `Multibase.decode`.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.decode(&#34;mSGVsbG8gd29ybGQh&#34;)
        b&#39;Hello world!&#39;
        ```
    &#34;&#34;&#34;
    enc = from_str(string)
    return enc.decode(string)


def decode_raw(string: str) -&gt; Tuple[Multibase, bytes]:
    &#34;&#34;&#34;
        Similar to `decode`, but returns a `(base, bytestr)` pair
        of the multibase and decoded bytestring.

        Example usage:

        ```py
        &gt;&gt;&gt; base, bytestr = multibase.decode_raw(&#34;mSGVsbG8gd29ybGQh&#34;)
        &gt;&gt;&gt; base
        Multibase(name=&#39;base64&#39;, code=&#39;m&#39;,
                  status=&#39;default&#39;, description=&#39;rfc4648 no padding&#39;)
        &gt;&gt;&gt; bytestr
        b&#39;Hello world!&#39;
        ```
    &#34;&#34;&#34;
    enc = from_str(string)
    return enc, enc.decode(string)


def build_multibase_tables(encodings: Iterable[Multibase]) -&gt; Tuple[Dict[str, Multibase], Dict[str, Multibase]]:
    &#34;&#34;&#34;
        Creates code-&gt;encoding and name-&gt;encoding mappings from a finite iterable of encodings, returning the mappings.

        Raises `err.ValueError` if the same encoding code or name is encountered multiple times

        Example usage:

        ```py
            code_table, name_table = build_multicodec_tables(encodings)
        ```
    &#34;&#34;&#34;
    # validate(multicodecs, Iterable[Multicodec]) # TODO: not yet properly supported by typing-validation
    code_table: Dict[str, Multibase] = {}
    name_table: Dict[str, Multibase] = {}
    for e in encodings:
        if e.code in code_table:
            raise err.ValueError(f&#34;Multicodec name {e.name} appears multiple times in table.&#34;)
        code_table[e.code] = e
        if e.name in name_table:
            raise err.ValueError(f&#34;Multicodec name {e.name} appears multiple times in table.&#34;)
        name_table[e.name] = e
    return code_table, name_table

# Create the global code-&gt;multibase and name-&gt;multibase mappings.
_code_table: Dict[str, Multibase]
_name_table: Dict[str, Multibase]
with importlib_resources.open_text(&#34;multiformats.multibase&#34;, &#34;multibase-table.json&#34;) as table_f:
    table_json = json.load(table_f)
    _code_table, _name_table = build_multibase_tables(Multibase(**row) for row in table_json)

# additional docs info
__pdoc__ = {
    &#34;build_multibase_tables&#34;: False # exclude from docs
}</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="multiformats.multibase.err" href="err.html">multiformats.multibase.err</a></code></dt>
<dd>
<div class="desc"><p>Errors for the <code><a title="multiformats.multibase" href="#multiformats.multibase">multiformats.multibase</a></code> module.</p></div>
</dd>
<dt><code class="name"><a title="multiformats.multibase.raw" href="raw.html">multiformats.multibase.raw</a></code></dt>
<dd>
<div class="desc"><p>Implementation of raw data encodings used by multibase encodings â€¦</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="multiformats.multibase.decode"><code class="name flex">
<span>def <span class="ident">decode</span></span>(<span>string:Â str) â€‘>Â bytes</span>
</code></dt>
<dd>
<div class="desc"><p>Decodes the given multibase string into bytes.
The encoding is inferred using the <code><a title="multiformats.multibase.from_str" href="#multiformats.multibase.from_str">from_str()</a></code> function.
Decoding is then performed by <code><a title="multiformats.multibase.Multibase.decode" href="#multiformats.multibase.Multibase.decode">Multibase.decode()</a></code>.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; multibase.decode(&quot;mSGVsbG8gd29ybGQh&quot;)
b'Hello world!'
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def decode(string: str) -&gt; bytes:
    &#34;&#34;&#34;
        Decodes the given multibase string into bytes.
        The encoding is inferred using the `from_str` function.
        Decoding is then performed by `Multibase.decode`.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.decode(&#34;mSGVsbG8gd29ybGQh&#34;)
        b&#39;Hello world!&#39;
        ```
    &#34;&#34;&#34;
    enc = from_str(string)
    return enc.decode(string)</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.decode_raw"><code class="name flex">
<span>def <span class="ident">decode_raw</span></span>(<span>string:Â str) â€‘>Â Tuple[<a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a>,Â bytes]</span>
</code></dt>
<dd>
<div class="desc"><p>Similar to <code><a title="multiformats.multibase.decode" href="#multiformats.multibase.decode">decode()</a></code>, but returns a <code>(base, bytestr)</code> pair
of the multibase and decoded bytestring.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; base, bytestr = multibase.decode_raw(&quot;mSGVsbG8gd29ybGQh&quot;)
&gt;&gt;&gt; base
Multibase(name='base64', code='m',
          status='default', description='rfc4648 no padding')
&gt;&gt;&gt; bytestr
b'Hello world!'
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def decode_raw(string: str) -&gt; Tuple[Multibase, bytes]:
    &#34;&#34;&#34;
        Similar to `decode`, but returns a `(base, bytestr)` pair
        of the multibase and decoded bytestring.

        Example usage:

        ```py
        &gt;&gt;&gt; base, bytestr = multibase.decode_raw(&#34;mSGVsbG8gd29ybGQh&#34;)
        &gt;&gt;&gt; base
        Multibase(name=&#39;base64&#39;, code=&#39;m&#39;,
                  status=&#39;default&#39;, description=&#39;rfc4648 no padding&#39;)
        &gt;&gt;&gt; bytestr
        b&#39;Hello world!&#39;
        ```
    &#34;&#34;&#34;
    enc = from_str(string)
    return enc, enc.decode(string)</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.encode"><code class="name flex">
<span>def <span class="ident">encode</span></span>(<span>data:Â Union[bytes,Â bytearray,Â memoryview], enc:Â Union[str,Â ForwardRef('<a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a>')]) â€‘>Â str</span>
</code></dt>
<dd>
<div class="desc"><p>Encodes the given bytes into a multibase string using the given encoding.
If the encoding is passed by name or code (i.e. as a string), the <code><a title="multiformats.multibase.get" href="#multiformats.multibase.get">get()</a></code>
function is used to retrieve it. Multibase encoding is performed by <code><a title="multiformats.multibase.Multibase.encode" href="#multiformats.multibase.Multibase.encode">Multibase.encode()</a></code>.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; multibase.encode(b&quot;Hello world!&quot;, &quot;base64&quot;)
'mSGVsbG8gd29ybGQh'
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def encode(data: BytesLike, enc: Union[str, &#34;Multibase&#34;]) -&gt; str:
    &#34;&#34;&#34;
        Encodes the given bytes into a multibase string using the given encoding.
        If the encoding is passed by name or code (i.e. as a string), the `get`
        function is used to retrieve it. Multibase encoding is performed by `Multibase.encode`.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.encode(b&#34;Hello world!&#34;, &#34;base64&#34;)
        &#39;mSGVsbG8gd29ybGQh&#39;
        ```
    &#34;&#34;&#34;
    validate(enc, Union[str, &#34;Multibase&#34;])
    if isinstance(enc, str):
        enc = get(enc)
    return enc.encode(data)</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.exists"><code class="name flex">
<span>def <span class="ident">exists</span></span>(<span>name:Â Optional[str]Â =Â None, *, code:Â Optional[str]Â =Â None) â€‘>Â bool</span>
</code></dt>
<dd>
<div class="desc"><p>Checks whether a multibase encoding with given name or code exists. Exactly one
of <code>name</code> or <code>code</code> must be passed:</p>
<ul>
<li><code>name</code> can be passed as either a positional or keyword argument</li>
<li><code>code</code> must be passed as a keyword argument</li>
</ul>
<p>Raises <code><a title="multiformats.multibase.err.ValueError" href="err.html#multiformats.multibase.err.ValueError">ValueError</a></code> if the empty string is passed.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; multibase.exists(&quot;base8&quot;)
True
&gt;&gt;&gt; multibase.exists(code=&quot;t&quot;)
True
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def exists(name: Optional[str] = None, *, code: Optional[str] = None) -&gt; bool:
    &#34;&#34;&#34;
        Checks whether a multibase encoding with given name or code exists. Exactly one
        of `name` or `code` must be passed:

        - `name` can be passed as either a positional or keyword argument
        - `code` must be passed as a keyword argument

        Raises `err.ValueError` if the empty string is passed.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.exists(&#34;base8&#34;)
        True
        &gt;&gt;&gt; multibase.exists(code=&#34;t&#34;)
        True
        ```
    &#34;&#34;&#34;
    validate(name, Optional[str])
    validate(code, Optional[str])
    if (name is None) == (code is None):
        raise err.ValueError(&#34;Must specify exactly one between encoding name and code.&#34;)
    if code is not None:
        code = Multibase.validate_code(code)
        return code in _code_table
    return name in _name_table</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.from_str"><code class="name flex">
<span>def <span class="ident">from_str</span></span>(<span>string:Â str) â€‘>Â <a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a></span>
</code></dt>
<dd>
<div class="desc"><p>Returns the multibase encoding for the given string, according to the code specified by its prefix.
Raises <code><a title="multiformats.multibase.err.ValueError" href="err.html#multiformats.multibase.err.ValueError">ValueError</a></code> if the empty string is passed.
Raises <code><a title="multiformats.multibase.err.KeyError" href="err.html#multiformats.multibase.err.KeyError">KeyError</a></code> if no encoding exists with that code.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; multibase.from_str(&quot;mSGVsbG8gd29ybGQh&quot;)
Multibase(encoding='base64', code='m', status='default',
          description='rfc4648 no padding')
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def from_str(string: str) -&gt; Multibase:
    &#34;&#34;&#34;
        Returns the multibase encoding for the given string, according to the code specified by its prefix.
        Raises `err.ValueError` if the empty string is passed.
        Raises `err.KeyError` if no encoding exists with that code.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.from_str(&#34;mSGVsbG8gd29ybGQh&#34;)
        Multibase(encoding=&#39;base64&#39;, code=&#39;m&#39;, status=&#39;default&#39;,
                  description=&#39;rfc4648 no padding&#39;)
        ```
    &#34;&#34;&#34;
    validate(string, str)
    if len(string) == 0:
        raise err.ValueError(&#34;Empty string is not valid for encoded data.&#34;)
    if string[0] in _code_table:
        return _code_table[string[0]]
    for code in _code_table:
        if string.startswith(code):
            return get(code=code)
    raise err.KeyError(&#34;No known multibase code is a prefix of the given string.&#34;)</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>name:Â Optional[str]Â =Â None, *, code:Â Optional[str]Â =Â None) â€‘>Â <a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a></span>
</code></dt>
<dd>
<div class="desc"><p>Gets the multibase encoding with given name or multibase code. Exactly one
of <code>name</code> or <code>code</code> must be passed:</p>
<ul>
<li><code>name</code> can be passed as either a positional or keyword argument</li>
<li><code>code</code> must be passed as a keyword argument</li>
</ul>
<p>Raises <code><a title="multiformats.multibase.err.ValueError" href="err.html#multiformats.multibase.err.ValueError">ValueError</a></code> if the empty string is passed. Raises <code><a title="multiformats.multibase.err.KeyError" href="err.html#multiformats.multibase.err.KeyError">KeyError</a></code> if no such encoding exists.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; multibase.get(&quot;base8&quot;)
Multibase(encoding='base8', code='7',
          status='draft', description='octal')
&gt;&gt;&gt; multibase.get(name=&quot;base8&quot;)
Multibase(encoding='base8', code='7',
          status='draft', description='octal')
&gt;&gt;&gt; multibase.get(code=&quot;t&quot;)
Multibase(encoding='base32hexpad', code='t', status='candidate',
          description='rfc4648 case-insensitive - with padding')
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(name: Optional[str] = None, *, code: Optional[str] = None) -&gt; Multibase:
    &#34;&#34;&#34;
        Gets the multibase encoding with given name or multibase code. Exactly one
        of `name` or `code` must be passed:

        - `name` can be passed as either a positional or keyword argument
        - `code` must be passed as a keyword argument

        Raises `err.ValueError` if the empty string is passed. Raises `err.KeyError` if no such encoding exists.

        Example usage:

        ```py
        &gt;&gt;&gt; multibase.get(&#34;base8&#34;)
        Multibase(encoding=&#39;base8&#39;, code=&#39;7&#39;,
                  status=&#39;draft&#39;, description=&#39;octal&#39;)
        &gt;&gt;&gt; multibase.get(name=&#34;base8&#34;)
        Multibase(encoding=&#39;base8&#39;, code=&#39;7&#39;,
                  status=&#39;draft&#39;, description=&#39;octal&#39;)
        &gt;&gt;&gt; multibase.get(code=&#34;t&#34;)
        Multibase(encoding=&#39;base32hexpad&#39;, code=&#39;t&#39;, status=&#39;candidate&#39;,
                  description=&#39;rfc4648 case-insensitive - with padding&#39;)
        ```
    &#34;&#34;&#34;
    validate(name, Optional[str])
    validate(code, Optional[str])
    if (name is None) == (code is None):
        raise err.ValueError(&#34;Must specify exactly one between encoding name and code.&#34;)
    if code is not None:
        if code not in _code_table:
            raise err.KeyError(f&#34;No multibase encoding with code {repr(code)}.&#34;)
        return _code_table[code]
    if name not in _name_table:
        raise err.KeyError(f&#34;No multibase encoding named {repr(name)}.&#34;)
    return _name_table[name]</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.register"><code class="name flex">
<span>def <span class="ident">register</span></span>(<span>enc:Â <a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a>, *, overwrite:Â boolÂ =Â False) â€‘>Â None</span>
</code></dt>
<dd>
<div class="desc"><p>Registers a given multibase encoding. The optional keyword argument <code>overwrite</code> (default: <code>False</code>)
can be used to overwrite a multibase encoding with existing code.</p>
<p>When <code>overwrite</code> is <code>False</code>, raises <code><a title="multiformats.multibase.err.ValueError" href="err.html#multiformats.multibase.err.ValueError">ValueError</a></code> if a multibase encoding with the same name or code already exists.
When <code>overwrite</code> is <code>True</code>, raises <code><a title="multiformats.multibase.err.ValueError" href="err.html#multiformats.multibase.err.ValueError">ValueError</a></code> if a multibase encoding with the same name but different code already exists.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; base45 = Multibase(name=&quot;base45&quot;, code=&quot;:&quot;,
                       status=&quot;draft&quot;, description=&quot;base45 encoding&quot;)
&gt;&gt;&gt; multibase.register(base45)
&gt;&gt;&gt; multibase.get(&quot;base45&quot;)
Multibase(encoding='base45', code=':', status='draft',
          description='base45 encoding')
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def register(enc: Multibase, *, overwrite: bool = False) -&gt; None:
    &#34;&#34;&#34;
        Registers a given multibase encoding. The optional keyword argument `overwrite` (default: `False`)
        can be used to overwrite a multibase encoding with existing code.

        When `overwrite` is `False`, raises `err.ValueError` if a multibase encoding with the same name or code already exists.
        When `overwrite` is `True`, raises `err.ValueError` if a multibase encoding with the same name but different code already exists.

        Example usage:

        ```py
        &gt;&gt;&gt; base45 = Multibase(name=&#34;base45&#34;, code=&#34;:&#34;,
                               status=&#34;draft&#34;, description=&#34;base45 encoding&#34;)
        &gt;&gt;&gt; multibase.register(base45)
        &gt;&gt;&gt; multibase.get(&#34;base45&#34;)
        Multibase(encoding=&#39;base45&#39;, code=&#39;:&#39;, status=&#39;draft&#39;,
                  description=&#39;base45 encoding&#39;)
        ```
    &#34;&#34;&#34;
    validate(enc, Multibase)
    validate(overwrite, bool)
    if not overwrite and enc.code in _code_table:
        raise err.ValueError(f&#34;Multibase encoding with code {repr(enc.code)} already exists: {_code_table[enc.code]}&#34;)
    if enc.name in _name_table and _name_table[enc.name].code != enc.code:
        raise err.ValueError(f&#34;Multibase encoding with name {repr(enc.name)} already exists: {_name_table[enc.name]}&#34;)
    _code_table[enc.code] = enc
    _name_table[enc.name] = enc</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.table"><code class="name flex">
<span>def <span class="ident">table</span></span>(<span>) â€‘>Â Iterator[<a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>Iterates through the registered encodings, in order of ascending code.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; [e.code for e in multibase.table()]
['\x00', '0', '7', '9', 'B', 'C', 'F', 'K', 'M', 'T', 'U', 'V',
 'Z','b', 'c', 'f', 'h', 'k', 'm', 'p', 't', 'u', 'v', 'z']
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def table() -&gt; Iterator[Multibase]:
    &#34;&#34;&#34;
        Iterates through the registered encodings, in order of ascending code.

        Example usage:

        ```py
        &gt;&gt;&gt; [e.code for e in multibase.table()]
        [&#39;\\x00&#39;, &#39;0&#39;, &#39;7&#39;, &#39;9&#39;, &#39;B&#39;, &#39;C&#39;, &#39;F&#39;, &#39;K&#39;, &#39;M&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;,
         &#39;Z&#39;,&#39;b&#39;, &#39;c&#39;, &#39;f&#39;, &#39;h&#39;, &#39;k&#39;, &#39;m&#39;, &#39;p&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;z&#39;]
        ```
    &#34;&#34;&#34;
    for code in sorted(_code_table.keys()):
        yield _code_table[code]</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.unregister"><code class="name flex">
<span>def <span class="ident">unregister</span></span>(<span>name:Â Optional[str]Â =Â None, *, code:Â Optional[str]Â =Â None) â€‘>Â None</span>
</code></dt>
<dd>
<div class="desc"><p>Unregisters the multibase encoding with given name (if a string is passed) or code (if an int is passed).
Raises <code><a title="multiformats.multibase.err.KeyError" href="err.html#multiformats.multibase.err.KeyError">KeyError</a></code> if no such multibase encoding exists.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; base45 = Multibase(name=&quot;base45&quot;, code=&quot;:&quot;,
                       status=&quot;draft&quot;, description=&quot;base45 encoding&quot;)
&gt;&gt;&gt; multibase.register(base45)
&gt;&gt;&gt; multibase.get(&quot;base45&quot;)
Multibase(encoding='base45', code=':', status='draft',
          description='base45 encoding')
&gt;&gt;&gt; multibase.unregister(code=&quot;:&quot;)
&gt;&gt;&gt; multibase.exists(&quot;base45&quot;)
False
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def unregister(name: Optional[str] = None, *, code: Optional[str] = None) -&gt; None:
    &#34;&#34;&#34;
        Unregisters the multibase encoding with given name (if a string is passed) or code (if an int is passed).
        Raises `err.KeyError` if no such multibase encoding exists.

        Example usage:

        ```py
        &gt;&gt;&gt; base45 = Multibase(name=&#34;base45&#34;, code=&#34;:&#34;,
                               status=&#34;draft&#34;, description=&#34;base45 encoding&#34;)
        &gt;&gt;&gt; multibase.register(base45)
        &gt;&gt;&gt; multibase.get(&#34;base45&#34;)
        Multibase(encoding=&#39;base45&#39;, code=&#39;:&#39;, status=&#39;draft&#39;,
                  description=&#39;base45 encoding&#39;)
        &gt;&gt;&gt; multibase.unregister(code=&#34;:&#34;)
        &gt;&gt;&gt; multibase.exists(&#34;base45&#34;)
        False
        ```
    &#34;&#34;&#34;
    enc = get(name=name, code=code)
    del _code_table[enc.code]
    del _name_table[enc.name]</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.validate_multibase"><code class="name flex">
<span>def <span class="ident">validate_multibase</span></span>(<span>multibase:Â <a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a>) â€‘>Â None</span>
</code></dt>
<dd>
<div class="desc"><p>Validates a multibase:</p>
<ul>
<li>raises <code><a title="multiformats.multibase.err.KeyError" href="err.html#multiformats.multibase.err.KeyError">KeyError</a></code> if no multibase with the given name is registered</li>
<li>raises <code><a title="multiformats.multibase.err.ValueError" href="err.html#multiformats.multibase.err.ValueError">ValueError</a></code> if a multibase with the given name is registered, but is different from the one given</li>
<li>raises no error if the given multibase is registered</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def validate_multibase(multibase: Multibase) -&gt; None:
    &#34;&#34;&#34;
        Validates a multibase:

        - raises `err.KeyError` if no multibase with the given name is registered
        - raises `err.ValueError` if a multibase with the given name is registered, but is different from the one given
        - raises no error if the given multibase is registered
    &#34;&#34;&#34;
    validate(multibase, Multibase)
    mc = get(multibase.name)
    if mc != multibase:
        raise err.ValueError(f&#34;Multibase named {multibase.name} exists, but is not the one given.&#34;)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="multiformats.multibase.Multibase"><code class="flex name class">
<span>class <span class="ident">Multibase</span></span>
<span>(</span><span>*, name:Â str, code:Â str, status:Â strÂ =Â 'draft', description:Â strÂ =Â '')</span>
</code></dt>
<dd>
<div class="desc"><p>Container class for a multibase encoding.</p>
<p>Example usage:</p>
<pre><code class="language-py">    Multibase(name=&quot;base16&quot;, code=&quot;f&quot;,
              status=&quot;default&quot;, description=&quot;hexadecimal&quot;)
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Multibase:
    &#34;&#34;&#34;
        Container class for a multibase encoding.

        Example usage:

        ```py
            Multibase(name=&#34;base16&#34;, code=&#34;f&#34;,
                      status=&#34;default&#34;, description=&#34;hexadecimal&#34;)
        ```
    &#34;&#34;&#34;

    _name: str
    _code: str
    _status: Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;]
    _description: str

    __slots__ = (&#34;__weakref__&#34;, &#34;_name&#34;, &#34;_code&#34;, &#34;_status&#34;, &#34;_description&#34;)

    def __init__(self, *,
                 name: str,
                 code: str,
                 status: str = &#34;draft&#34;,
                 description: str = &#34;&#34;
                ):
        for arg in (name, code, status, description):
            validate(arg, str)
        name = Multibase._validate_name(name)
        code = Multibase.validate_code(code)
        status = Multibase._validate_status(status)
        self._name = name
        self._code = code
        self._status = status
        self._description = description

    @staticmethod
    def _validate_name(name: Optional[str]) -&gt; str:
        validate(name, Optional[str])
        assert name is not None
        if not re.match(r&#34;^[a-z][a-z0-9_-]+$&#34;, name): # ensures len(name) &gt; 1
            raise err.ValueError(f&#34;Invalid multibase encoding name {repr(name)}&#34;)
        return name

    @staticmethod
    def validate_code(code: str) -&gt; str:
        &#34;&#34;&#34;
            Validates a multibase code and transforms it to single-character format (if in hex format).

            Example usage:

            ```py
            &gt;&gt;&gt; Multibase.validate_code(&#34;0x00&#34;)
            &#39;\\x00&#39;
            &gt;&gt;&gt; Multibase.validate_code(&#34;hi&#34;)
            err.ValueError: Multibase codes must be single-character strings
            or the hex digits &#39;0xYZ&#39; of a single byte.
            ```
        &#34;&#34;&#34;
        validate(code, str)
        if re.match(r&#34;^0x[0-9a-zA-Z][0-9a-zA-Z]$&#34;, code):
            ord_code = int(code, base=16)
            code = chr(ord_code)
        elif len(code) != 1:
            raise err.ValueError(&#34;Multibase codes must be single-character strings or the hex digits &#39;0xYZ&#39; of a single byte.&#34;)
        if ord(code) not in range(0x00, 0x80):
            raise err.ValueError(&#34;Multibase codes must be ASCII characters.&#34;)
        return code

    @staticmethod
    def _validate_status(status: str) -&gt; Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;]:
        if status not in (&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;):
            raise err.ValueError(f&#34;Invalid multibase encoding status {repr(status)}.&#34;)
        return cast(Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;], status)

    @property
    def code(self) -&gt; str:
        &#34;&#34;&#34;
            Multibase code. Must either have length 1 or satisfy:

            ```py
            re.match(r&#34;^0x$&#34;, code)
            ```
        &#34;&#34;&#34;
        return self._code

    @property
    def code_printable(self) -&gt; str:
        &#34;&#34;&#34;
            Printable version of `Multibase.code`:

            - if the code is a single non-printable ASCII character, returns the hex string of its byte
            - otherwise, returns the code itself

            Example usage:

            ```py
            &gt;&gt;&gt; identity = multibase.get(code=&#34;\\x00&#34;)
            &gt;&gt;&gt; identity.code
            &#39;\\x00&#39;
            &gt;&gt;&gt; identity.code_printable
            &#39;0x00&#39;
            ```
        &#34;&#34;&#34;
        code = self.code
        ord_code = ord(code)
        if ord_code not in range(0x20, 0x7F):
            return &#34;0x&#34;+base16.encode(bytes([ord_code]))
        return code

    @property
    def status(self) -&gt; Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;]:
        &#34;&#34;&#34; Multibase status. Must be &#39;draft&#39;, &#39;candidate&#39; or &#39;default&#39;.&#34;&#34;&#34;
        return self._status

    @property
    def description(self) -&gt; str:
        &#34;&#34;&#34; Multibase description. &#34;&#34;&#34;
        return self._description

    @property
    def name(self) -&gt; str:
        &#34;&#34;&#34;
            Multibase name. Must satisfy the following:

            ```py
            re.match(r&#34;^[a-z][a-z0-9_-]+$&#34;, name)
            ```

            In the [multibase table](https://github.com/multiformats/multibase/raw/master/multibase.csv),
            this is listed under `encoding`.
        &#34;&#34;&#34;
        return self._name

    @property
    def raw_encoder(self) -&gt; RawEncoder:
        &#34;&#34;&#34;
            Returns the raw encoder for this encoding:
            given bytes, it produces the encoded string without the multibase prefix.
        &#34;&#34;&#34;
        enc = raw.get(self.name)
        if enc is None:
            raise NotImplementedError(f&#34;Multibase/decoding for {repr(self.name)} is not yet implemented.&#34;)
        return enc.encode

    @property
    def raw_decoder(self) -&gt; RawDecoder:
        &#34;&#34;&#34;
            Returns the raw encoder for this encoding:
            given a string without the multibase prefix, it produces the decoded data.
        &#34;&#34;&#34;
        enc = raw.get(self.name)
        if enc is None:
            raise NotImplementedError(f&#34;Multibase/decoding for {repr(self.name)} is not yet implemented.&#34;)
        return enc.decode

    def encode(self, data: BytesLike) -&gt; str:
        &#34;&#34;&#34;
            Encodes bytes into a multibase string: it first uses `Multibase.raw_encoder`,
            and then prepends the multibase prefix given by `Multibase.code` and returns
            the resulting multibase string.

            Example usage:

            ```py
            &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
            &gt;&gt;&gt; base32.encode(b&#34;Hello World!&#34;)
            &#39;bjbswy3dpeblw64tmmqqq&#39;
            ```
        &#34;&#34;&#34;
        return self.code+self.raw_encoder(data)

    def decode(self, string: str) -&gt; bytes:
        &#34;&#34;&#34;
            Decodes a multibase string into bytes: it first checks that the multibase
            prefix matches the value specified by `Multibase.code`, then uses
            `Multibase.raw_encoder` on the string without prefix and returns the bytes.

            Example usage:

            ```py
            &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
            &gt;&gt;&gt; base32.decode(&#34;bjbswy3dpeblw64tmmqqq&#34;)
            b&#39;Hello World!&#39;
            ```
        &#34;&#34;&#34;
        encoding = from_str(string)
        if encoding != self:
            raise err.ValueError(f&#34;Expected {repr(self.name)} encoding, &#34;
                             f&#34;found {repr(encoding.name)} encoding instead.&#34;)
        return self.raw_decoder(string[1:])

    def to_json(self) -&gt; Mapping[str, str]:
        &#34;&#34;&#34;
            Returns a JSON dictionary representation of this `Multibase` object.

            Example usage:

            ```py
            &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
            &gt;&gt;&gt; base32.to_json()
            {&#39;name&#39;: &#39;base32&#39;, &#39;code&#39;: &#39;b&#39;,
             &#39;status&#39;: &#39;default&#39;,
             &#39;description&#39;: &#39;rfc4648 case-insensitive - no padding&#39;}
            ```
        &#34;&#34;&#34;
        return {
            &#34;name&#34;: self.name,
            &#34;code&#34;: self.code_printable,
            &#34;status&#34;: self.status,
            &#34;description&#34;: self.description
        }

    def __str__(self) -&gt; str:
        if exists(self.name) and get(self.name) == self:
            return f&#34;multibase.get({repr(self.name)})&#34;
        return repr(self)

    def __repr__(self) -&gt; str:
        return f&#34;Multibase({&#39;, &#39;.join(f&#39;{k}={repr(v)}&#39; for k, v in self.to_json().items())})&#34;

    @property
    def _as_tuple(self) -&gt; Tuple[Type[&#34;Multibase&#34;], str, str, Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;]]:
        return (Multibase, self.name, self.code, self.status)

    def __hash__(self) -&gt; int:
        return hash(self._as_tuple)

    def __eq__(self, other: Any) -&gt; bool:
        if self is other:
            return True
        if not isinstance(other, Multibase):
            return NotImplemented
        return self._as_tuple == other._as_tuple</code></pre>
</details>
<h3>Static methods</h3>
<dl>
<dt id="multiformats.multibase.Multibase.validate_code"><code class="name flex">
<span>def <span class="ident">validate_code</span></span>(<span>code:Â str) â€‘>Â str</span>
</code></dt>
<dd>
<div class="desc"><p>Validates a multibase code and transforms it to single-character format (if in hex format).</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; Multibase.validate_code(&quot;0x00&quot;)
'\x00'
&gt;&gt;&gt; Multibase.validate_code(&quot;hi&quot;)
err.ValueError: Multibase codes must be single-character strings
or the hex digits '0xYZ' of a single byte.
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def validate_code(code: str) -&gt; str:
    &#34;&#34;&#34;
        Validates a multibase code and transforms it to single-character format (if in hex format).

        Example usage:

        ```py
        &gt;&gt;&gt; Multibase.validate_code(&#34;0x00&#34;)
        &#39;\\x00&#39;
        &gt;&gt;&gt; Multibase.validate_code(&#34;hi&#34;)
        err.ValueError: Multibase codes must be single-character strings
        or the hex digits &#39;0xYZ&#39; of a single byte.
        ```
    &#34;&#34;&#34;
    validate(code, str)
    if re.match(r&#34;^0x[0-9a-zA-Z][0-9a-zA-Z]$&#34;, code):
        ord_code = int(code, base=16)
        code = chr(ord_code)
    elif len(code) != 1:
        raise err.ValueError(&#34;Multibase codes must be single-character strings or the hex digits &#39;0xYZ&#39; of a single byte.&#34;)
    if ord(code) not in range(0x00, 0x80):
        raise err.ValueError(&#34;Multibase codes must be ASCII characters.&#34;)
    return code</code></pre>
</details>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="multiformats.multibase.Multibase.code"><code class="name">var <span class="ident">code</span> :Â str</code></dt>
<dd>
<div class="desc"><p>Multibase code. Must either have length 1 or satisfy:</p>
<pre><code class="language-py">re.match(r&quot;^0x$&quot;, code)
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def code(self) -&gt; str:
    &#34;&#34;&#34;
        Multibase code. Must either have length 1 or satisfy:

        ```py
        re.match(r&#34;^0x$&#34;, code)
        ```
    &#34;&#34;&#34;
    return self._code</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.Multibase.code_printable"><code class="name">var <span class="ident">code_printable</span> :Â str</code></dt>
<dd>
<div class="desc"><p>Printable version of <code><a title="multiformats.multibase.Multibase.code" href="#multiformats.multibase.Multibase.code">Multibase.code</a></code>:</p>
<ul>
<li>if the code is a single non-printable ASCII character, returns the hex string of its byte</li>
<li>otherwise, returns the code itself</li>
</ul>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; identity = multibase.get(code=&quot;\x00&quot;)
&gt;&gt;&gt; identity.code
'\x00'
&gt;&gt;&gt; identity.code_printable
'0x00'
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def code_printable(self) -&gt; str:
    &#34;&#34;&#34;
        Printable version of `Multibase.code`:

        - if the code is a single non-printable ASCII character, returns the hex string of its byte
        - otherwise, returns the code itself

        Example usage:

        ```py
        &gt;&gt;&gt; identity = multibase.get(code=&#34;\\x00&#34;)
        &gt;&gt;&gt; identity.code
        &#39;\\x00&#39;
        &gt;&gt;&gt; identity.code_printable
        &#39;0x00&#39;
        ```
    &#34;&#34;&#34;
    code = self.code
    ord_code = ord(code)
    if ord_code not in range(0x20, 0x7F):
        return &#34;0x&#34;+base16.encode(bytes([ord_code]))
    return code</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.Multibase.description"><code class="name">var <span class="ident">description</span> :Â str</code></dt>
<dd>
<div class="desc"><p>Multibase description.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def description(self) -&gt; str:
    &#34;&#34;&#34; Multibase description. &#34;&#34;&#34;
    return self._description</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.Multibase.name"><code class="name">var <span class="ident">name</span> :Â str</code></dt>
<dd>
<div class="desc"><p>Multibase name. Must satisfy the following:</p>
<pre><code class="language-py">re.match(r&quot;^[a-z][a-z0-9_-]+$&quot;, name)
</code></pre>
<p>In the <a href="https://github.com/multiformats/multibase/raw/master/multibase.csv">multibase table</a>,
this is listed under <code>encoding</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def name(self) -&gt; str:
    &#34;&#34;&#34;
        Multibase name. Must satisfy the following:

        ```py
        re.match(r&#34;^[a-z][a-z0-9_-]+$&#34;, name)
        ```

        In the [multibase table](https://github.com/multiformats/multibase/raw/master/multibase.csv),
        this is listed under `encoding`.
    &#34;&#34;&#34;
    return self._name</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.Multibase.raw_decoder"><code class="name">var <span class="ident">raw_decoder</span> :Â Callable[[str],Â bytes]</code></dt>
<dd>
<div class="desc"><p>Returns the raw encoder for this encoding:
given a string without the multibase prefix, it produces the decoded data.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def raw_decoder(self) -&gt; RawDecoder:
    &#34;&#34;&#34;
        Returns the raw encoder for this encoding:
        given a string without the multibase prefix, it produces the decoded data.
    &#34;&#34;&#34;
    enc = raw.get(self.name)
    if enc is None:
        raise NotImplementedError(f&#34;Multibase/decoding for {repr(self.name)} is not yet implemented.&#34;)
    return enc.decode</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.Multibase.raw_encoder"><code class="name">var <span class="ident">raw_encoder</span> :Â Callable[[Union[bytes,Â bytearray,Â memoryview]],Â str]</code></dt>
<dd>
<div class="desc"><p>Returns the raw encoder for this encoding:
given bytes, it produces the encoded string without the multibase prefix.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def raw_encoder(self) -&gt; RawEncoder:
    &#34;&#34;&#34;
        Returns the raw encoder for this encoding:
        given bytes, it produces the encoded string without the multibase prefix.
    &#34;&#34;&#34;
    enc = raw.get(self.name)
    if enc is None:
        raise NotImplementedError(f&#34;Multibase/decoding for {repr(self.name)} is not yet implemented.&#34;)
    return enc.encode</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.Multibase.status"><code class="name">var <span class="ident">status</span> :Â Literal['draft',Â 'candidate',Â 'default']</code></dt>
<dd>
<div class="desc"><p>Multibase status. Must be 'draft', 'candidate' or 'default'.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def status(self) -&gt; Literal[&#34;draft&#34;, &#34;candidate&#34;, &#34;default&#34;]:
    &#34;&#34;&#34; Multibase status. Must be &#39;draft&#39;, &#39;candidate&#39; or &#39;default&#39;.&#34;&#34;&#34;
    return self._status</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="multiformats.multibase.Multibase.decode"><code class="name flex">
<span>def <span class="ident">decode</span></span>(<span>self, string:Â str) â€‘>Â bytes</span>
</code></dt>
<dd>
<div class="desc"><p>Decodes a multibase string into bytes: it first checks that the multibase
prefix matches the value specified by <code><a title="multiformats.multibase.Multibase.code" href="#multiformats.multibase.Multibase.code">Multibase.code</a></code>, then uses
<code><a title="multiformats.multibase.Multibase.raw_encoder" href="#multiformats.multibase.Multibase.raw_encoder">Multibase.raw_encoder</a></code> on the string without prefix and returns the bytes.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; base32 = multibase.get(&quot;base32&quot;)
&gt;&gt;&gt; base32.decode(&quot;bjbswy3dpeblw64tmmqqq&quot;)
b'Hello World!'
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def decode(self, string: str) -&gt; bytes:
    &#34;&#34;&#34;
        Decodes a multibase string into bytes: it first checks that the multibase
        prefix matches the value specified by `Multibase.code`, then uses
        `Multibase.raw_encoder` on the string without prefix and returns the bytes.

        Example usage:

        ```py
        &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
        &gt;&gt;&gt; base32.decode(&#34;bjbswy3dpeblw64tmmqqq&#34;)
        b&#39;Hello World!&#39;
        ```
    &#34;&#34;&#34;
    encoding = from_str(string)
    if encoding != self:
        raise err.ValueError(f&#34;Expected {repr(self.name)} encoding, &#34;
                         f&#34;found {repr(encoding.name)} encoding instead.&#34;)
    return self.raw_decoder(string[1:])</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.Multibase.encode"><code class="name flex">
<span>def <span class="ident">encode</span></span>(<span>self, data:Â Union[bytes,Â bytearray,Â memoryview]) â€‘>Â str</span>
</code></dt>
<dd>
<div class="desc"><p>Encodes bytes into a multibase string: it first uses <code><a title="multiformats.multibase.Multibase.raw_encoder" href="#multiformats.multibase.Multibase.raw_encoder">Multibase.raw_encoder</a></code>,
and then prepends the multibase prefix given by <code><a title="multiformats.multibase.Multibase.code" href="#multiformats.multibase.Multibase.code">Multibase.code</a></code> and returns
the resulting multibase string.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; base32 = multibase.get(&quot;base32&quot;)
&gt;&gt;&gt; base32.encode(b&quot;Hello World!&quot;)
'bjbswy3dpeblw64tmmqqq'
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def encode(self, data: BytesLike) -&gt; str:
    &#34;&#34;&#34;
        Encodes bytes into a multibase string: it first uses `Multibase.raw_encoder`,
        and then prepends the multibase prefix given by `Multibase.code` and returns
        the resulting multibase string.

        Example usage:

        ```py
        &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
        &gt;&gt;&gt; base32.encode(b&#34;Hello World!&#34;)
        &#39;bjbswy3dpeblw64tmmqqq&#39;
        ```
    &#34;&#34;&#34;
    return self.code+self.raw_encoder(data)</code></pre>
</details>
</dd>
<dt id="multiformats.multibase.Multibase.to_json"><code class="name flex">
<span>def <span class="ident">to_json</span></span>(<span>self) â€‘>Â Mapping[str,Â str]</span>
</code></dt>
<dd>
<div class="desc"><p>Returns a JSON dictionary representation of this <code><a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a></code> object.</p>
<p>Example usage:</p>
<pre><code class="language-py">&gt;&gt;&gt; base32 = multibase.get(&quot;base32&quot;)
&gt;&gt;&gt; base32.to_json()
{'name': 'base32', 'code': 'b',
 'status': 'default',
 'description': 'rfc4648 case-insensitive - no padding'}
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_json(self) -&gt; Mapping[str, str]:
    &#34;&#34;&#34;
        Returns a JSON dictionary representation of this `Multibase` object.

        Example usage:

        ```py
        &gt;&gt;&gt; base32 = multibase.get(&#34;base32&#34;)
        &gt;&gt;&gt; base32.to_json()
        {&#39;name&#39;: &#39;base32&#39;, &#39;code&#39;: &#39;b&#39;,
         &#39;status&#39;: &#39;default&#39;,
         &#39;description&#39;: &#39;rfc4648 case-insensitive - no padding&#39;}
        ```
    &#34;&#34;&#34;
    return {
        &#34;name&#34;: self.name,
        &#34;code&#34;: self.code_printable,
        &#34;status&#34;: self.status,
        &#34;description&#34;: self.description
    }</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="multiformats" href="../index.html">multiformats</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="multiformats.multibase.err" href="err.html">multiformats.multibase.err</a></code></li>
<li><code><a title="multiformats.multibase.raw" href="raw.html">multiformats.multibase.raw</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="multiformats.multibase.decode" href="#multiformats.multibase.decode">decode</a></code></li>
<li><code><a title="multiformats.multibase.decode_raw" href="#multiformats.multibase.decode_raw">decode_raw</a></code></li>
<li><code><a title="multiformats.multibase.encode" href="#multiformats.multibase.encode">encode</a></code></li>
<li><code><a title="multiformats.multibase.exists" href="#multiformats.multibase.exists">exists</a></code></li>
<li><code><a title="multiformats.multibase.from_str" href="#multiformats.multibase.from_str">from_str</a></code></li>
<li><code><a title="multiformats.multibase.get" href="#multiformats.multibase.get">get</a></code></li>
<li><code><a title="multiformats.multibase.register" href="#multiformats.multibase.register">register</a></code></li>
<li><code><a title="multiformats.multibase.table" href="#multiformats.multibase.table">table</a></code></li>
<li><code><a title="multiformats.multibase.unregister" href="#multiformats.multibase.unregister">unregister</a></code></li>
<li><code><a title="multiformats.multibase.validate_multibase" href="#multiformats.multibase.validate_multibase">validate_multibase</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="multiformats.multibase.Multibase" href="#multiformats.multibase.Multibase">Multibase</a></code></h4>
<ul class="two-column">
<li><code><a title="multiformats.multibase.Multibase.code" href="#multiformats.multibase.Multibase.code">code</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.code_printable" href="#multiformats.multibase.Multibase.code_printable">code_printable</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.decode" href="#multiformats.multibase.Multibase.decode">decode</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.description" href="#multiformats.multibase.Multibase.description">description</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.encode" href="#multiformats.multibase.Multibase.encode">encode</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.name" href="#multiformats.multibase.Multibase.name">name</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.raw_decoder" href="#multiformats.multibase.Multibase.raw_decoder">raw_decoder</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.raw_encoder" href="#multiformats.multibase.Multibase.raw_encoder">raw_encoder</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.status" href="#multiformats.multibase.Multibase.status">status</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.to_json" href="#multiformats.multibase.Multibase.to_json">to_json</a></code></li>
<li><code><a title="multiformats.multibase.Multibase.validate_code" href="#multiformats.multibase.Multibase.validate_code">validate_code</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>