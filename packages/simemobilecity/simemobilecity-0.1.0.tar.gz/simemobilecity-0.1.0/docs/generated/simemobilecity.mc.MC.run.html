<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>MC.run &#8212; SimeMobileCity 0.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          SimeMobileCity</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">MC.run</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  </div>
<div class=col-md-9 content><div class="section" id="mc-run">
<h1>MC.run<a class="headerlink" href="#mc-run" title="Permalink to this headline">¶</a></h1>
<dl class="method">
<dt id="simemobilecity.mc.MC.run">
<code class="descclassname">MC.</code><code class="descname">run</code><span class="sig-paren">(</span><em>file_out</em>, <em>weeks</em>, <em>weeks_equi</em>, <em>capacity={}</em>, <em>trials=100</em>, <em>node_p=0.1</em>, <em>p_norm=''</em>, <em>max_dist=500</em><span class="sig-paren">)</span><a class="headerlink" href="#simemobilecity.mc.MC.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run Monte Carlo code. Hereby the number of drivers for each hour
represent the number of MC steps. During the equilibration run, the
trajectory is not edited until sttarting the production run. If a user
or POI choice fails, it is repeated for the given number of trials.
POI probabilities are added to the nodes to set the probability for
choosing certain nodes as a destination. The probability matrix for the
graph nodes can be normalized using the options</p>
<ul class="simple">
<li><strong>week</strong> - Normalize all node probabilities with the maximum value from the week</li>
<li><strong>day</strong> -  Normalize all node probabilities each day with the maximum value from the day</li>
<li><strong>hour</strong> - Normalize all node probabilities each hour with the maximum value from the hour</li>
<li><em>empty string</em> - Do not normalize</li>
</ul>
<p>Once finished, the trajectories are saved in form of a dictionary for</p>
<ul class="simple">
<li><strong>nodes</strong> - Node trajectory</li>
<li><strong>cs</strong> - Charging station trajectory</li>
<li><strong>dist</strong> - Charging station accumulated walking distance</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>file_out</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">file link for output object file</p>
</dd>
<dt><strong>weeks</strong> <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd><p class="first last">Number of weeks to simulate</p>
</dd>
<dt><strong>weeks_equi</strong> <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd><p class="first last">Number of weeks for equilibration</p>
</dd>
<dt><strong>capacity</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dictionary</span></dt>
<dd><p class="first last">Dictionary containing charing station nodes and capacities</p>
</dd>
<dt><strong>trials</strong> <span class="classifier-delimiter">:</span> <span class="classifier">integer, optional</span></dt>
<dd><p class="first last">Number of trials for faild user and node selections per driver</p>
</dd>
<dt><strong>node_p</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dictionary, float, optional</span></dt>
<dd><p class="first last">Probability of all nodes not covered by pois each hour each weekday,
either a float for the same probability each hour, dictionary of hours
for same hour distribution for all days, a dictionary of days for the
same hour probability for different days, or a dictionary of days each
with a dictionary of hours</p>
</dd>
<dt><strong>p_norm: string, optional</strong></dt>
<dd><p class="first last">Normalize POI dicts with maximum value based on given type
<span class="math">\(\rightarrow\)</span> largest value is equal to one</p>
</dd>
<dt><strong>max_dist</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span></dt>
<dd><p class="first last">Maximal allowed walking distance from charging station to node in m, for
nodes not covered by given POI objects</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>traj</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dictionary</span></dt>
<dd><p class="first last">Dictionary containing trajectories inputs and distance accumulation</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, Hamzeh Kraus.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>