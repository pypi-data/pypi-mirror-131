"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_modals_dashboardWidgetLibraryModal_index_tsx"],{"./app/components/modals/dashboardWidgetLibraryModal/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>C,modalCss:()=>B}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var i=s("../node_modules/react/index.js"),r=s("./app/components/tooltip.tsx"),o=s("./app/locale.tsx"),d=s("./app/views/dashboardsV2/types.tsx"),a=s("./app/components/button.tsx"),n=s("./app/components/buttonBar.tsx"),l=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=s("./app/components/alert.tsx"),p=s("./app/styles/space.tsx");const u=[{id:void 0,title:(0,o.t)("Duration Distribution"),description:(0,o.t)("Compare transaction durations across different percentiles."),displayType:d.FO.AREA,widgetType:d.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"!event.type:error",fields:["p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)"],orderby:""}]},{id:void 0,title:(0,o.t)("High Throughput Transactions"),description:(0,o.t)("Top 5 transactions with the largest volume."),displayType:d.FO.TOP_N,widgetType:d.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"!event.type:error",fields:["transaction","count()"],orderby:"-count"}]},{id:void 0,title:(0,o.t)("LCP by Country"),description:(0,o.t)("Density map showing page load times by country."),displayType:d.FO.WORLD_MAP,widgetType:d.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"has:geo.country_code",fields:["p75(measurements.lcp)"],orderby:""}]},{id:void 0,title:(0,o.t)("Miserable Users"),description:(0,o.t)("Unique users who have experienced slow load times."),displayType:d.FO.BIG_NUMBER,widgetType:d.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"",fields:["count_miserable(user,300)"],orderby:""}]},{id:void 0,title:(0,o.t)("Slow vs Fast Transactions"),description:(0,o.t)("Percentage breakdown of transaction durations over and under 300ms."),displayType:d.FO.BAR,widgetType:d.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"!event.type:error",fields:["equation|(count_if(transaction.duration,greater,300) / count()) * 100","equation|(count_if(transaction.duration,lessOrEquals,300) / count()) * 100"],orderby:""}]},{id:void 0,title:(0,o.t)("Top Issues"),description:(0,o.t)("Issues with the most error events."),displayType:d.FO.TABLE,widgetType:d.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:error",fields:["issue","count()","any(message)"],orderby:"-count"}]},{id:void 0,title:(0,o.t)("Top Unhandled Error Types"),description:(0,o.t)("Most frequently encountered unhandled errors."),displayType:d.FO.TOP_N,widgetType:d.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"error.unhandled:true",fields:["error.type","count()"],orderby:"-count"}]},{id:void 0,title:(0,o.t)("Users Affected by Errors"),description:(0,o.t)("Footprint of unique users affected by errors."),displayType:d.FO.LINE,widgetType:d.l9.DISCOVER,interval:"5m",queries:[{name:"",conditions:"event.type:error",fields:["count_unique(user)","count()"],orderby:""}]}];s("../node_modules/core-js/modules/es.symbol.description.js");var m=s("./app/components/panels/index.tsx"),g=s("./app/icons/index.tsx"),b=s("./app/icons/iconGraphArea.tsx"),y=s("./app/icons/iconGraphBar.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function x({selectedWidgets:e,widget:t,setSelectedWidgets:s,"data-test-id":r}){const[o,a]=(0,i.useState)(e.includes(t));return(0,h.tZ)(w,{"data-test-id":r,selected:o,onClick:()=>{if(o){const i=e.filter((e=>t!==e));s(i)}else{const i=e.slice().concat(t);s(i)}a(!o)},children:(0,h.BX)(m.N,{children:[(0,h.BX)(f,{children:[function(e){switch(e){case d.FO.TABLE:return(0,h.tZ)(g.dc,{size:"xs"});case d.FO.WORLD_MAP:return(0,h.tZ)(g.vc,{size:"xs"});case d.FO.BIG_NUMBER:return(0,h.tZ)(g.A8,{size:"xs"});case d.FO.BAR:return(0,h.tZ)(y.U,{size:"xs"});case d.FO.TOP_N:return(0,h.tZ)(g.CC,{size:"xs"});case d.FO.AREA:return(0,h.tZ)(b.g,{size:"xs"});case d.FO.LINE:default:return(0,h.tZ)(g.TX,{size:"xs"})}}(t.displayType),(0,h.tZ)(Z,{children:t.title})]}),(0,h.tZ)(v,{children:t.description})]})})}x.displayName="WidgetLibraryCard";const Z=(0,l.Z)("div",{target:"e11j9f793"})("padding-left:",(0,p.Z)(1),";font-size:16px;line-height:140%;color:",(e=>e.theme.gray500),";"),f=(0,l.Z)("div",{target:"e11j9f792"})("padding:",(0,p.Z)(1.5)," ",(0,p.Z)(2),";padding-bottom:",(0,p.Z)(.5),";display:flex;align-items:center;"),v=(0,l.Z)("div",{target:"e11j9f791"})("padding:0 ",(0,p.Z)(1)," ",(0,p.Z)(1.5)," 36px;font-size:14px;line-height:21px;color:",(e=>e.theme.gray300),";"),w=(0,l.Z)(m.s_,{target:"e11j9f790"})("margin-bottom:0;border:",(e=>"1px solid "+e.theme.border),";outline:",(e=>e.selected?"2px solid"+e.theme.purple400:void 0),";box-sizing:border-box;box-shadow:0px 2px 1px rgba(0, 0, 0, 0.08);cursor:pointer;"),E=x;function W({selectedWidgets:e,errored:t,setSelectedWidgets:s,setErrored:r}){return(0,h.BX)(i.Fragment,{children:[t&&!e.length?(0,h.tZ)(c.Z,{type:"error",children:(0,o.t)("Please select at least one Widget from our Library. Alternatively, you can build a custom widget from scratch.")}):null,(0,h.tZ)(T,{children:u.map(((t,i)=>(0,h.tZ)(E,{"data-test-id":"widget-library-card-".concat(i),widget:t,selectedWidgets:e,setSelectedWidgets:s,setErrored:r},t.title)))})]})}W.displayName="DashboardWidgetLibraryTab";const T=(0,l.Z)("div",{target:"e15svj9l0"})("display:grid;grid-template-columns:repeat(2, minmax(100px, 1fr));grid-template-rows:repeat(2, max-content);row-gap:",(0,p.Z)(1.5),";column-gap:",(0,p.Z)(2),";@media (max-width: 700px){grid-template-columns:auto;}"),_=W;var A=s("./app/components/modals/dashboardWidgetLibraryModal/tabsButtonBar.tsx");function O({Header:e,Body:t,Footer:s,dashboard:l,organization:c,customWidget:p,initialSelectedWidgets:u,closeModal:m,onAddWidget:g}){const[b,y]=(0,i.useState)(u||[]),[x,Z]=(0,i.useState)(!1),f=l.widgets.length+b.length>d.ZU;return(0,h.BX)(i.Fragment,{children:[(0,h.tZ)(e,{closeButton:!0,children:(0,h.tZ)("h4",{children:(0,o.t)("Add Widget(s)")})}),(0,h.BX)(t,{children:[(0,h.tZ)(A.$,{activeTab:A.M.Library,organization:c,dashboard:l,selectedWidgets:b,customWidget:p,onAddWidget:g}),(0,h.tZ)(_,{selectedWidgets:b,errored:x,setSelectedWidgets:y,setErrored:Z})]}),(0,h.tZ)(s,{children:(0,h.BX)(n.ZP,{gap:1,children:[(0,h.tZ)(a.ZP,{external:!0,href:"https://docs.sentry.io/product/dashboards/custom-dashboards/#widget-builder",children:(0,o.t)("Read the docs")}),(0,h.tZ)(r.Z,{title:(0,o._N)("Exceeds max widgets ([maxWidgets]) per dashboard. Plese unselect [unselectWidgets] widget(s).",{maxWidgets:d.ZU,unselectWidgets:l.widgets.length+b.length-d.ZU}),disabled:!f,children:(0,h.tZ)(a.ZP,{"data-test-id":"confirm-widgets",priority:"primary",disabled:f,type:"button",onClick:()=>{b.length?(g([...l.widgets,...b]),m()):Z(!0)},children:(0,o.t)("Save")})})]})})]})}O.displayName="DashboardWidgetLibraryModal";const B={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},C=O},"./app/components/modals/dashboardWidgetLibraryModal/tabsButtonBar.tsx":(e,t,s)=>{s.d(t,{M:()=>u,$:()=>m});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/react/index.js"),s("./app/actionCreators/modal.tsx")),o=s("./app/locale.tsx"),d=s("./app/styles/space.tsx"),a=s("./app/utils.tsx"),n=s("./app/views/dashboardsV2/types.tsx"),l=s("./app/components/button.tsx"),c=s("./app/components/buttonBar.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");let u;function m({activeTab:e,organization:t,dashboard:s,selectedWidgets:i,customWidget:d,onAddWidget:l}){return(0,p.BX)(g,{active:e,children:[(0,p.tZ)(b,{barId:u.Library,onClick:()=>{e!==u.Library&&(0,a.ri)(l)&&(0,r.openDashboardWidgetLibraryModal)({organization:t,dashboard:s,customWidget:d,initialSelectedWidgets:i,onAddWidget:l})},children:(0,o.t)("Widget Library")}),(0,p.tZ)(y,{barId:u.Custom,onClick:()=>{e!==u.Custom&&(0,r.openAddDashboardWidgetModal)({organization:t,dashboard:s,selectedWidgets:i,widget:d,source:n.EN.LIBRARY,onAddLibraryWidget:l})},children:(0,o.t)("Custom Widget")})]})}!function(e){e.Library="library",e.Custom="custom"}(u||(u={})),m.displayName="TabsButtonBar";const g=(0,i.Z)(c.ZP,{target:"ea8om9w2"})("display:inline;margin-bottom:",(0,d.Z)(2),";"),b=(0,i.Z)(l.ZP,{target:"ea8om9w1"})({name:"10if9qx",styles:"border-top-right-radius:0;border-bottom-right-radius:0"}),y=(0,i.Z)(l.ZP,{target:"ea8om9w0"})({name:"ygoyvl",styles:"border-top-left-radius:0;border-bottom-left-radius:0"})},"./app/views/dashboardsV2/types.tsx":(e,t,s)=>{s.d(t,{ZU:()=>i,FO:()=>r,l9:()=>o,n3:()=>d,EN:()=>a});const i=30;let r,o,d,a;!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.TABLE="table",e.WORLD_MAP="world_map",e.BIG_NUMBER="big_number",e.STACKED_AREA="stacked_area",e.TOP_N="top_n"}(r||(r={})),function(e){e.DISCOVER="discover",e.ISSUE="issue"}(o||(o={})),function(e){e.VIEW="view",e.EDIT="edit",e.CREATE="create",e.PENDING_DELETE="pending_delete"}(d||(d={})),function(e){e.DISCOVERV2="discoverv2",e.DASHBOARDS="dashboards",e.LIBRARY="library",e.ISSUE_DETAILS="issueDetail"}(a||(a={}))}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_dashboardWidgetLibraryModal_index_tsx.3f957ea54aa5fd7dc623e10b4b874ef8.js.map