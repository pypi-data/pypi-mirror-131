"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_events_eventTags_eventTagsPill_tsx-app_components_events_interfaces_spans_anch-b62b10"],{"./app/components/deviceName.tsx":(e,t,r)=>{r.d(t,{qW:()=>i,f:()=>a,ZP:()=>l});var s=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),o=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e,t){const r=e.split(" ")[0],s=e.split(" ").splice(1).join(" "),n=t.generationByIdentifier(r);return void 0===n?e:n+" "+s}async function a(){return r.e("vendors-node_modules_ios-device-list_dist_ios-device-list_min_js").then(r.t.bind(r,"../node_modules/ios-device-list/dist/ios-device-list.min.js",23))}class l extends n.Component{constructor(e){super(e),(0,s.Z)(this,"_isMounted",void 0),this.state={iOSDeviceList:null}}componentDidMount(){this._isMounted=!0,a().then((e=>{this._isMounted&&this.setState({iOSDeviceList:e})}))}componentWillUnmount(){this._isMounted=!1}render(){const{value:e,children:t}=this.props,{iOSDeviceList:r}=this.state;if(!e)return null;if(!r)return e;const s=i(e,r);return(0,o.tZ)("span",{"data-test-id":"loaded-device-name",children:t?t(s):s})}}l.displayName="DeviceName"},"./app/components/events/eventTags/eventTagsPill.tsx":(e,t,r)=>{r.d(t,{Z:()=>x});var s=r("../node_modules/query-string/index.js"),n=r("./app/components/events/meta/annotatedText/index.tsx"),o=r("./app/components/events/meta/metaProxy.tsx"),i=r("./app/components/links/externalLink.tsx"),a=r("./app/components/links/link.tsx"),l=r("./app/components/pill.tsx"),c=r("./app/components/versionHoverCard.tsx"),d=r("./app/icons/index.tsx"),p=r("./app/utils.tsx"),h=r("./app/components/deviceName.tsx"),u=r("./app/components/version.tsx"),m=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const g=({tag:{key:e,value:t},meta:r,isRelease:s,streamPath:o,locationSearch:i})=>{var l;const c=s?(0,m.tZ)(u.Z,{version:String(t),anchor:!1,tooltipRawVersion:!0,truncate:!0}):(0,m.tZ)(n.Z,{value:(0,p.ri)(t)&&(0,m.tZ)(h.ZP,{value:String(t)}),meta:r});return null!=r&&null!==(l=r.err)&&void 0!==l&&l.length||!(0,p.ri)(e)?c:(0,m.tZ)(a.Z,{to:{pathname:o,search:i},children:c})},v={name:"1w4n49d",styles:"position:relative;top:1px"},f=({tag:e,query:t,organization:r,projectId:h,streamPath:u,releasesPath:f})=>{const x="?".concat(s.stringify(t)),{key:y,value:b}=e,w="release"===y,Z=y||(0,m.tZ)(n.Z,{value:y,meta:(0,o.xZ)(e,"key")}),S=y?void 0:"error";return(0,m.BX)(l.Z,{name:Z,value:b,type:S,children:[(0,m.tZ)(g,{tag:e,meta:(0,o.xZ)(e,"value"),streamPath:u,locationSearch:x,isRelease:w}),(0,p.CB)(b)&&(0,m.tZ)(i.Z,{href:b,className:"external-icon",children:(0,m.tZ)(d.V$,{size:"xs",css:v})}),w&&(0,m.tZ)("div",{className:"pill-icon",children:(0,m.tZ)(c.Z,{organization:r,projectSlug:h,releaseVersion:b,children:(0,m.tZ)(a.Z,{to:{pathname:"".concat(f).concat(b,"/"),search:x},children:(0,m.tZ)(d.aU,{size:"xs",css:v})})})})]})};f.displayName="EventTagsPill";const x=f},"./app/components/events/interfaces/spans/anchorLinkManager.tsx":(e,t,r)=>{r.d(t,{z:()=>a,$:()=>l});var s=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),o=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=(0,n.createContext)({registerScrollFn:()=>()=>{},scrollToHash:()=>{}});class a extends n.Component{constructor(...e){super(...e),(0,s.Z)(this,"scrollFns",new Map),(0,s.Z)(this,"scrollToHash",(e=>{var t;null===(t=this.scrollFns.get(e))||void 0===t||t()})),(0,s.Z)(this,"registerScrollFn",((e,t)=>{this.scrollFns.set(e,t)}))}componentDidMount(){this.scrollToHash(location.hash)}render(){const e={registerScrollFn:this.registerScrollFn,scrollToHash:this.scrollToHash};return(0,o.tZ)(i.Provider,{value:e,children:this.props.children})}}a.displayName="Provider";const l=i.Consumer},"./app/components/events/interfaces/spans/constants.tsx":(e,t,r)=>{r.d(t,{DX:()=>s,rz:()=>n,bl:()=>o,h0:()=>i,ZR:()=>a,S5:()=>l});const s=120,n=4,o=s/n,i=20,a=s+i+20+1,l=18},"./app/components/events/interfaces/spans/cursorGuideHandler.tsx":(e,t,r)=>{r.d(t,{z:()=>l,$:()=>c});var s=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),o=r("./app/components/performance/waterfall/utils.tsx"),i=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=n.createContext({showCursorGuide:!1,mouseLeft:void 0,traceViewMouseLeft:void 0,displayCursorGuide:()=>{},hideCursorGuide:()=>{}});class l extends n.Component{constructor(...e){super(...e),(0,s.Z)(this,"state",{showCursorGuide:!1,mouseLeft:void 0,traceViewMouseLeft:void 0}),(0,s.Z)(this,"hasInteractiveLayer",(()=>!!this.props.interactiveLayerRef.current)),(0,s.Z)(this,"displayCursorGuide",(e=>{if(!this.hasInteractiveLayer())return;const{trace:t,dragProps:r}=this.props,s=this.props.interactiveLayerRef.current,n=(0,o.FV)(s),i=t.traceEndTimestamp-t.traceStartTimestamp,a=r.viewWindowStart,l=r.viewWindowEnd,c=t.traceStartTimestamp+a*i,d=t.traceEndTimestamp-(1-l)*i-c,p=(0,o.uZ)((e-n.x)/n.width,0,1),h=p*Math.abs(t.traceEndTimestamp-t.traceStartTimestamp),u=(t.traceStartTimestamp+h-c)/d;this.setState({showCursorGuide:!0,mouseLeft:p,traceViewMouseLeft:u})})),(0,s.Z)(this,"hideCursorGuide",(()=>{this.hasInteractiveLayer()&&this.setState({showCursorGuide:!1,mouseLeft:void 0,traceViewMouseLeft:void 0})}))}render(){const e={showCursorGuide:this.state.showCursorGuide,mouseLeft:this.state.mouseLeft,traceViewMouseLeft:this.state.traceViewMouseLeft,displayCursorGuide:this.displayCursorGuide,hideCursorGuide:this.hideCursorGuide};return(0,i.tZ)(a.Provider,{value:e,children:this.props.children})}}l.displayName="Provider";const c=a.Consumer},"./app/components/events/interfaces/spans/header.tsx":(e,t,r)=>{r.d(t,{i:()=>pe,Z:()=>me});var s=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),i=(r("../node_modules/core-js/modules/es.symbol.description.js"),r("../node_modules/lodash/isFinite.js")),a=r.n(i),l=r("./app/components/charts/styles.tsx"),c=r("./app/components/events/interfaces/spans/utils.tsx"),d=r("./app/components/performance/waterfall/utils.tsx"),p=r("./app/components/questionTooltip.tsx"),h=r("./app/locale.tsx"),u=r("./app/styles/space.tsx"),m=r("./app/types/event.tsx"),g=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const v=Symbol("Other");class f extends o.Component{getTransactionEvent(){const{event:e}=this.props;if("transaction"===e.type)return e}generateStats(){var e,t;const{topN:r,operationNameFilters:s}=this.props,n=this.getTransactionEvent();if(!n)return[];const o=null==n||null===(e=n.contexts)||void 0===e?void 0:e.trace;if(!o)return[];const i=n.entries.find((e=>e.type===m.UZ.SPANS));let a=null!==(t=null==i?void 0:i.data)&&void 0!==t?t:[];const l={op:o.op,timestamp:n.endTimestamp,start_timestamp:n.startTimestamp,trace_id:o.trace_id||"",span_id:o.span_id||"",data:{}};a=a.length>0?a:[l],"active_filter"===s.type&&(a=[...a,l],a=a.filter((e=>{const t=(0,c.yk)(e);return!("string"==typeof t&&!s.operationNames.has(t))})));const d=a.reduce(((e,t)=>{let r=t.start_timestamp,s=t.timestamp;s<r&&(r=t.timestamp,s=t.start_timestamp);let n=t.op;"string"!=typeof n&&(n="unknown");const o=[r,s],i=e[n];return Array.isArray(i)?(i.push(o),e[n]=function(e){e.sort(((e,t)=>e[0]<t[0]?-1:t[0]<e[0]?1:0));const t=[];for(const r of e){if(0===t.length){t.push(r);continue}const e=t[t.length-1],s=e[1],[n,o]=r;s<n?t.push(r):e[1]=Math.max(s,o)}return t}(i),e):(e[n]=[o],e)}),{}),p=Object.entries(d).reduce(((e,[t,r])=>{const s=r.reduce(((e,[t,r])=>e+Math.abs(r-t)),0);return e[t]=s,e}),{}),h=Object.entries(p).sort(((e,t)=>{const r=e[1],s=t[1];return r===s?0:r<s?1:-1})),u=h.slice(0,r).map((([e,t])=>({name:e,percentage:0,totalInterval:t}))),g=h.slice(r).reduce(((e,[t,r])=>(e.totalInterval+=r,e)),{name:v,percentage:0,totalInterval:0});g.totalInterval>0&&u.push(g);const f=u.reduce(((e,t)=>e+t.totalInterval),0);return u.forEach((e=>{e.percentage=e.totalInterval/f})),u}render(){const{hideHeader:e}=this.props;if(!this.getTransactionEvent())return null;const t=this.generateStats().map((e=>{const{name:t,percentage:r,totalInterval:s}=e,n=t===v,o="string"==typeof t?t:(0,h.t)("Other"),i=Math.round(1e3*s*100)/100,l=a()(r)?Math.round(100*r):"âˆž",c=(0,d.hd)(o);return(0,g.BX)(b,{children:[(0,g.BX)(S,{children:[(0,g.tZ)(w,{style:{backgroundColor:n?"transparent":c}}),(0,g.tZ)(j,{children:o})]}),(0,g.BX)(Z,{children:[(0,g.BX)(C,{children:[i,"ms"]}),(0,g.BX)(_,{children:[l,"%"]})]})]},o)}));return e?(0,g.tZ)(y,{children:t}):(0,g.BX)(x,{children:[(0,g.BX)(l.OT,{children:[(0,h.t)("Operation Breakdown"),(0,g.tZ)(p.Z,{position:"top",size:"sm",containerDisplayMode:"block",title:(0,h.t)("Span durations are summed over the course of an entire transaction. Any overlapping spans are only counted once. Percentages are calculated by dividing the summed span durations by the total of all span durations.")})]}),t]})}}f.displayName="OpsBreakdown",(0,s.Z)(f,"defaultProps",{topN:4,hideHeader:!1});const x=(0,n.Z)("div",{target:"ebxobs98"})("font-size:",(e=>e.theme.fontSizeMedium),";margin-bottom:",(0,u.Z)(4),";"),y=(0,n.Z)("div",{target:"ebxobs97"})("font-size:",(e=>e.theme.fontSizeMedium),";margin:",(0,u.Z)(2)," ",(0,u.Z)(3),";"),b=(0,n.Z)("div",{target:"ebxobs96"})("display:flex;justify-content:space-between;margin-bottom:",(0,u.Z)(.5),";*+*{margin-left:",(0,u.Z)(.5),";}"),w=(0,n.Z)("div",{target:"ebxobs95"})("content:'';display:block;width:8px;min-width:8px;height:8px;margin-right:",(0,u.Z)(1),";border-radius:100%;"),Z=(0,n.Z)("div",{target:"ebxobs94"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),S=(0,n.Z)(Z,{target:"ebxobs93"})({name:"d3v9zr",styles:"overflow:hidden"}),j=(0,n.Z)("div",{target:"ebxobs92"})({name:"l8l8b8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis"}),C=(0,n.Z)("div",{target:"ebxobs91"})("color:",(e=>e.theme.gray300),";font-variant-numeric:tabular-nums;"),_=(0,n.Z)("div",{target:"ebxobs90"})({name:"sw7g73",styles:"min-width:40px;text-align:right;font-variant-numeric:tabular-nums"}),M=f;var D=r("./app/components/performance/waterfall/miniHeader.tsx"),k=r("./app/stores/configStore.tsx"),L=r("./app/utils/theme.tsx"),B=r("./app/components/events/interfaces/spans/constants.tsx"),P=r("./app/components/events/interfaces/spans/cursorGuideHandler.tsx"),I=r("./app/components/events/interfaces/spans/dividerHandlerManager.tsx"),T=r("./app/components/tooltip.tsx"),R=r("./app/utils.tsx"),X=r("./app/utils/performance/vitals/constants.tsx");class E extends o.PureComponent{render(){const{event:e,generateBounds:t,dividerPosition:r}=this.props,s=(0,c.is)(e);return(0,g.tZ)(z,{style:{width:"calc(".concat((0,d.yI)(1-r)," - 0.5px)")},children:Array.from(s).map((([e,r])=>{const s=(0,c.vu)(e,t);if(!(0,R.ri)(s.left)||!(0,R.ri)(s.width)||!s.isSpanVisibleInView)return null;const n=Object.keys(r.marks).map((e=>X.r["measurements.".concat(e)])),o=n.map((e=>e.acronym)),i=o.pop(),a=o.length?"".concat(o.join(", ")," & ").concat(i):i,l=n.map((e=>e.name)),p=l.pop(),h=l.length?"".concat(l.join(", ")," & ").concat(p):p;return(0,g.tZ)(A,{failedThreshold:r.failedThreshold,label:a,tooltipLabel:h,left:(0,d.yI)(s.left||0)},String(e))}))})}}E.displayName="MeasurementsPanel";const z=(0,n.Z)("div",{target:"ebsav3l2"})({name:"1ite3ux",styles:"position:relative;overflow:hidden;height:20px"}),G=(0,n.Z)("div",{target:"ebsav3l1"})({name:"snm0j3",styles:"position:absolute;top:0;height:100%;user-select:none;white-space:nowrap"}),W=(0,n.Z)("div",{target:"ebsav3l0"})("transform:translateX(-50%);font-size:",(e=>e.theme.fontSizeExtraSmall),";font-weight:600;",(e=>e.failedThreshold?"color: ".concat(e.theme.red300,";"):null),";"),N=E;class A extends o.Component{constructor(...e){super(...e),(0,s.Z)(this,"state",{width:1}),(0,s.Z)(this,"elementDOMRef",(0,o.createRef)())}componentDidMount(){const{current:e}=this.elementDOMRef;e&&this.setState({width:e.clientWidth})}render(){const{left:e,label:t,tooltipLabel:r,failedThreshold:s}=this.props;return(0,g.tZ)(G,{ref:this.elementDOMRef,style:{left:"clamp(calc(0.5 * ".concat(this.state.width,"px), ").concat(e,", calc(100% - 0.5 * ").concat(this.state.width,"px))")},children:(0,g.tZ)(W,{failedThreshold:s,children:(0,g.tZ)(T.Z,{title:r,position:"top",containerDisplayMode:"inline-block",children:t})})})}}A.displayName="LabelContainer";var H=r("./app/components/events/interfaces/spans/scrollbarManager.tsx"),V=r("./app/components/events/interfaces/spans/types.tsx");class F extends o.Component{constructor(...e){super(...e),(0,s.Z)(this,"state",{minimapWidth:void 0})}componentDidMount(){this.fetchMinimapWidth()}componentDidUpdate(){this.fetchMinimapWidth()}fetchMinimapWidth(){const{minimapInteractiveRef:e}=this.props;if(e.current){const t=e.current.getBoundingClientRect().width;t!==this.state.minimapWidth&&this.setState({minimapWidth:t})}}renderCursorGuide({cursorGuideHeight:e,showCursorGuide:t,mouseLeft:r}){return t&&r?(0,g.tZ)(le,{style:{left:(0,d.yI)(r),height:"".concat(e,"px")}}):null}renderViewHandles({isDragging:e,onLeftHandleDragStart:t,leftHandlePosition:r,onRightHandleDragStart:s,rightHandlePosition:n,viewWindowStart:i,viewWindowEnd:a}){const l=e?(0,g.tZ)(ce,{left:i,onMouseDown:()=>{},isDragging:!1}):null,c=(0,g.tZ)(ce,{left:r,onMouseDown:t,isDragging:e}),d=(0,g.tZ)(ce,{left:n,onMouseDown:s,isDragging:e}),p=e?(0,g.tZ)(ce,{left:a,onMouseDown:()=>{},isDragging:!1}):null;return(0,g.BX)(o.Fragment,{children:[l,p,c,d]})}renderFog(e){return(0,g.BX)(o.Fragment,{children:[(0,g.tZ)(oe,{style:{height:"100%",width:(0,d.yI)(e.viewWindowStart)}}),(0,g.tZ)(oe,{style:{height:"100%",width:(0,d.yI)(1-e.viewWindowEnd),left:(0,d.yI)(e.viewWindowEnd)}})]})}renderDurationGuide({showCursorGuide:e,mouseLeft:t}){if(!e||!t)return null;const r=this.props.minimapInteractiveRef.current;if(!r)return null;const s=(0,d.FV)(r),{trace:n}=this.props,o=t*Math.abs(n.traceEndTimestamp-n.traceStartTimestamp),i={top:0,left:"calc(".concat(100*t,"% + 4px)")},a=(1-t)*s.width<=100;return(0,g.tZ)(J,{style:i,alignLeft:a,children:(0,g.tZ)("span",{children:(0,d.bQ)(o)})})}renderTicks(){const{trace:e}=this.props,{minimapWidth:t}=this.state,r=Math.abs(e.traceEndTimestamp-e.traceStartTimestamp);let s=5;if(t&&(t<=350&&(s=4),t<=280&&(s=3),t<=160&&(s=2),t<=130&&(s=1)),1===s)return(0,g.tZ)(Y,{duration:.5*r,style:{left:(0,d.yI)(.5)}},"1");const n=1/(s-1),o=[];for(let e=0;e<s;e++){if(0===e){o.push((0,g.tZ)(Y,{align:V.t.Left,hideTickMarker:!0,duration:0,style:{left:(0,u.Z)(1)}},"first"));continue}if(e===s-1){o.push((0,g.tZ)(Y,{duration:r,align:V.t.Right,hideTickMarker:!0,style:{right:(0,u.Z)(1)}},"last"));continue}const t=n*e;o.push((0,g.tZ)(Y,{duration:r*t,style:{left:(0,d.yI)(t)}},String(e)))}return o}renderTimeAxis({showCursorGuide:e,mouseLeft:t}){return(0,g.BX)(U,{children:[this.renderTicks(),this.renderCursorGuide({showCursorGuide:e,mouseLeft:t,cursorGuideHeight:B.h0}),this.renderDurationGuide({showCursorGuide:e,mouseLeft:t})]})}renderWindowSelection(e){if(!e.isWindowSelectionDragging)return null;const t=Math.min(e.windowSelectionInitial,e.windowSelectionCurrent);return(0,g.tZ)(de,{style:{left:(0,d.yI)(t),width:(0,d.yI)(e.windowSelectionSize)}})}generateBounds(){const{dragProps:e,trace:t}=this.props;return(0,c.IG)({traceStartTimestamp:t.traceStartTimestamp,traceEndTimestamp:t.traceEndTimestamp,viewStart:e.viewWindowStart,viewEnd:e.viewWindowEnd})}renderSecondaryHeader(){var e;const{event:t}=this.props,r=Object.keys(null!==(e=t.measurements)&&void 0!==e?e:{}).length>0;return(0,g.tZ)(I.$,{children:e=>{const{dividerPosition:s}=e;return(0,g.BX)(pe,{children:[(0,g.tZ)(H.$6,{children:({virtualScrollbarRef:e,scrollBarAreaRef:t,onDragStart:r,onScroll:n})=>(0,g.BX)(D.cs,{ref:this.props.virtualScrollBarContainerRef,style:{width:"calc(".concat((0,d.yI)(s)," - 0.5px)")},onScroll:n,children:[(0,g.tZ)("div",{style:{width:0,height:"1px"},ref:t}),(0,g.tZ)(D.Qk,{"data-type":"virtual-scrollbar",ref:e,onMouseDown:r,children:(0,g.tZ)(D.v6,{})})]})}),(0,g.tZ)(D._i,{}),r?(0,g.tZ)(N,{event:t,generateBounds:this.generateBounds(),dividerPosition:s}):null]})}})}render(){return(0,g.tZ)(K,{children:(0,g.tZ)(I.$,{children:e=>{const{dividerPosition:t}=e;return(0,g.BX)(o.Fragment,{children:[(0,g.tZ)(he,{style:{width:"calc(".concat((0,d.yI)(t)," - 0.5px)")},children:this.props.event&&(0,g.tZ)(M,{operationNameFilters:this.props.operationNameFilters,event:this.props.event,topN:3,hideHeader:!0})}),(0,g.tZ)(D._i,{style:{position:"absolute",top:0,left:"calc(".concat((0,d.yI)(t)," - 0.5px)"),height:"".concat(B.DX+B.h0,"px")}}),(0,g.tZ)(O,{spans:this.props.spans,generateBounds:this.props.generateBounds,dividerPosition:t,rootSpan:this.props.rootSpan}),(0,g.tZ)(P.$,{children:({displayCursorGuide:e,hideCursorGuide:r,mouseLeft:s,showCursorGuide:n})=>(0,g.BX)(ue,{ref:this.props.minimapInteractiveRef,style:{width:"calc(".concat((0,d.yI)(1-t)," - 0.5px)"),left:"calc(".concat((0,d.yI)(t)," + 0.5px)")},onMouseEnter:t=>{e(t.pageX)},onMouseLeave:()=>{r()},onMouseMove:t=>{e(t.pageX)},onMouseDown:e=>{const t=e.target;t instanceof Element&&t.getAttribute&&t.getAttribute("data-ignore")||this.props.dragProps.onWindowSelectionDragStart(e)},children:[(0,g.BX)(te,{children:[this.renderFog(this.props.dragProps),this.renderCursorGuide({showCursorGuide:n,mouseLeft:s,cursorGuideHeight:B.DX}),this.renderViewHandles(this.props.dragProps),this.renderWindowSelection(this.props.dragProps)]}),this.renderTimeAxis({showCursorGuide:n,mouseLeft:s})]})}),this.renderSecondaryHeader()]})}})})}}F.displayName="TraceViewHeader";class O extends o.PureComponent{renderRootSpan(){const{spans:e,generateBounds:t}=this.props;return e.map((e=>{switch(e.type){case"root_span":case"span":case"span_group_chain":{const{span:r}=e,s=(0,d.hd)((0,c.yk)(r)),n=t({startTimestamp:r.start_timestamp,endTimestamp:r.timestamp}),{left:o,width:i}=this.getBounds(n);return(0,g.tZ)(ie,{style:{backgroundColor:"span_group_chain"===e.type?L.ZP.blue300:s,left:o,width:i}})}default:return null}}))}getBounds(e){switch(e.type){case"TRACE_TIMESTAMPS_EQUAL":case"INVALID_VIEW_WINDOW":return{left:(0,d.yI)(0),width:"0px"};case"TIMESTAMPS_EQUAL":return{left:(0,d.yI)(e.start),width:"".concat(e.width,"px")};case"TIMESTAMPS_REVERSED":case"TIMESTAMPS_STABLE":return{left:(0,d.yI)(e.start),width:(0,d.yI)(e.end-e.start)};default:return e}}render(){const{dividerPosition:e}=this.props;return(0,g.tZ)(ee,{style:{width:"calc(".concat((0,d.yI)(1-e)," - 0.5px)"),left:"calc(".concat((0,d.yI)(e)," + 0.5px)")},children:(0,g.tZ)(ae,{id:"minimap-background-slider",children:this.renderRootSpan()})})}}O.displayName="ActualMinimap";const U=(0,n.Z)("div",{target:"e1jbvrxt18"})("width:100%;position:absolute;left:0;top:",B.DX,"px;border-top:1px solid ",(e=>e.theme.border),";height:",B.h0,"px;background-color:",(e=>e.theme.background),";color:",(e=>e.theme.gray300),";font-size:10px;font-weight:500;font-variant-numeric:tabular-nums;overflow:hidden;"),$=(0,n.Z)("div",{target:"e1jbvrxt17"})("height:",B.h0,"px;position:absolute;top:0;display:flex;align-items:center;user-select:none;"),Q=(0,n.Z)("span",{target:"e1jbvrxt16"})("position:absolute;line-height:1;white-space:nowrap;",(({align:e})=>{switch(e){case V.t.Center:return"transform: translateX(-50%)";case V.t.Left:return null;case V.t.Right:return"transform: translateX(-100%)";default:throw Error("Invalid tick alignment: ".concat(e))}}),";"),q=(0,n.Z)("div",{target:"e1jbvrxt15"})("width:1px;height:4px;background-color:",(e=>e.theme.gray200),";position:absolute;top:0;left:0;transform:translateX(-50%);"),Y=e=>{const{style:t,duration:r,hideTickMarker:s=!1,align:n=V.t.Center}=e;return(0,g.BX)($,{style:t,children:[s?null:(0,g.tZ)(q,{}),(0,g.tZ)(Q,{align:n,children:(0,d.bQ)(r)})]})};Y.displayName="TickLabel";const J=(0,n.Z)("div",{target:"e1jbvrxt14"})("position:absolute;background-color:",(e=>e.theme.background),";padding:4px;height:100%;border-radius:3px;border:1px solid rgba(0, 0, 0, 0.1);line-height:1;white-space:nowrap;",(({alignLeft:e})=>e?"transform: translateX(-100%) translateX(-8px);":null),";"),K=(0,n.Z)("div",{target:"e1jbvrxt13"})("width:100%;position:sticky;left:0;top:",(e=>k.Z.get("demoMode")?e.theme.demo.headerSize:0),";z-index:",(e=>e.theme.zIndex.traceView.minimapContainer),";background-color:",(e=>e.theme.background),";border-bottom:1px solid ",(e=>e.theme.border),";height:",B.ZR,"px;border-top-left-radius:",(e=>e.theme.borderRadius),";border-top-right-radius:",(e=>e.theme.borderRadius),";"),ee=(0,n.Z)("div",{target:"e1jbvrxt12"})("height:",B.DX,"px;max-height:",B.DX,"px;overflow:hidden;position:absolute;top:0;"),te=(0,n.Z)("div",{target:"e1jbvrxt11"})("height:",B.DX,"px;width:100%;position:relative;left:0;"),re=(0,n.Z)("div",{target:"e1jbvrxt10"})("position:absolute;top:0;height:",B.DX,"px;"),se=(0,n.Z)("div",{target:"e1jbvrxt9"})("height:",B.DX-B.S5,"px;width:2px;background-color:",(e=>e.theme.textColor),";"),ne=(0,n.Z)("div",{target:"e1jbvrxt8"})("position:absolute;background-color:",(e=>e.theme.textColor),";cursor:col-resize;width:8px;height:",B.S5,"px;bottom:0;left:-3px;"),oe=(0,n.Z)("div",{target:"e1jbvrxt7"})("background-color:",(e=>e.theme.textColor),";opacity:0.1;position:absolute;top:0;"),ie=(0,n.Z)("div",{target:"e1jbvrxt6"})({name:"qf74iz",styles:"position:relative;height:2px;min-height:2px;max-height:2px;margin:2px 0;min-width:1px;border-radius:1px;box-sizing:border-box"}),ae=(0,n.Z)("div",{target:"e1jbvrxt5"})({name:"bjn8wh",styles:"position:relative"}),le=(0,n.Z)("div",{target:"e1jbvrxt4"})("position:absolute;top:0;width:1px;background-color:",(e=>e.theme.red300),";transform:translateX(-50%);"),ce=({left:e,onMouseDown:t,isDragging:r})=>(0,g.BX)(re,{style:{left:(0,d.yI)(e)},children:[(0,g.tZ)(se,{}),(0,g.tZ)(ne,{"data-ignore":"true",onMouseDown:t,isDragging:r,style:{height:"".concat(B.S5,"px")}})]});ce.displayName="Handle";const de=(0,n.Z)("div",{target:"e1jbvrxt3"})("position:absolute;top:0;height:",B.DX,"px;background-color:",(e=>e.theme.textColor),";opacity:0.1;"),pe=(0,n.Z)("div",{target:"e1jbvrxt2"})("position:absolute;top:",B.DX+B.h0,"px;left:0;height:",B.h0,"px;width:100%;background-color:",(e=>e.theme.backgroundSecondary),";display:flex;border-top:1px solid ",(e=>e.theme.border),";overflow:hidden;"),he=(0,n.Z)("div",{target:"e1jbvrxt1"})("height:",B.DX+B.h0,"px;position:absolute;left:0;top:0;overflow:hidden;"),ue=(0,n.Z)("div",{target:"e1jbvrxt0"})("height:",B.DX+B.h0,"px;position:absolute;top:0;"),me=F},"./app/components/events/interfaces/spans/scrollbarManager.tsx":(e,t,r)=>{r.d(t,{zt:()=>h,$6:()=>u,Iw:()=>m});var s=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),o=r("./app/components/performance/waterfall/utils.tsx"),i=r("./app/utils/getDisplayName.tsx"),a=r("./app/utils/userselect.tsx"),l=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=n.createContext({generateContentSpanBarRef:()=>()=>{},virtualScrollbarRef:n.createRef(),scrollBarAreaRef:n.createRef(),onDragStart:()=>{},onScroll:()=>{},updateScrollState:()=>{}}),d=(e,t)=>{e instanceof Set?e.forEach((e=>{document.body.contains(e)&&t(e)})):e.current&&t(e.current)},p=(e,t,r)=>e+r*(t-e);class h extends n.Component{constructor(...e){super(...e),(0,s.Z)(this,"state",{maxContentWidth:void 0}),(0,s.Z)(this,"contentSpanBar",new Set),(0,s.Z)(this,"virtualScrollbar",n.createRef()),(0,s.Z)(this,"scrollBarArea",n.createRef()),(0,s.Z)(this,"isDragging",!1),(0,s.Z)(this,"previousUserSelect",null),(0,s.Z)(this,"initializeScrollState",(()=>{if(0===this.contentSpanBar.size||!this.hasInteractiveLayer())return;d(this.contentSpanBar,(e=>{e.style.removeProperty("width"),e.style.removeProperty("max-width"),e.style.removeProperty("overflow"),e.style.removeProperty("transform")}));const e=Array.from(this.contentSpanBar).reduce(((e,t)=>{const r=null===t.offsetParent;if(!document.body.contains(t)||r)return e;const s=t.scrollWidth;return s>e?s:e}),0);d(this.contentSpanBar,(t=>{t.style.width="".concat(e,"px"),t.style.maxWidth="".concat(e,"px"),t.style.overflow="hidden"})),d(this.scrollBarArea,(t=>{t.style.width="".concat(e,"px"),t.style.maxWidth="".concat(e,"px")})),d(this.props.interactiveLayerRef,(e=>{e.scrollLeft=0}));const t=this.getReferenceSpanBar();t&&this.syncVirtualScrollbar(t)})),(0,s.Z)(this,"syncVirtualScrollbar",(e=>{if(!this.virtualScrollbar.current||!this.hasInteractiveLayer())return;const t=this.virtualScrollbar.current,r=e.getBoundingClientRect().width;if(void 0===r||r<=0)return void(t.style.width="0");const s=this.props.interactiveLayerRef.current.getBoundingClientRect().width,n=s/(s+(r-s));n>=1?t.style.width="0":(t.style.width="max(50px, ".concat((0,o.yI)(n),")"),t.style.removeProperty("transform"))})),(0,s.Z)(this,"generateContentSpanBarRef",(()=>{let e=null;return t=>{e&&(this.contentSpanBar.delete(e),e=null),t&&(this.contentSpanBar.add(t),e=t)}})),(0,s.Z)(this,"hasInteractiveLayer",(()=>!!this.props.interactiveLayerRef.current)),(0,s.Z)(this,"initialMouseClickX",void 0),(0,s.Z)(this,"onScroll",(()=>{if(this.isDragging||!this.hasInteractiveLayer())return;const e=this.props.interactiveLayerRef.current,t=e.getBoundingClientRect(),r=e.scrollLeft;d(this.scrollBarArea,(e=>{d(this.virtualScrollbar,(s=>{const n=e.getBoundingClientRect(),i=r/n.width,a=1-(0,o.FV)(s).width/t.width,l=(0,o.uZ)(i,0,a)*t.width;s.style.transform="translate3d(".concat(l,"px, 0, 0)"),s.style.transformOrigin="left"}))})),d(this.contentSpanBar,(e=>{const t=-r;e.style.transform="translate3d(".concat(t,"px, 0, 0)"),e.style.transformOrigin="left"}))})),(0,s.Z)(this,"onDragStart",(e=>{if(this.isDragging||"mousedown"!==e.type||!this.hasInteractiveLayer()||!this.virtualScrollbar.current)return;e.stopPropagation();const t=(0,o.FV)(this.virtualScrollbar.current);this.initialMouseClickX=Math.abs(e.clientX-t.x),this.previousUserSelect=(0,a.l)({userSelect:"none",MozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none"}),window.addEventListener("mousemove",this.onDragMove),window.addEventListener("mouseup",this.onDragEnd),this.isDragging=!0,d(this.virtualScrollbar,(e=>{e.classList.add("dragging"),document.body.style.setProperty("cursor","grabbing","important")}))})),(0,s.Z)(this,"onDragMove",(e=>{if(!this.isDragging||"mousemove"!==e.type||!this.hasInteractiveLayer()||!this.virtualScrollbar.current||void 0===this.initialMouseClickX)return;const t=this.virtualScrollbar.current,r=this.props.interactiveLayerRef.current.getBoundingClientRect(),s=(0,o.FV)(t),n=(e.pageX-r.x-this.initialMouseClickX)/r.width,i=1-s.width/r.width,a=(0,o.uZ)(n,0,1),l=(0,o.uZ)(a,0,i)*r.width;t.style.transform="translate3d(".concat(l,"px, 0, 0)"),t.style.transformOrigin="left";const c=(0,o.uZ)(n/i,0,1);d(this.contentSpanBar,(e=>{const t=e.getBoundingClientRect().width-r.width,s=-p(0,t,c);e.style.transform="translate3d(".concat(s,"px, 0, 0)"),e.style.transformOrigin="left"})),d(this.props.interactiveLayerRef,(e=>{d(this.scrollBarArea,(t=>{const s=t.getBoundingClientRect().width-r.width,n=p(0,s,c);e.scrollLeft=n}))}))})),(0,s.Z)(this,"onDragEnd",(e=>{this.isDragging&&"mouseup"===e.type&&this.hasInteractiveLayer()&&(this.cleanUpListeners(),this.previousUserSelect&&((0,a.l)(this.previousUserSelect),this.previousUserSelect=null),this.isDragging=!1,d(this.virtualScrollbar,(e=>{e.classList.remove("dragging"),document.body.style.removeProperty("cursor")})))})),(0,s.Z)(this,"cleanUpListeners",(()=>{this.isDragging&&(window.removeEventListener("mousemove",this.onDragMove),window.removeEventListener("mouseup",this.onDragEnd))}))}componentDidMount(){this.initializeScrollState()}componentDidUpdate(e){const t=this.props.dividerPosition!==e.dividerPosition,r=e.dragProps&&this.props.dragProps&&(e.dragProps.viewWindowStart!==this.props.dragProps.viewWindowStart||e.dragProps.viewWindowEnd!==this.props.dragProps.viewWindowEnd);(t||r)&&this.initializeScrollState()}componentWillUnmount(){this.cleanUpListeners()}getReferenceSpanBar(){for(const e of this.contentSpanBar){const t=null===e.offsetParent;if(document.body.contains(e)&&!t)return e}}render(){const e={generateContentSpanBarRef:this.generateContentSpanBarRef,onDragStart:this.onDragStart,onScroll:this.onScroll,virtualScrollbarRef:this.virtualScrollbar,scrollBarAreaRef:this.scrollBarArea,updateScrollState:this.initializeScrollState};return(0,l.tZ)(c.Provider,{value:e,children:this.props.children})}}h.displayName="Provider";const u=c.Consumer,m=e=>{var t,r;return r=t=class extends n.Component{render(){return(0,l.tZ)(c.Consumer,{children:t=>{const r={...this.props,...t};return(0,l.tZ)(e,{...r})}})}},(0,s.Z)(t,"displayName","withScrollbarManager(".concat((0,i.Z)(e),")")),r}},"./app/components/performance/waterfall/messageRow.tsx":(e,t,r)=>{r.d(t,{V:()=>a});var s=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=r("./app/components/performance/waterfall/constants.tsx"),o=r("./app/components/performance/waterfall/row.tsx"),i=r("./app/styles/space.tsx");const a=(0,s.Z)(o.X2,{target:"e1khbnog0"})("display:block;cursor:auto;line-height:",n.d,"px;padding-left:",(0,i.Z)(1),";padding-right:",(0,i.Z)(1),";color:",(e=>e.theme.gray300),";background-color:",(e=>e.theme.backgroundSecondary),";outline:1px solid ",(e=>e.theme.border),";font-size:",(e=>e.theme.fontSizeSmall),";z-index:",(e=>e.theme.zIndex.traceView.rowInfoMessage),";>*+*{margin-left:",(0,i.Z)(2),";}")},"./app/components/performance/waterfall/miniHeader.tsx":(e,t,r)=>{r.d(t,{_i:()=>n,cs:()=>o,Qk:()=>i,v6:()=>a});var s=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js");const n=(0,s.Z)("div",{target:"e1663mch3"})("width:1px;background-color:",(e=>e.theme.border),";"),o=(0,s.Z)("div",{target:"e1663mch2"})("display:block;width:100%;height:",70,"px;&>div[data-type='virtual-scrollbar'].dragging>div{background-color:",(e=>e.theme.textColor),";opacity:0.8;cursor:grabbing;}overflow-x:scroll;"),i=(0,s.Z)("div",{target:"e1663mch1"})("height:8px;width:0;padding-left:4px;padding-right:4px;position:sticky;top:",6,"px;left:0;cursor:grab;"),a=(0,s.Z)("div",{target:"e1663mch0"})("height:8px;width:100%;border-radius:20px;transition:background-color 150ms ease;background-color:",(e=>e.theme.textColor),";opacity:0.5;")},"./app/utils/createFuzzySearch.tsx":(e,t,r)=>{r.d(t,{I:()=>n}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var s=r("./app/constants/index.tsx");async function n(e,t){if(!t.keys)throw new Error("You need to define `options.keys`");const{default:n}=await r.e("node_modules_fuse_js_dist_fuse_js").then(r.t.bind(r,"../node_modules/fuse.js/dist/fuse.js",23));return new n(e,{...s.UT,...t})}}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_eventTags_eventTagsPill_tsx-app_components_events_interfaces_spans_anch-b62b10.d8b27838b592e9c1debb48a3236562cd.js.map