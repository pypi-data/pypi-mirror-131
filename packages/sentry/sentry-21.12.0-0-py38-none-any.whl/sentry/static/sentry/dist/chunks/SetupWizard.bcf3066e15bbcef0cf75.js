"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["SetupWizard"],{"./app/views/setupWizard/index.tsx":(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var i=t("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(t("../node_modules/core-js/modules/web.dom-collections.iterator.js"),t("../node_modules/react/index.js")),o=t("./app/components/loadingIndicator.tsx"),r=t("./app/locale.tsx"),d=t("./app/utils/withApi.tsx"),l=t("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends n.Component{constructor(...e){super(...e),(0,i.Z)(this,"state",{finished:!1})}UNSAFE_componentWillMount(){this.pollFinished()}pollFinished(){return new Promise((e=>{this.props.api.request("/wizard/".concat(this.props.hash,"/"),{method:"GET",success:()=>{setTimeout((()=>this.pollFinished()),1e3)},error:()=>{e(),this.setState({finished:!0}),setTimeout((()=>window.close()),1e4)}})}))}renderSuccess(){return(0,l.BX)("div",{className:"row",children:[(0,l.tZ)("h5",{children:(0,r.t)("Return to your terminal to complete your setup")}),(0,l.tZ)("h5",{children:(0,r.t)("(This window will close in 10 seconds)")}),(0,l.tZ)("button",{className:"btn btn-default",onClick:()=>window.close(),children:"Close browser tab"})]})}renderLoading(){return(0,l.tZ)("div",{className:"row",children:(0,l.tZ)("h5",{children:(0,r.t)("Waiting for wizard to connect")})})}render(){const{finished:e}=this.state;return(0,l.tZ)("div",{className:"container",children:(0,l.tZ)(o.Z,{style:{margin:"2em auto"},finished:e,children:e?this.renderSuccess():this.renderLoading()})})}}a.displayName="SetupWizard",(0,i.Z)(a,"defaultProps",{hash:!1});const c=(0,d.Z)(a)}}]);
//# sourceMappingURL=../sourcemaps/SetupWizard.225b5d59ee1a51adcf76821d8fb6001f.js.map