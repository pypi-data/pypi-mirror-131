"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_performance_vitalDetail_index_tsx"],{"./app/components/events/searchBar.tsx":(e,t,r)=>{r.d(t,{Z:()=>C});var a,n=r("../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),s=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/es.string.replace.js"),r("../node_modules/core-js/modules/es.object.from-entries.js"),r("../node_modules/react/index.js")),o=r("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),l=r("../node_modules/lodash/assign.js"),p=r.n(l),c=r("../node_modules/lodash/flatten.js"),u=r.n(c),d=r("../node_modules/lodash/isEqual.js"),m=r.n(d),h=r("../node_modules/lodash/memoize.js"),f=r.n(h),g=r("../node_modules/lodash/omit.js"),v=r.n(g),y=r("./app/actionCreators/tags.tsx"),x=r("./app/components/smartSearchBar/index.tsx"),b=r("./app/constants/index.tsx"),_=r("./app/types/index.tsx"),w=r("./app/utils.tsx"),S=r("./app/utils/discover/fields.tsx"),Z=r("./app/utils/measurements/measurements.tsx"),T=r("./app/utils/withApi.tsx"),P=r("./app/utils/withTags.tsx"),D=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const j=new RegExp("^".concat(b.c$,"|\\").concat(b.ir),"g");class A extends i.PureComponent{constructor(...e){super(...e),(0,s.Z)(this,"getEventFieldValues",f()(((e,t,r)=>{const{api:a,organization:n,projectIds:s}=this.props,i=null==s?void 0:s.map(String);return(0,S.h1)(e.key)||(0,S.Xr)(e.key)?Promise.resolve([]):(0,y.Fo)(a,n.slug,e.key,t,i,r,!0).then((e=>u()(e.filter((({name:e})=>(0,w.ri)(e))).map((({name:e})=>e)))),(()=>{throw new Error("Unable to fetch event field values")}))}),(({key:e},t)=>"".concat(e,"-").concat(t)))),(0,s.Z)(this,"prepareQuery",(e=>e.replace(j,"")))}componentDidMount(){var e,t;null===(e=(t=this.getEventFieldValues.cache).clear)||void 0===e||e.call(t)}componentDidUpdate(e){var t,r;m()(this.props.projectIds,e.projectIds)||null===(t=(r=this.getEventFieldValues.cache).clear)||void 0===t||t.call(r)}getTagList(e){const{fields:t,organization:r,tags:a,omitTags:n}=this.props,s=t?Object.fromEntries(t.filter((e=>!Object.keys(S.wZ).includes(e.field)&&!(0,S.GO)(e.field))).map((e=>[e.field,{key:e.field,name:e.field}]))):{},i=r.features.includes("performance-view")?Object.assign({},e,S.wZ,s):v()(S.wZ,S.J8),o=r.features.includes("semver")?Object.assign({},S.jg,i):i,l=p()({},a,o);return l.has={key:"has",name:"Has property",values:Object.keys(l),predefined:!0},v()(l,null!=n?n:[])}render(){const{organization:e}=this.props;return(0,D.tZ)(Z.Z,{organization:e,children:({measurements:e})=>{const t=this.getTagList(e);return(0,D.tZ)(o.ms,{children:({css:e})=>(0,D.tZ)(x.Z,{hasRecentSearches:!0,savedSearchType:_.L4.EVENT,onGetTagValues:this.getEventFieldValues,supportedTags:t,prepareQuery:this.prepareQuery,excludeEnvironment:!0,dropdownClassName:e(a||(a=(0,n.Z)(["\n                    max-height: 300px;\n                    overflow-y: auto;\n                  "]))),...this.props})})}})}}A.displayName="SearchBar";const C=(0,T.Z)((0,P.Z)(A))},"./app/utils/measurements/measurements.tsx":(e,t,r)=>{r.d(t,{Z:()=>c}),r("../node_modules/core-js/modules/es.object.from-entries.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var a=r("../node_modules/react/index.js"),n=r("./app/utils/performance/vitals/constants.tsx"),s=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,{name:t.name,key:e}])))}const o=i(n.T),l=i(n.r);function p({organization:e,children:t}){const r=e.features.includes("performance-mobile-vitals")?{...l,...o}:l;return(0,s.tZ)(a.Fragment,{children:t({measurements:r})})}p.displayName="Measurements";const c=p},"./app/utils/withTags.tsx":(e,t,r)=>{r.d(t,{Z:()=>l});var a=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/react/index.js")),s=r("./app/stores/tagStore.tsx"),i=r("./app/utils/getDisplayName.tsx"),o=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends n.Component{constructor(...e){super(...e),(0,a.Z)(this,"state",{tags:s.Z.getAllTags()}),(0,a.Z)(this,"unsubscribe",s.Z.listen((e=>this.setState({tags:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{tags:t,...r}=this.props;return(0,o.tZ)(e,{tags:null!=t?t:this.state.tags,...r})}}return t.displayName="WithTags",(0,a.Z)(t,"displayName","withTags(".concat((0,i.Z)(e),")")),t}},"./app/views/performance/breadcrumb.tsx":(e,t,r)=>{r.d(t,{Z:()=>g});var a=r("../node_modules/react/index.js"),n=r("./app/components/breadcrumbs.tsx"),s=r("./app/locale.tsx"),i=r("./app/utils/queryString.tsx"),o=r("./app/views/performance/transactionSummary/tabs.tsx"),l=r("./app/views/performance/transactionSummary/transactionEvents/utils.tsx"),p=r("./app/views/performance/transactionSummary/transactionTags/utils.tsx"),c=r("./app/views/performance/transactionSummary/transactionVitals/utils.tsx"),u=r("./app/views/performance/transactionSummary/utils.tsx"),d=r("./app/views/performance/vitalDetail/utils.tsx"),m=r("./app/views/performance/utils.tsx"),h=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class f extends a.Component{getCrumbs(){const e=[],{organization:t,location:r,transaction:a,vitalName:n,eventSlug:h,traceSlug:f,transactionComparison:g,tab:v}=this.props,y={pathname:(0,m.de)(t),query:{...r.query,transaction:void 0}};if(e.push({to:y,label:(0,s.t)("Performance"),preserveGlobalSelection:!0}),n){const a=(0,d.i4)({orgSlug:t.slug,vitalName:"fcp",projectID:(0,i.ro)(r.query.project),query:r.query});e.push({to:a,label:(0,s.t)("Vital Detail"),preserveGlobalSelection:!0})}else if(a){const n={orgSlug:t.slug,transaction:a.name,projectID:a.project,query:r.query};switch(v){case o.Z.Tags:{const t=(0,p.vG)(n);e.push({to:t,label:(0,s.t)("Tags"),preserveGlobalSelection:!0});break}case o.Z.Events:{const t=(0,l.xr)(n);e.push({to:t,label:(0,s.t)("All Events"),preserveGlobalSelection:!0});break}case o.Z.WebVitals:{const t=(0,c.Pl)(n);e.push({to:t,label:(0,s.t)("Web Vitals"),preserveGlobalSelection:!0});break}case o.Z.TransactionSummary:default:{const t=(0,u.e1)(n);e.push({to:t,label:(0,s.t)("Transaction Summary"),preserveGlobalSelection:!0})}}}return a&&h?e.push({to:"",label:(0,s.t)("Event Details")}):g?e.push({to:"",label:(0,s.t)("Compare to Baseline")}):f&&e.push({to:"",label:(0,s.t)("Trace View")}),e}render(){return(0,h.tZ)(n.Z,{crumbs:this.getCrumbs()})}}f.displayName="Breadcrumb";const g=f},"./app/views/performance/data.tsx":(e,t,r)=>{r.d(t,{GY:()=>u,hj:()=>d,V$:()=>m,ze:()=>h,L0:()=>f,g1:()=>g,DW:()=>v,Gm:()=>y,$r:()=>b,C:()=>_,AM:()=>w}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var a=r("./app/components/gridEditable/index.tsx"),n=r("./app/constants/pageFilters.tsx"),s=r("./app/locale.tsx"),i=r("./app/utils/discover/eventView.tsx"),o=r("./app/utils/queryString.tsx"),l=r("./app/utils/tokenizeSearch.tsx"),p=r("./app/views/performance/landing/utils.tsx"),c=r("./app/views/performance/vitalDetail/utils.tsx");const u="24h",d=["transaction","project","tpm","p50","p95","failure rate","apdex","users","user misery"];let m;function h(e){return[{tooltip:b(e,m.APDEX_NEW),value:"apdex()",label:(0,s.t)("Apdex")},{tooltip:b(e,m.TPM),value:"tpm()",label:(0,s.t)("Transactions Per Minute")},{tooltip:b(e,m.FAILURE_RATE),value:"failure_rate()",label:(0,s.t)("Failure Rate")},{tooltip:b(e,m.P50),value:"p50()",label:(0,s.t)("p50 Duration")},{tooltip:b(e,m.P95),value:"p95()",label:(0,s.t)("p95 Duration")},{tooltip:b(e,m.P99),value:"p99()",label:(0,s.t)("p99 Duration")}]}function f(e){return[{tooltip:b(e,m.LCP),value:"p75(lcp)",label:(0,s.t)("LCP p75"),field:"p75(measurements.lcp)",isLeftDefault:!0,backupOption:{tooltip:b(e,m.FCP),value:"p75(fcp)",label:(0,s.t)("FCP p75"),field:"p75(measurements.fcp)"}},{tooltip:b(e,m.DURATION_DISTRIBUTION),value:"lcp_distribution",label:(0,s.t)("LCP Distribution"),field:"measurements.lcp",isDistribution:!0,isRightDefault:!0,backupOption:{tooltip:b(e,m.DURATION_DISTRIBUTION),value:"fcp_distribution",label:(0,s.t)("FCP Distribution"),field:"measurements.fcp",isDistribution:!0}},{tooltip:b(e,m.TPM),value:"tpm()",label:(0,s.t)("Transactions Per Minute"),field:"tpm()"}]}function g(e){return[{tooltip:b(e,m.P50),value:"p50()",label:(0,s.t)("Duration p50"),field:"p50(transaction.duration)"},{tooltip:b(e,m.P75),value:"p75()",label:(0,s.t)("Duration p75"),field:"p75(transaction.duration)",isLeftDefault:!0},{tooltip:b(e,m.P95),value:"p95()",label:(0,s.t)("Duration p95"),field:"p95(transaction.duration)"},{tooltip:b(e,m.DURATION_DISTRIBUTION),value:"duration_distribution",label:(0,s.t)("Duration Distribution"),field:"transaction.duration",isDistribution:!0,isRightDefault:!0}]}function v(e){return[{tooltip:b(e,m.P50),value:"p50()",label:(0,s.t)("Duration p50"),field:"p50(transaction.duration)"},{tooltip:b(e,m.P75),value:"p75()",label:(0,s.t)("Duration p75"),field:"p75(transaction.duration)",isLeftDefault:!0},{tooltip:b(e,m.P95),value:"p95()",label:(0,s.t)("Duration p95"),field:"p95(transaction.duration)"},{tooltip:b(e,m.P99),value:"p99()",label:(0,s.t)("Duration p99"),field:"p99(transaction.duration)"},{tooltip:b(e,m.TPM),value:"tpm()",label:(0,s.t)("Transactions Per Minute"),field:"tpm()"},{tooltip:b(e,m.FAILURE_RATE),value:"failure_rate()",label:(0,s.t)("Failure Rate"),field:"failure_rate()"},{tooltip:b(e,m.DURATION_DISTRIBUTION),value:"duration_distribution",label:(0,s.t)("Duration Distribution"),field:"transaction.duration",isDistribution:!0,isRightDefault:!0},{tooltip:b(e,m.APDEX),value:"apdex()",label:(0,s.t)("Apdex"),field:"apdex()"}]}function y(e){return[{tooltip:b(e,m.APP_START_COLD),value:"p50(measurements.app_start_cold)",label:(0,s.t)("Cold Start Duration p50"),field:"p50(measurements.app_start_cold)"},{tooltip:b(e,m.APP_START_COLD),value:"p75(measurements.app_start_cold)",label:(0,s.t)("Cold Start Duration p75"),field:"p75(measurements.app_start_cold)",isLeftDefault:!0},{tooltip:b(e,m.APP_START_COLD),value:"p95(measurements.app_start_cold)",label:(0,s.t)("Cold Start Duration p95"),field:"p95(measurements.app_start_cold)"},{tooltip:b(e,m.APP_START_COLD),value:"p99(measurements.app_start_cold)",label:(0,s.t)("Cold Start Duration p99"),field:"p99(measurements.app_start_cold)"},{tooltip:b(e,m.DURATION_DISTRIBUTION),value:"app_start_cold_distribution",label:(0,s.t)("Cold Start Distribution"),field:"measurements.app_start_cold",isDistribution:!0,isRightDefault:!0},{tooltip:b(e,m.APP_START_WARM),value:"p50(measurements.app_start_warm)",label:(0,s.t)("Warm Start Duration p50"),field:"p50(measurements.app_start_warm)"},{tooltip:b(e,m.APP_START_WARM),value:"p75(measurements.app_start_warm)",label:(0,s.t)("Warm Start Duration p75"),field:"p75(measurements.app_start_warm)"},{tooltip:b(e,m.APP_START_WARM),value:"p95(measurements.app_start_warm)",label:(0,s.t)("Warm Start Duration p95"),field:"p95(measurements.app_start_warm)"},{tooltip:b(e,m.APP_START_WARM),value:"p99(measurements.app_start_warm)",label:(0,s.t)("Warm Start Duration p99"),field:"p99(measurements.app_start_warm)"},{tooltip:b(e,m.DURATION_DISTRIBUTION),value:"app_start_warm_distribution",label:(0,s.t)("Warm Start Distribution"),field:"measurements.app_start_warm",isDistribution:!0},{tooltip:b(e,m.TPM),value:"tpm()",label:(0,s.t)("Transactions Per Minute"),field:"tpm()"},{tooltip:b(e,m.FAILURE_RATE),value:"failure_rate()",label:(0,s.t)("Failure Rate"),field:"failure_rate()"}]}!function(e){e.APDEX="apdex",e.TPM="tpm",e.THROUGHPUT="throughput",e.FAILURE_RATE="failureRate",e.P50="p50",e.P75="p75",e.P95="p95",e.P99="p99",e.LCP="lcp",e.FCP="fcp",e.FID="fid",e.CLS="cls",e.USER_MISERY="userMisery",e.STATUS_BREAKDOWN="statusBreakdown",e.DURATION_DISTRIBUTION="durationDistribution",e.USER_MISERY_NEW="userMiseryNew",e.APDEX_NEW="apdexNew",e.APP_START_COLD="appStartCold",e.APP_START_WARM="appStartWarm",e.SLOW_FRAMES="slowFrames",e.FROZEN_FRAMES="frozenFrames",e.STALL_PERCENTAGE="stallPercentage",e.MOST_ISSUES="mostIssues",e.MOST_ERRORS="mostErrors",e.SLOW_HTTP_SPANS="slowHTTPSpans"}(m||(m={}));const x={apdex:()=>(0,s.t)("Apdex is the ratio of both satisfactory and tolerable response times to all response times. To adjust the tolerable threshold, go to performance settings."),tpm:()=>(0,s.t)("TPM is the number of recorded transaction events per minute."),throughput:()=>(0,s.t)("Throughput is the number of recorded transaction events per minute."),failureRate:()=>(0,s.t)("Failure rate is the percentage of recorded transactions that had a known and unsuccessful status."),p50:()=>(0,s.t)("p50 indicates the duration that 50% of transactions are faster than."),p75:()=>(0,s.t)("p75 indicates the duration that 75% of transactions are faster than."),p95:()=>(0,s.t)("p95 indicates the duration that 95% of transactions are faster than."),p99:()=>(0,s.t)("p99 indicates the duration that 99% of transactions are faster than."),lcp:()=>(0,s.t)("Largest contentful paint (LCP) is a web vital meant to represent user load times"),fcp:()=>(0,s.t)("First contentful paint (FCP) is a web vital meant to represent user load times"),fid:()=>(0,s.t)("First input delay (FID) is a web vital representing load for the first user interaction on a page."),cls:()=>(0,s.t)("Cumulative layout shift (CLS) is a web vital measuring unexpected visual shifting a user experiences."),userMisery:e=>(0,s.t)("User Misery is a score that represents the number of unique users who have experienced load times 4x your organization's apdex threshold of %sms.",e.apdexThreshold),statusBreakdown:()=>(0,s.t)("The breakdown of transaction statuses. This may indicate what type of failure it is."),durationDistribution:()=>(0,s.t)("Distribution buckets counts of transactions at specifics times for your current date range"),userMiseryNew:()=>(0,s.t)("User Misery is a score that represents the number of unique users who have experienced load times 4x the project's configured threshold. Adjust project threshold in project performance settings."),apdexNew:()=>(0,s.t)("Apdex is the ratio of both satisfactory and tolerable response times to all response times. To adjust the tolerable threshold, go to project performance settings."),appStartCold:()=>(0,s.t)("Cold start is a measure of the application start up time from scratch."),appStartWarm:()=>(0,s.t)("Warm start is a measure of the application start up time while still in memory."),slowFrames:()=>(0,s.t)("The count of the number of slow frames in the transaction."),frozenFrames:()=>(0,s.t)("The count of the number of frozen frames in the transaction."),mostErrors:()=>(0,s.t)("Transactions with the most associated errors."),mostIssues:()=>(0,s.t)("The most instances of an issue for a related transaction."),slowHTTPSpans:()=>(0,s.t)("The transactions with the slowest spans of a certain type."),stallPercentage:()=>(0,s.t)("The percentage of the transaction duration in which the application is in a stalled state.")};function b(e,t){return x.hasOwnProperty(t)?x[t](e):""}function _(e,t,r,{isTrends:c=!1,isMetricsData:d=!1}={}){const m=function(e,t){const{query:r}=e,n=r.start&&r.end,p={id:void 0,name:(0,s.t)("Performance"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","tpm()","p50()","p95()","failure_rate()","apdex()","count_unique(user)","count_miserable(user)","user_misery()"],version:2},c=Array(p.fields.length).fill(a.z7);c[p.fields.length-1]="110",p.widths=c,r.statsPeriod||n||(p.range=u),p.orderby=(0,o.ro)(r.sort,"-tpm");const d=(0,o.ro)(r.query,""),m=new l.MY(d);m.hasFilter("transaction.duration")||t||m.setFilterValues("transaction.duration",["<15m"]),m.freeText.length>0&&(m.setFilterValues("transaction",["*".concat(m.freeText.join(" "),"*")],!1),m.freeText=[]),p.query=m.formatString();const h=i.ZP.fromNewQueryWithLocation(p,e);return h.additionalConditions.addFilterValues("event.type",["transaction"]),h}(e,d);if(c)return m;const h=(0,p.Q_)(e,r,m);switch(null==h?void 0:h.field){case p.BY.FRONTEND_PAGELOAD:return function(e,t){const{query:r}=e,n=r.start&&r.end,p={id:void 0,name:(0,s.t)("Performance"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","tpm()","p75(measurements.fcp)","p75(measurements.lcp)","p75(measurements.fid)","p75(measurements.cls)","count_unique(user)","count_miserable(user)","user_misery()"],version:2},c=Array(p.fields.length).fill(a.z7);c[p.fields.length-1]="110",p.widths=c,r.statsPeriod||n||(p.range=u),p.orderby=(0,o.ro)(r.sort,"-tpm");const d=(0,o.ro)(r.query,""),m=new l.MY(d);m.hasFilter("transaction.duration")||t||m.setFilterValues("transaction.duration",["<15m"]),m.freeText.length>0&&(m.setFilterValues("transaction",["*".concat(m.freeText.join(" "),"*")],!1),m.freeText=[]),p.query=m.formatString();const h=i.ZP.fromNewQueryWithLocation(p,e);return h.additionalConditions.addFilterValues("event.type",["transaction"]).addFilterValues("transaction.op",["pageload"]),h}(e,d);case p.BY.FRONTEND_OTHER:return function(e,t,r){const{query:n}=e,p=n.start&&n.end,c={id:void 0,name:(0,s.t)("Performance"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","transaction.op","tpm()","p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)","count_unique(user)","count_miserable(user)","user_misery()"],version:2},d=Array(c.fields.length).fill(a.z7);d[c.fields.length-1]="110",c.widths=d,n.statsPeriod||p||(c.range=u),c.orderby=(0,o.ro)(n.sort,"-tpm");const m=(0,o.ro)(n.query,""),h=new l.MY(m);h.hasFilter("transaction.duration")||r||h.setFilterValues("transaction.duration",["<15m"]),h.freeText.length>0&&(h.setFilterValues("transaction",["*".concat(h.freeText.join(" "),"*")],!1),h.freeText=[]),c.query=h.formatString();const f=i.ZP.fromNewQueryWithLocation(c,e);return f.additionalConditions.addFilterValues("event.type",["transaction"]),t.features.includes("organizations:performance-landing-widgets")||f.additionalConditions.addFilterValues("!transaction.op",["pageload"]),f}(e,t,d);case p.BY.BACKEND:return function(e,t){const{query:r}=e,n=r.start&&r.end,p={id:void 0,name:(0,s.t)("Performance"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","transaction.op","http.method","tpm()","p50()","p95()","failure_rate()","apdex()","count_unique(user)","count_miserable(user)","user_misery()"],version:2},c=Array(p.fields.length).fill(a.z7);c[p.fields.length-1]="110",p.widths=c,r.statsPeriod||n||(p.range=u),p.orderby=(0,o.ro)(r.sort,"-tpm");const d=(0,o.ro)(r.query,""),m=new l.MY(d);m.hasFilter("transaction.duration")||t||m.setFilterValues("transaction.duration",["<15m"]),m.freeText.length>0&&(m.setFilterValues("transaction",["*".concat(m.freeText.join(" "),"*")],!1),m.freeText=[]),p.query=m.formatString();const h=i.ZP.fromNewQueryWithLocation(p,e);return h.additionalConditions.addFilterValues("event.type",["transaction"]),h}(e,d);case p.BY.MOBILE:return function(e,t,r,p){const{query:c}=e,d=["team_key_transaction","transaction","project","transaction.op","tpm()","p75(measurements.app_start_cold)","p75(measurements.app_start_warm)","p75(measurements.frames_slow_rate)","p75(measurements.frames_frozen_rate)"],m=r.project;if(m.length>0&&m[0]!==n.mP){const e=t.filter((e=>m.includes(parseInt(e.id,10))));e.length>0&&e.every((e=>"react-native"===e.platform))&&(d.pop(),d.pop(),d.push("p75(measurements.stall_percentage)"))}const h=c.start&&c.end,f={id:void 0,name:(0,s.t)("Performance"),query:"event.type:transaction",projects:[],fields:[...d,"count_unique(user)","count_miserable(user)","user_misery()"],version:2},g=Array(f.fields.length).fill(a.z7);g[f.fields.length-1]="110",f.widths=g,c.statsPeriod||h||(f.range=u),f.orderby=(0,o.ro)(c.sort,"-tpm");const v=(0,o.ro)(c.query,""),y=new l.MY(v);y.hasFilter("transaction.duration")||p||y.setFilterValues("transaction.duration",["<15m"]),y.freeText.length>0&&(y.setFilterValues("transaction",["*".concat(y.freeText.join(" "),"*")],!1),y.freeText=[]),f.query=y.formatString();const x=i.ZP.fromNewQueryWithLocation(f,e);return x.additionalConditions.addFilterValues("event.type",["transaction"]),x}(e,r,m,d);default:return m}}function w(e,t){const{query:r}=t,a=(0,c.iF)(t),n=r.start&&r.end,p={id:void 0,name:(0,s.t)("Vitals Performance Details"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","count_unique(user)","count()","p50(".concat(a,")"),"p75(".concat(a,")"),"p95(".concat(a,")"),(0,c.Ve)(a),(0,c.q4)(a)],version:2};r.statsPeriod||n||(p.range=u),p.orderby=(0,o.ro)(r.sort,"-count");const d=(0,o.ro)(r.query,""),m=new l.MY(d);m.freeText.length>0&&(m.setFilterValues("transaction",["*".concat(m.freeText.join(" "),"*")],!1),m.freeText=[]),p.query=m.formatString();const h=i.ZP.fromNewQueryWithLocation(p,t);return h.additionalConditions.addFilterValues("event.type",["transaction"]).addFilterValues("has",[a]),h}},"./app/views/performance/landing/utils.tsx":(e,t,r)=>{r.d(t,{Y1:()=>m,V:()=>h,BY:()=>f,Lx:()=>g,NO:()=>v,kP:()=>y,Cf:()=>x,TT:()=>b,Q_:()=>_,NJ:()=>w,Oo:()=>S,hv:()=>Z,Gd:()=>T});var a=r("../node_modules/react-router/es/index.js"),n=r("../node_modules/lodash/omit.js"),s=r.n(n),i=r("./app/locale.tsx"),o=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),l=r("./app/utils/formatters.tsx"),p=r("./app/utils/queryString.tsx"),c=r("./app/utils/tokenizeSearch.tsx"),u=r("./app/views/performance/data.tsx"),d=r("./app/views/performance/utils.tsx");const m="left",h="right";let f;!function(e){e.ALL="all",e.FRONTEND_PAGELOAD="frontend_pageload",e.FRONTEND_OTHER="frontend_other",e.BACKEND="backend",e.MOBILE="mobile"}(f||(f={}));const g=[{label:"All Transactions",field:f.ALL},{label:"Frontend (Pageload)",field:f.FRONTEND_PAGELOAD},{label:"Frontend (Other)",field:f.FRONTEND_OTHER},{label:"Backend",field:f.BACKEND},{label:"Mobile",field:f.MOBILE,isShown:e=>e.features.includes("performance-mobile-vitals")}],v=[{label:"All Transactions",field:f.ALL},{label:"Web Vitals",field:f.FRONTEND_PAGELOAD},{label:"Frontend",field:f.FRONTEND_OTHER},{label:"Backend",field:f.BACKEND},{label:"Mobile",field:f.MOBILE,isShown:e=>e.features.includes("performance-mobile-vitals")}];function y(e,t){const{eventView:r,location:n}=t,s=new c.MY(r.query);s.addFilterValues("!transaction",["".concat(e)]),a.browserHistory.push({pathname:n.pathname,query:{...n.query,cursor:void 0,query:s.formatString()}})}function x(e){var t;const r=(0,p.ro)(null==e||null===(t=e.query)||void 0===t?void 0:t.landingDisplay);return g.find((({field:e})=>e===r))}function b(e,t){const r=S(e,t);return g.find((({field:e})=>e===r))||g[0]}function _(e,t,r){return x(e)||b(t,r)}function w(e,t,r,n,i){const l=(0,p.ro)(t.query.query,""),u=new c.MY(l);u.removeFilter("transaction.op");const d={...s()(t.query,["landingDisplay","sort"]),query:u.formatString()};delete d[m],delete d[h];const f=S(r,i),g=_(t,r,i).field,v=f===e?{...d}:{...d,landingDisplay:e};(0,o.Z)("performance_views.landingv3.display_change",{organization:n,change_to_display:e,default_display:f,current_display:g,is_default:f===g}),a.browserHistory.push({pathname:t.pathname,query:v})}function S(e,t){var r;if(!t)return f.ALL;const a=t.project;return null!==(r={[d.iy.ANY]:f.ALL,[d.iy.FRONTEND]:f.FRONTEND_PAGELOAD,[d.iy.BACKEND]:f.BACKEND,[d.iy.MOBILE]:f.MOBILE}[(0,d.Bh)(e,a)])&&void 0!==r?r:f.ALL}const Z=e=>({"p75(transaction.duration)":{title:(0,i.t)("Duration (p75)"),tooltip:(0,u.$r)(e,u.V$.P75),formatter:e=>(0,l.g9)(e/1e3,e>=1e3?3:0,!0)},"tpm()":{title:(0,i.t)("Throughput"),tooltip:(0,u.$r)(e,u.V$.THROUGHPUT),formatter:l.Du},"failure_rate()":{title:(0,i.t)("Failure Rate"),tooltip:(0,u.$r)(e,u.V$.FAILURE_RATE),formatter:e=>(0,l.rl)(e,2)},"apdex()":{title:(0,i.t)("Apdex"),tooltip:(0,u.$r)(e,u.V$.APDEX_NEW),formatter:e=>(0,l.$1)(e,4)},"p75(measurements.frames_slow_rate)":{title:(0,i.t)("Slow Frames (p75)"),tooltip:(0,u.$r)(e,u.V$.SLOW_FRAMES),formatter:e=>(0,l.rl)(e,2)},"p75(measurements.frames_frozen_rate)":{title:(0,i.t)("Frozen Frames (p75)"),tooltip:(0,u.$r)(e,u.V$.FROZEN_FRAMES),formatter:e=>(0,l.rl)(e,2)},"p75(measurements.app_start_cold)":{title:(0,i.t)("Cold Start (p75)"),tooltip:(0,u.$r)(e,u.V$.APP_START_COLD),formatter:e=>(0,l.g9)(e/1e3,e>=1e3?3:0,!0)},"p75(measurements.app_start_warm)":{title:(0,i.t)("Warm Start (p75)"),tooltip:(0,u.$r)(e,u.V$.APP_START_WARM),formatter:e=>(0,l.g9)(e/1e3,e>=1e3?3:0,!0)},"p75(measurements.stall_percentage)":{title:(0,i.t)("Stall Percentage (p75)"),tooltip:(0,u.$r)(e,u.V$.STALL_PERCENTAGE),formatter:e=>(0,l.rl)(e,2)}});function T(e,t){const r=e.find((e=>e.isLeftDefault))||e[0],a=e.find((e=>e.isRightDefault))||e[1];return{leftAxis:e.find((e=>e.value===t.query[m]))||r,rightAxis:e.find((e=>e.value===t.query[h]))||a}}},"./app/views/performance/transactionSummary/tabs.tsx":(e,t,r)=>{var a;r.d(t,{Z:()=>n}),function(e){e[e.TransactionSummary=0]="TransactionSummary",e[e.WebVitals=1]="WebVitals",e[e.Tags=2]="Tags",e[e.Events=3]="Events",e[e.Spans=4]="Spans"}(a||(a={}));const n=a},"./app/views/performance/transactionSummary/transactionTags/utils.tsx":(e,t,r)=>{r.d(t,{Zn:()=>s,bZ:()=>i,vG:()=>o,oc:()=>l,oT:()=>p});var a=r("./app/utils/analytics.tsx"),n=r("./app/utils/queryString.tsx");function s(e){return(0,n.ro)(e.query.tagKey)}function i(e){(0,a.ec)({eventKey:"performance_views.tags.interaction",eventName:"Performance Views: Tag Page - Interaction",organization_id:parseInt(e.id,10)})}function o({orgSlug:e,transaction:t,projectID:r,query:a}){return{pathname:function({orgSlug:e}){return"/organizations/".concat(e,"/performance/summary/tags/")}({orgSlug:e}),query:{transaction:t,project:r,environment:a.environment,statsPeriod:a.statsPeriod,start:a.start,end:a.end,query:a.query,tagKey:a.tagKey}}}function l(e){var t,r;let a=null!==(t=(0,n.ro)(null===(r=e.query)||void 0===r?void 0:r.tagSort))&&void 0!==t?t:"-frequency";return["sumdelta"].find((e=>{var t;return null===(t=a)||void 0===t?void 0:t.includes(e)}))&&(a="-frequency"),a}function p(e){const t=Object.keys(e).find((e=>e.includes("histogram")));if(!t)return;const r=t.split("_");return{histogramField:t,bucketSize:parseInt(r[r.length-3],10),offset:parseInt(r[r.length-2],10),multiplier:parseInt(r[r.length-1],10)}}},"./app/views/performance/transactionSummary/transactionVitals/utils.tsx":(e,t,r)=>{r.d(t,{Pl:()=>n,oZ:()=>s,eH:()=>i,L0:()=>o,jb:()=>l});var a=r("./app/utils/performance/histogram/utils.tsx");function n({orgSlug:e,transaction:t,projectID:r,query:a}){return{pathname:function({orgSlug:e}){return"/organizations/".concat(e,"/performance/summary/vitals/")}({orgSlug:e}),query:{transaction:t,project:r,environment:a.environment,statsPeriod:a.statsPeriod,start:a.start,end:a.end,query:a.query}}}function s(e,t){const r=(0,a.te)(e);return!e.length||t>=e[e.length-1].bin+r?null:t<e[0].bin?-1:Math.floor((t-e[0].bin)/r)}function i(e){if(e.length<2)return null;for(let t=0;t<e.length;t++){const r=e[t];for(let a=t+1;a<e.length;a++){const n=e[a];if(r.bin!==n.bin&&r.count!==n.count)return{point1:{x:t,y:Math.min(r.count,n.count)},point2:{x:a,y:Math.max(r.count,n.count)}}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function o(e,t){const r=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point1.x,t.point1.y]);if(isNaN(null==r?void 0:r[0])||isNaN(null==r?void 0:r[1]))return null;const a=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point2.x,t.point2.y]);return isNaN(null==a?void 0:a[0])||isNaN(null==a?void 0:a[1])?null:{point1:{x:r[0],y:r[1]},point2:{x:a[0],y:a[1]}}}function l(e,t,r){if(t.point1.x===t.point2.x||t.point1.y===t.point2.y||r.point1.x===r.point2.x||r.point1.y===r.point2.y)return null;const a=(e.x-t.point1.x)/(t.point2.x-t.point1.x),n=(e.y-t.point1.y)/(t.point2.y-t.point1.y);return{x:r.point1.x+(r.point2.x-r.point1.x)*a,y:r.point1.y+(r.point2.y-r.point1.y)*n}}},"./app/views/performance/vitalDetail/index.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>we});var a=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/es.string.trim.js"),r("../node_modules/core-js/modules/es.string.replace.js"),r("../node_modules/react/index.js")),i=r("../node_modules/react-router/es/index.js"),o=r("../node_modules/lodash/isEqual.js"),l=r.n(o),p=r("./app/actionCreators/tags.tsx"),c=r("./app/components/noProjectMessage.tsx"),u=r("./app/components/organizations/globalSelectionHeader/index.tsx"),d=r("./app/components/sentryDocumentTitle.tsx"),m=r("./app/locale.tsx"),h=r("./app/styles/organization.tsx"),f=r("./app/utils/discover/fields.tsx"),g=r("./app/utils/performance/contexts/performanceEventViewContext.tsx"),v=r("./app/utils/queryString.tsx"),y=r("./app/utils/withApi.tsx"),x=r("./app/utils/withGlobalSelection.tsx"),b=r("./app/utils/withOrganization.tsx"),_=r("./app/utils/withProjects.tsx"),w=r("./app/views/performance/data.tsx"),S=r("./app/views/performance/utils.tsx"),Z=r("../node_modules/lodash/omit.js"),T=r.n(Z),P=r("./app/components/acl/feature.tsx"),D=r("./app/components/alert.tsx"),j=r("./app/components/button.tsx"),A=r("./app/components/buttonBar.tsx"),C=r("./app/components/createAlertButton.tsx"),N=r("./app/components/events/searchBar.tsx"),E=r("./app/components/layouts/thirds.tsx"),q=r("./app/components/loadingIndicator.tsx"),L=r("./app/components/organizations/globalSelectionHeader/getParams.tsx"),F=r("./app/components/performance/teamKeyTransactionsManager.tsx"),R=r("./app/icons/index.tsx"),O=r("./app/icons/iconFlag.tsx"),V=r("./app/styles/space.tsx"),I=r("./app/utils.tsx"),k=r("./app/utils/teams.tsx"),M=r("./app/utils/tokenizeSearch.tsx"),z=r("./app/views/performance/breadcrumb.tsx"),B=r("./app/components/gridEditable/index.tsx"),W=r("./app/components/gridEditable/sortLink.tsx"),U=r("./app/components/links/link.tsx"),H=r("./app/components/pagination.tsx"),G=r("./app/components/tag.tsx"),Y=r("./app/utils/analytics.tsx"),X=r("./app/utils/discover/eventView.tsx"),Q=r("./app/utils/discover/fieldRenderers.tsx"),$=r("./app/utils/discover/genericDiscoverQuery.tsx"),K=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function J(e){return(0,K.tZ)($.ZP,{route:"eventsv2",...e})}J.displayName="VitalsCardsDiscoverQuery";const ee=(0,y.Z)(J);var te=r("./app/views/eventsV2/table/cellAction.tsx"),re=r("./app/views/performance/transactionSummary/transactionOverview/charts.tsx"),ae=r("./app/views/performance/transactionSummary/utils.tsx"),ne=r("./app/views/performance/vitalDetail/utils.tsx");const se=["Transaction","Project","Unique Users","Count"];class ie extends s.Component{constructor(...e){super(...e),(0,a.Z)(this,"state",{widths:[]}),(0,a.Z)(this,"handleCellAction",(e=>(t,r)=>{const{eventView:a,location:n,organization:s}=this.props;(0,Y.ec)({eventKey:"performance_views.overview.cellaction",eventName:"Performance Views: Cell Action Clicked",organization_id:parseInt(s.id,10),action:t});const o=new M.MY(a.query);o.removeFilter("event.type"),(0,te.rh)(o,t,e,r),i.browserHistory.push({pathname:n.pathname,query:{...n.query,cursor:void 0,query:o.formatString()}})})),(0,a.Z)(this,"renderBodyCellWithData",((e,t)=>(r,a)=>this.renderBodyCell(e,r,a,t))),(0,a.Z)(this,"renderHeadCellWithMeta",((e,t)=>(r,a)=>this.renderHeadCell(e,r,((e,t)=>{const r=ne.a7[t];return[...se,"p50(".concat(r,")"),"p75(".concat(r,")"),"p95(".concat(r,")"),"Status"][e]})(a,t)))),(0,a.Z)(this,"renderPrependCellWithData",((e,t)=>{const{eventView:r}=this.props,a=r.getColumns().find((e=>"team_key_transaction"===e.name));return(r,n)=>{if(a){if(r){const t=(0,K.tZ)(R.GK,{color:"yellow300",isSolid:!0,"data-test-id":"key-transaction-header"},"keyTransaction");return[this.renderHeadCell(null==e?void 0:e.meta,a,t)]}return[this.renderBodyCell(e,a,n,t)]}return[]}})),(0,a.Z)(this,"handleSummaryClick",(()=>{const{organization:e}=this.props;(0,Y.ec)({eventKey:"performance_views.overview.navigate.summary",eventName:"Performance Views: Overview view summary",organization_id:parseInt(e.id,10)})})),(0,a.Z)(this,"handleResizeColumn",((e,t)=>{const r=[...this.state.widths];r[e]=t.width?Number(t.width):B.z7,this.setState({widths:r})}))}renderBodyCell(e,t,r,a){const{eventView:n,organization:s,projects:i,location:o,summaryConditions:l}=this.props;if(!e||!e.meta)return r[t.key];const p=e.meta,c=String(t.key);if(c===(0,ne.Ve)(a))return r[(0,f.LY)(c)]?(0,K.tZ)(oe,{children:(0,K.tZ)(ce,{children:(0,m.t)("Poor")})}):r[(0,f.LY)((0,ne.q4)(a))]?(0,K.tZ)(oe,{children:(0,K.tZ)(pe,{children:(0,m.t)("Meh")})}):(0,K.tZ)(oe,{children:(0,K.tZ)(le,{children:(0,m.t)("Good")})});const u=(0,Q.Js)(c,p)(r,{organization:s,location:o}),d=[te.eX.ADD,te.eX.EXCLUDE,te.eX.SHOW_GREATER_THAN,te.eX.SHOW_LESS_THAN];if("transaction"===c){const e=function(e,t){const r=(null==e?void 0:e.project)||void 0;if(void 0===typeof r)return;const a=t.find((e=>e.slug===r));return a?a.id:void 0}(r,i),o=n.clone(),p=new M.MY(l);p.addFilterValues("has",["".concat(a)]),o.query=p.formatString();const c=(0,ae.e1)({orgSlug:s.slug,transaction:String(r.transaction)||"",query:o.generateQueryStringObject(),projectID:e,showTransactions:ae.K0.RECENT,display:re.D.VITALS});return(0,K.tZ)(te.ZP,{column:t,dataRow:r,handleCellAction:this.handleCellAction(t),allowActions:d,children:(0,K.tZ)(U.Z,{to:c,onClick:this.handleSummaryClick,children:u})})}return c.startsWith("team_key_transaction")?u:(0,K.tZ)(te.ZP,{column:t,dataRow:r,handleCellAction:this.handleCellAction(t),allowActions:d,children:u})}renderHeadCell(e,t,r){const{eventView:a,location:n}=this.props,s=(0,f.qG)(t.name,t.type,e),i={field:t.name,width:t.width},o=a.sortForField(i,e),l=(0,X.M3)(i,e);return(0,K.tZ)(W.Z,{align:s,title:r||i.field,direction:o?o.kind:void 0,canSort:l,generateSortLink:function(){if(!e)return;const t=a.sortOnField(i,e).generateQueryStringObject();return{...n,query:{...n.query,sort:t.sort}}}})}getSortedEventView(e){const{eventView:t}=this.props,r=(0,f.LY)((0,ne.Ve)(e)),a=(0,f.LY)((0,ne.q4)(e)),n=t.sorts.some((e=>e.field.includes(r)||e.field.includes(a)))?[]:[{field:"team_key_transaction",kind:"desc"},{field:r,kind:"desc"},{field:a,kind:"desc"}];return t.withSorts([...n,...t.sorts])}render(){const{eventView:e,organization:t,location:r}=this.props,{widths:a}=this.state,n=e.clone();n.fields=[...e.fields];const i=n.getColumns().filter((e=>"team_key_transaction"!==e.name)).slice(0,-1).map(((e,t)=>"number"==typeof a[t]?{...e,width:a[t]}:e)),o=(0,ne.iF)(r),l=this.getSortedEventView(o),p=l.getSorts();return(0,K.tZ)("div",{children:(0,K.tZ)(ee,{eventView:l,orgSlug:t.slug,location:r,limit:10,referrer:"api.performance.vital-detail",children:({pageLinks:e,isLoading:t,tableData:a})=>(0,K.BX)(s.Fragment,{children:[(0,K.tZ)(B.ZP,{isLoading:t,data:a?a.data:[],columnOrder:i,columnSortBy:p,grid:{onResizeColumn:this.handleResizeColumn,renderHeadCell:this.renderHeadCellWithMeta(null==a?void 0:a.meta,o),renderBodyCell:this.renderBodyCellWithData(a,o),renderPrependColumns:this.renderPrependCellWithData(a,o),prependColumnWidths:["max-content"]},location:r}),(0,K.tZ)(H.Z,{pageLinks:e})]})})})}}ie.displayName="Table";const oe=(0,n.Z)("div",{target:"ebw8yf93"})({name:"2qga7i",styles:"text-align:right"}),le=(0,n.Z)(G.Z,{target:"ebw8yf92"})("div{background-color:",(e=>e.theme[ne.fL[ne.SP.GOOD]]),";}span{color:",(e=>e.theme.white),";}"),pe=(0,n.Z)(G.Z,{target:"ebw8yf91"})("div{background-color:",(e=>e.theme[ne.fL[ne.SP.MEH]]),";}span{color:",(e=>e.theme.white),";}"),ce=(0,n.Z)(G.Z,{target:"ebw8yf90"})("div{background-color:",(e=>e.theme[ne.fL[ne.SP.POOR]]),";}span{color:",(e=>e.theme.white),";}"),ue=ie;var de=r("./app/views/performance/vitalDetail/vitalChart.tsx"),me=r("./app/views/performance/vitalDetail/vitalInfo.tsx");const he=[f.Zl.FCP,f.Zl.LCP,f.Zl.FID,f.Zl.CLS];class fe extends s.Component{constructor(...e){super(...e),(0,a.Z)(this,"state",{incompatibleAlertNotice:null,error:void 0}),(0,a.Z)(this,"handleSearch",(e=>{const{location:t}=this.props,r=(0,L.Q)({...t.query||{},query:e}),a=T()(r,"cursor");i.browserHistory.push({pathname:t.pathname,query:a})})),(0,a.Z)(this,"generateTagUrl",((e,t)=>{const{location:r}=this.props,a=(0,I.ZT)(r.query,{key:e,value:t});return{...r,query:a}})),(0,a.Z)(this,"handleIncompatibleQuery",((e,t)=>{const r=e((()=>this.setState({incompatibleAlertNotice:null})));this.setState({incompatibleAlertNotice:r})})),(0,a.Z)(this,"setError",(e=>{this.setState({error:e})}))}renderCreateAlertButton(){const{eventView:e,organization:t,projects:r}=this.props;return(0,K.tZ)(C.K,{eventView:e,organization:t,projects:r,onIncompatibleQuery:this.handleIncompatibleQuery,onSuccess:()=>{},referrer:"performance"})}renderVitalSwitcher(){const{vitalName:e,location:t}=this.props,r=he.indexOf(e);if(r<0)return null;const a=0===r,n=r===he.length-1,s=e=>()=>{i.browserHistory.push({pathname:t.pathname,query:{...t.query,vitalName:e}})};return(0,K.BX)(A.ZP,{merged:!0,children:[(0,K.tZ)(j.ZP,{icon:(0,K.tZ)(R.g6,{direction:"left",size:"sm"}),"aria-label":(0,m.t)("Previous"),disabled:a,onClick:s(he[r-1])}),(0,K.tZ)(j.ZP,{icon:(0,K.tZ)(R.g6,{direction:"right",size:"sm"}),"aria-label":(0,m.t)("Next"),disabled:n,onClick:s(he[r+1])})]})}renderError(){const{error:e}=this.state;return e?(0,K.tZ)(D.Z,{type:"error",icon:(0,K.tZ)(O.G,{size:"md"}),children:e}):null}render(){const{location:e,eventView:t,organization:r,vitalName:a,projects:n}=this.props,{incompatibleAlertNotice:i}=this.state,o=(0,v.ro)(e.query.query,""),l=a||f.Zl.LCP,p=function(e){const t=new M.MY(e);return t.freeText=[],t.formatString()}((0,S.Ov)(e)),c=ne.il[a];return(0,K.BX)(s.Fragment,{children:[(0,K.BX)(E.h4,{children:[(0,K.BX)(E.oB,{children:[(0,K.tZ)(z.Z,{organization:r,location:e,vitalName:l}),(0,K.tZ)(E.Dx,{children:ne.jo[l]})]}),(0,K.tZ)(E.kP,{children:(0,K.BX)(A.ZP,{gap:1,children:[(0,K.tZ)(P.Z,{organization:r,features:["incidents"],children:({hasFeature:e})=>e&&this.renderCreateAlertButton()}),this.renderVitalSwitcher()]})})]}),(0,K.BX)(E.uT,{children:[this.renderError(),i&&(0,K.tZ)(E.or,{fullWidth:!0,children:i}),(0,K.BX)(E.or,{fullWidth:!0,children:[(0,K.tZ)(ge,{children:c}),(0,K.tZ)(ve,{searchSource:"performance_vitals",organization:r,projectIds:t.project,query:o,fields:t.fields,onSearch:this.handleSearch}),(0,K.tZ)(de.Z,{organization:r,query:t.query,project:t.project,environment:t.environment,start:t.start,end:t.end,statsPeriod:t.statsPeriod}),(0,K.tZ)(ye,{children:(0,K.tZ)(me.Z,{location:e,vital:l})}),(0,K.tZ)(k.Z,{provideUserTeams:!0,children:({teams:a,initiallyLoaded:s})=>s?(0,K.tZ)(F.z,{organization:r,teams:a,selectedTeams:["myteams"],selectedProjects:t.project.map(String),children:(0,K.tZ)(ue,{eventView:t,projects:n,organization:r,location:e,setError:this.setError,summaryConditions:p})}):(0,K.tZ)(q.Z,{})})]})]})]})}}fe.displayName="VitalDetailContent";const ge=(0,n.Z)("div",{target:"e150wv1u2"})("font-size:",(e=>e.theme.fontSizeMedium),";margin-bottom:",(0,V.Z)(3),";"),ve=(0,n.Z)(N.Z,{target:"e150wv1u1"})("margin-bottom:",(0,V.Z)(2),";"),ye=(0,n.Z)("div",{target:"e150wv1u0"})("margin-bottom:",(0,V.Z)(3),";"),xe=(0,_.Z)(fe);class be extends s.Component{constructor(...e){super(...e),(0,a.Z)(this,"state",{eventView:(0,w.AM)(this.props.organization,this.props.location)})}static getDerivedStateFromProps(e,t){return{...t,eventView:(0,w.AM)(e.organization,e.location)}}componentDidMount(){const{api:e,organization:t,selection:r}=this.props;(0,p.QK)(e,t.slug,r),(0,S.n4)(r)}componentDidUpdate(e){const{api:t,organization:r,selection:a}=this.props;l()(e.selection.projects,a.projects)&&l()(e.selection.datetime,a.datetime)||((0,p.QK)(t,r.slug,a),(0,S.n4)(a))}getDocumentTitle(){const e=(0,S.JY)(this.props.location);return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,m.t)("Performance")].join(" - "):[(0,m.t)("Vital Detail"),(0,m.t)("Performance")].join(" - ")}render(){const{organization:e,location:t,router:r}=this.props,{eventView:a}=this.state;if(!a)return i.browserHistory.replace({pathname:"/organizations/".concat(e.slug,"/performance/"),query:{...t.query}}),null;const n=(0,v.ro)(t.query.vitalName),s=-1===Object.values(f.Zl).indexOf(n)?void 0:n;return(0,K.tZ)(d.Z,{title:this.getDocumentTitle(),orgSlug:e.slug,children:(0,K.tZ)(g.bq,{value:{eventView:this.state.eventView},children:(0,K.tZ)(u.Z,{children:(0,K.tZ)(_e,{children:(0,K.tZ)(c.Z,{organization:e,children:(0,K.tZ)(xe,{location:t,organization:e,eventView:a,router:r,vitalName:s||f.Zl.LCP})})})})})})}}be.displayName="VitalDetail";const _e=(0,n.Z)(h.JH,{target:"ekkkevo0"})({name:"1hcx8jb",styles:"padding:0"}),we=(0,y.Z)((0,x.Z)((0,_.Z)((0,b.Z)(be))))},"./app/views/performance/vitalDetail/vitalChart.tsx":(e,t,r)=>{r.d(t,{Z:()=>A,S:()=>E}),r("../node_modules/core-js/modules/web.dom-collections.iterator.js"),r("../node_modules/core-js/modules/es.string.replace.js");var a=r("../node_modules/react-router/es/index.js"),n=r("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),s=r("./app/components/charts/chartZoom.tsx"),i=r("./app/components/charts/components/markLine.tsx"),o=r("./app/components/charts/errorPanel.tsx"),l=r("./app/components/charts/eventsRequest.tsx"),p=r("./app/components/charts/lineChart.tsx"),c=r("./app/components/charts/releaseSeries.tsx"),u=r("./app/components/charts/styles.tsx"),d=r("./app/components/charts/transitionChart.tsx"),m=r("./app/components/charts/transparentLoadingMask.tsx"),h=r("./app/components/charts/utils.tsx"),f=r("./app/components/panels/index.tsx"),g=r("./app/components/questionTooltip.tsx"),v=r("./app/icons/index.tsx"),y=r("./app/locale.tsx"),x=r("./app/utils/dates.tsx"),b=r("./app/utils/discover/charts.tsx"),_=r("./app/utils/discover/fields.tsx"),w=r("./app/utils/getDynamicText.tsx"),S=r("./app/utils/queryString.tsx"),Z=r("./app/utils/useApi.tsx"),T=r("./app/views/performance/trends/utils.tsx"),P=r("./app/views/performance/vitalDetail/utils.tsx"),D=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function j({project:e,environment:t,location:r,organization:j,query:A,statsPeriod:C,router:N,start:E,end:q}){const L=(0,Z.Z)(),F=(0,n.u)(),R=e=>{const{selected:t}=e,n=Object.keys(t).filter((e=>!t[e])),s={...r,query:{...r.query,unselectedSeries:n}};a.browserHistory.push(s)},O=E?(0,x.hC)(E):null,V=q?(0,x.hC)(q):null,I="false"!==(0,S.ro)(N.location.query.utc),k=(0,P.iF)(r),M="p75(".concat(k,")"),z={right:10,top:0,selected:(0,h.RI)(r)},B={start:O,end:V,period:C},W=P.eE[k],U=P.MN[k],H=[{seriesName:"Thresholds",type:"line",data:[],markLine:(0,i.Z)({silent:!0,lineStyle:{color:F.red300,type:"dashed",width:1.5},label:{show:!0,position:"insideEndTop",formatter:(0,y.t)("Poor")},data:[{yAxis:W}]})},{seriesName:"Thresholds",type:"line",data:[],markLine:(0,i.Z)({silent:!0,lineStyle:{color:F.yellow300,type:"dashed",width:1.5},label:{show:!0,position:"insideEndTop",formatter:(0,y.t)("Meh")},data:[{yAxis:U}]})}],G={grid:{left:"5px",right:"10px",top:"35px",bottom:"0px"},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",valueFormatter:(e,t)=>(0,b.CX)(e,k===_.Zl.CLS?t:M)},yAxis:{min:0,max:W,axisLabel:{color:F.chartLabel,showMaxLabel:!1,formatter:e=>(0,b.gu)(e,M)}}};return(0,D.tZ)(f.s_,{children:(0,D.BX)(u.BO,{children:[(0,D.BX)(u.ws,{children:[(0,y.t)("Duration p75"),(0,D.tZ)(g.Z,{size:"sm",position:"top",title:(0,y.t)("The durations shown should fall under the vital threshold.")})]}),(0,D.tZ)(s.Z,{router:N,period:C,start:O,end:V,utc:I,children:r=>(0,D.tZ)(l.Z,{api:L,organization:j,period:C,project:e,environment:t,start:O,end:V,interval:(0,h.ZS)(B,"high"),showLoading:!1,query:A,includePrevious:!1,yAxis:[M],partial:!0,children:({timeseriesData:a,errored:n,loading:s,reloading:i})=>{if(n)return(0,D.tZ)(o.Z,{children:(0,D.tZ)(v.FC,{color:"gray500",size:"lg"})});const l=a&&F.charts.getColorPalette(a.length-2)||[],{smoothedResults:u}=(0,T.vq)(a),h=u?u.map((({seriesName:e,...t},r)=>({seriesName:(0,T.HF)(e)||"p75",...t,color:l[r],lineStyle:{opacity:1,width:2}}))):[],f=(0,P.vk)(h),g=Math.max(f,W);return G.yAxis.max=1.1*g,(0,D.tZ)(c.Z,{start:O,end:V,period:C,utc:I,projects:e,environments:t,children:({releaseSeries:e})=>(0,D.BX)(d.Z,{loading:s,reloading:i,children:[(0,D.tZ)(m.Z,{visible:i}),(0,w.Z)({value:(0,D.tZ)(p.Z,{...r,...G,legend:z,onLegendSelectChanged:R,series:[...H,...e,...h]}),fixed:"Web Vitals Chart"})]})})}})})]})})}j.displayName="VitalChart";const A=(0,a.withRouter)(j);function C(e,t){return e===(null==t?void 0:t.poorCountField.replace("equation|",""))?P.SP.POOR:e===(null==t?void 0:t.mehCountField.replace("equation|",""))?P.SP.MEH:e===(null==t?void 0:t.goodCountField.replace("equation|",""))?P.SP.GOOD:void 0}function N(e){const{field:t,data:r,loading:a,reloading:s,height:i,grid:o,utc:l,vitalFields:c}=e;if(!r||!c)return null;const u=(0,n.u)(),h={grid:o,seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",valueFormatter:(e,r)=>(0,b.CX)(e,c[0]===_.Zl.CLS?r:t)},xAxis:{show:!1},xAxes:void 0,yAxis:{axisLabel:{color:u.chartLabel,showMaxLabel:!1,formatter:e=>(0,b.gu)(e,t)}},utc:l,isGroupedByDate:!0,showTimeInTooltip:!0},f=r.filter((e=>!!C(e.seriesName,c))),g=null!=f&&f.length?f.map((({seriesName:e,...t})=>{const r=C(e,c)||"count";return{seriesName:r,...t,color:u[P.fL[r]],lineStyle:{opacity:1,width:2}}})):[];return(0,D.tZ)("div",{children:(0,D.BX)(d.Z,{loading:a,reloading:s,children:[(0,D.tZ)(m.Z,{visible:s}),(0,w.Z)({value:(0,D.tZ)(p.Z,{height:i,...h,onLegendSelectChanged:()=>{},series:[...g],isGroupedByDate:!0}),fixed:"Web Vitals Chart"})]})})}N.displayName="__VitalChart";const E=(0,a.withRouter)(N)},"./app/views/performance/vitalDetail/vitalInfo.tsx":(e,t,r)=>{r.d(t,{Z:()=>i});var a=r("./app/utils/performance/vitals/vitalsCardsDiscoverQuery.tsx"),n=r("./app/views/performance/landing/vitalsCards.tsx"),s=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){const{vital:t,location:r,hideBar:i,hideStates:o,hideVitalPercentNames:l,hideDurationDetail:p}=e;return(0,s.tZ)(a.Z,{location:r,vitals:Array.isArray(t)?t:[t],children:({isLoading:e,vitalsData:r})=>(0,s.tZ)(n.JO,{isLoading:e,data:r,vital:t,showBar:!i,showStates:!o,showVitalPercentNames:!l,showDurationDetail:!p})})}i.displayName="vitalInfo"}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_vitalDetail_index_tsx.1a76f752ba72b7b412032a1b1bb094a3.js.map