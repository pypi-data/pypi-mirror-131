"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_components_events_interfaces_spans_dividerHandlerManager_tsx-app_components_events_interf-77dbd8"],{"./app/components/discover/discoverFeature.tsx":(e,t,s)=>{s.d(t,{Z:()=>d}),s("../node_modules/react/index.js");var n=s("./app/components/acl/feature.tsx"),r=s("./app/components/acl/featureDisabled.tsx"),o=s("./app/components/hovercard.tsx"),i=s("./app/locale.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l({children:e}){const t=(0,i.t)("Requires discover feature.");return(0,a.tZ)(n.Z,{hookName:"feature-disabled:open-discover",features:["organizations:discover-basic"],renderDisabled:e=>(0,a.tZ)(o.ZP,{body:(0,a.tZ)(r.Z,{features:e.features,hideHelpToggle:!0,message:t,featureName:t}),children:e.children(e)}),children:({hasFeature:t})=>e({hasFeature:t})})}l.displayName="DiscoverFeature";const d=l},"./app/components/discoverButton.tsx":(e,t,s)=>{s.d(t,{Z:()=>a}),s("../node_modules/react/index.js");var n=s("./app/components/button.tsx"),r=s("./app/components/discover/discoverFeature.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i({children:e,...t}){return(0,o.tZ)(r.Z,{children:({hasFeature:s})=>(0,o.tZ)(n.ZP,{disabled:!s,...t,children:e})})}i.displayName="DiscoverButton";const a=i},"./app/components/events/interfaces/spans/context.tsx":(e,t,s)=>{s.d(t,{z:()=>r,$:()=>o});const n=(0,s("../node_modules/react/index.js").createContext)({getViewChildTransactionTarget:()=>{}}),r=n.Provider,o=n.Consumer},"./app/components/events/interfaces/spans/dividerHandlerManager.tsx":(e,t,s)=>{s.d(t,{z:()=>c,$:()=>p});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),o=s("./app/components/performance/waterfall/utils.tsx"),i=s("./app/utils/userselect.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=(e,t)=>{e.forEach((e=>{e.current&&t(e.current)}))},d=r.createContext({dividerPosition:.4,onDragStart:()=>{},setHover:()=>{},addDividerLineRef:()=>r.createRef(),addGhostDividerLineRef:()=>r.createRef()});class c extends r.Component{constructor(...e){super(...e),(0,n.Z)(this,"state",{dividerPosition:.4}),(0,n.Z)(this,"previousUserSelect",null),(0,n.Z)(this,"dividerHandlePosition",.4),(0,n.Z)(this,"isDragging",!1),(0,n.Z)(this,"dividerLineRefs",[]),(0,n.Z)(this,"ghostDividerLineRefs",[]),(0,n.Z)(this,"hasInteractiveLayer",(()=>!!this.props.interactiveLayerRef.current)),(0,n.Z)(this,"addDividerLineRef",(()=>{const e=r.createRef();return this.dividerLineRefs.push(e),e})),(0,n.Z)(this,"addGhostDividerLineRef",(()=>{const e=r.createRef();return this.ghostDividerLineRefs.push(e),e})),(0,n.Z)(this,"setHover",(e=>{this.isDragging||l(this.dividerLineRefs,(t=>{e?t.classList.add("hovering"):t.classList.remove("hovering")}))})),(0,n.Z)(this,"onDragStart",(e=>{!this.isDragging&&"mousedown"===e.type&&this.hasInteractiveLayer()&&(e.stopPropagation(),this.previousUserSelect=(0,i.l)({userSelect:"none",MozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none"}),window.addEventListener("mousemove",this.onDragMove),window.addEventListener("mouseup",this.onDragEnd),this.setHover(!0),this.isDragging=!0,l(this.dividerLineRefs,(e=>{e.style.backgroundColor="rgba(73,80,87,0.75)",e.style.cursor="col-resize"})),l(this.ghostDividerLineRefs,(e=>{e.style.cursor="col-resize";const{parentNode:t}=e;t&&(t.style.display="block")})))})),(0,n.Z)(this,"onDragMove",(e=>{if(!this.isDragging||"mousemove"!==e.type||!this.hasInteractiveLayer())return;const t=(0,o.FV)(this.props.interactiveLayerRef.current),s=(e.pageX-t.x)/t.width;this.dividerHandlePosition=(0,o.uZ)(s,0,1);const n=(0,o.yI)(this.dividerHandlePosition);l(this.ghostDividerLineRefs,(e=>{const{parentNode:t}=e;t&&(t.style.width="calc(".concat(n," + 0.5px)"))}))})),(0,n.Z)(this,"onDragEnd",(e=>{this.isDragging&&"mouseup"===e.type&&this.hasInteractiveLayer()&&(this.cleanUpListeners(),this.previousUserSelect&&((0,i.l)(this.previousUserSelect),this.previousUserSelect=null),this.isDragging=!1,this.setHover(!1),l(this.dividerLineRefs,(e=>{e.style.backgroundColor="",e.style.cursor=""})),l(this.ghostDividerLineRefs,(e=>{e.style.cursor="";const{parentNode:t}=e;t&&(t.style.display="none")})),this.setState({dividerPosition:this.dividerHandlePosition}))})),(0,n.Z)(this,"cleanUpListeners",(()=>{this.isDragging&&(window.removeEventListener("mousemove",this.onDragMove),window.removeEventListener("mouseup",this.onDragEnd))}))}componentWillUnmount(){this.cleanUpListeners()}render(){const e={dividerPosition:this.state.dividerPosition,setHover:this.setHover,onDragStart:this.onDragStart,addDividerLineRef:this.addDividerLineRef,addGhostDividerLineRef:this.addGhostDividerLineRef};return(0,a.tZ)(d.Provider,{value:e,children:this.props.children})}}c.displayName="Provider";const p=d.Consumer},"./app/components/events/interfaces/spans/spanDetail.tsx":(e,t,s)=>{s.d(t,{X2:()=>ee,wh:()=>O,iF:()=>J,$G:()=>te,ZP:()=>se});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/core-js/modules/es.symbol.description.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-router/es/index.js"),a=s("../node_modules/lodash/map.js"),l=s.n(a),d=s("./app/components/acl/feature.tsx"),c=s("./app/components/alert.tsx"),p=s("./app/components/button.tsx"),m=s("./app/components/dateTime.tsx"),h=s("./app/components/discoverButton.tsx"),u=s("./app/components/fileSize.tsx"),g=s("./app/components/links/externalLink.tsx"),v=s("./app/components/links/link.tsx"),x=s("./app/components/loadingIndicator.tsx"),f=s("./app/components/performance/waterfall/rowDetails.tsx"),b=s("./app/components/pill.tsx"),Z=s("./app/components/pills.tsx"),y=s("./app/components/quickTrace/utils.tsx"),w=s("./app/constants/pageFilters.tsx"),S=s("./app/icons/index.tsx"),j=s("./app/locale.tsx"),_=s("./app/styles/space.tsx"),k=s("./app/types/utils.tsx"),z=s("./app/utils.tsx"),D=s("./app/utils/discover/eventView.tsx"),T=s("./app/utils/discover/urls.tsx"),L=s("./app/utils/getDynamicText.tsx"),C=s("./app/utils/withApi.tsx"),N=s("./app/components/events/interfaces/spans/context.tsx"),R=(s("../node_modules/prism-sentry/index.css"),s("../node_modules/@sentry/minimal/esm/index.js")),B=s("./app/actionCreators/projects.tsx"),P=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class U extends o.Component{constructor(...e){super(...e),(0,n.Z)(this,"state",{loading:!0,html:void 0,link:void 0}),(0,n.Z)(this,"fetchData",(async()=>{const{platform:e,api:t,orgSlug:s,projectSlug:n}=this.props;if(!e)return;let r;switch(this.setState({loading:!0}),e){case"sentry.python":r="python-tracing";break;case"sentry.javascript.node":r="node-tracing";break;case"sentry.javascript.react-native":r="react-native-tracing";break;default:return void this.setState({loading:!1})}try{const{html:e,link:o}=await(0,B.iC)(t,s,n,r);this.setState({html:e,link:o})}catch(e){R.Tb(e),this.setState({html:void 0,link:void 0})}this.setState({loading:!1})}))}componentDidMount(){this.fetchData()}render(){const{platform:e}=this.props;return e?this.state.loading?(0,P.tZ)("div",{children:(0,P.tZ)(x.Z,{})}):this.state.html?(0,P.BX)("div",{children:[(0,P.tZ)("h4",{children:(0,j.t)("Requires Manual Instrumentation")}),(0,P.tZ)(M,{dangerouslySetInnerHTML:{__html:this.state.html}}),(0,P.tZ)("p",{children:(0,j._N)("For in-depth instructions on setting up tracing, view [docLink:our documentation].",{docLink:(0,P.tZ)("a",{href:this.state.link})})})]}):(0,P.BX)("div",{children:[(0,P.tZ)("h4",{children:(0,j.t)("Requires Manual Instrumentation")}),(0,P.tZ)("p",{children:(0,j._N)("To manually instrument certain regions of your code, view [docLink:our documentation].",{docLink:(0,P.tZ)(g.Z,{href:"https://docs.sentry.io/product/performance/getting-started/"})})})]}):null}}U.displayName="InlineDocs";const M=(0,r.Z)("div",{target:"e1p2d0fm0"})({name:"196c2e",styles:"p{line-height:1.5;}pre{word-break:break-all;white-space:pre-wrap;}"}),E=(0,C.Z)(U);var F=s("./app/components/events/interfaces/spans/types.tsx"),V=s("./app/components/events/interfaces/spans/utils.tsx");const I=["Encoded Body Size","Decoded Body Size","Transfer Size"];class X extends o.Component{constructor(...e){super(...e),(0,n.Z)(this,"state",{errorsOpened:!1}),(0,n.Z)(this,"toggleErrors",(()=>{this.setState((({errorsOpened:e})=>({errorsOpened:!e})))}))}renderTraversalButton(){if(!this.props.childTransactions)return(0,P.tZ)(H,{size:"xsmall",disabled:!0,children:(0,P.tZ)(G,{size:12})});if(this.props.childTransactions.length<=0)return(0,P.tZ)(H,{size:"xsmall",disabled:!0,children:(0,j.t)("No Children")});const{span:e,trace:t,event:s,organization:n}=this.props;if((0,k.hu)(!(0,V.hw)(e)),1===this.props.childTransactions.length)return null;const r=new Set(n.features),{start:o,end:i}=(0,V.TC)({start:t.traceStartTimestamp,end:t.traceEndTimestamp}),a=D.ZP.fromSavedQuery({id:void 0,name:"Children from Span ID ".concat(e.span_id),fields:["transaction","project","trace.span","transaction.duration","timestamp"],orderby:"-timestamp",query:"event.type:transaction trace:".concat(e.trace_id," trace.parent_span:").concat(e.span_id),projects:r.has("global-views")?[w.mP]:[Number(s.projectID)],version:2,start:o,end:i});return(0,P.tZ)(H,{"data-test-id":"view-child-transactions",size:"xsmall",to:a.getResultsViewUrlTarget(n.slug),children:(0,j.t)("View Children")})}renderSpanChild(){const{childTransactions:e}=this.props;if(!e||1!==e.length)return null;const t=e[0],s={"project.name":t.project_slug,transaction:t.transaction,"trace.span":t.span_id,id:t.event_id},n=(r=s,(0,T.JE)({id:r.id,"project.name":r["project.name"]}));var r;const o=(0,P.tZ)(N.$,{children:({getViewChildTransactionTarget:e})=>{const t=e({...s,eventSlug:n});return t?(0,P.tZ)(q,{"data-test-id":"view-child-transaction",size:"xsmall",to:t,children:(0,j.t)("View Transaction")}):null}});return(0,P.tZ)(ee,{title:"Child Transaction",extra:o,children:"".concat(s.transaction," (").concat(s["project.name"],")")})}renderTraceButton(){const{span:e,organization:t,event:s}=this.props;return(0,V.hw)(e)?null:(0,P.tZ)(q,{size:"xsmall",to:(0,y.aV)(s,t),children:(0,j.t)("View Trace")})}renderOrphanSpanMessage(){const{span:e}=this.props;return(0,V.ro)(e)?(0,P.tZ)(c.Z,{system:!0,type:"info",icon:(0,P.tZ)(S.FC,{size:"md"}),children:(0,j.t)("This is a span that has no parent span within this transaction. It has been attached to the transaction root span by default.")}):null}renderSpanErrorMessage(){const{span:e,organization:t,relatedErrors:s}=this.props,{errorsOpened:n}=this.state;if(!s||s.length<=0||(0,V.hw)(e))return null;const r=n?s:s.slice(0,5);return(0,P.BX)(c.Z,{system:!0,type:"error",icon:(0,P.tZ)(S.FC,{size:"md"}),children:[(0,P.tZ)(f.CM,{children:(0,j.tn)("An error event occurred in this transaction.","%s error events occurred in this transaction.",s.length)}),(0,P.tZ)(f.TV,{children:r.map((e=>(0,P.BX)(o.Fragment,{children:[(0,P.tZ)(f._U,{level:e.level}),(0,P.tZ)(f.wE,{children:e.level}),(0,P.tZ)(f.St,{children:(0,P.tZ)(v.Z,{to:(0,y.F7)(e,t),children:e.title})})]},e.event_id)))}),s.length>5&&(0,P.tZ)(Q,{size:"xsmall",onClick:this.toggleErrors,children:n?(0,j.t)("Show less"):(0,j.t)("Show more")})]})}partitionSizes(e){const t=I.reduce(((t,s)=>(e.hasOwnProperty(s)&&(t[s]=e[s]),t)),{}),s={...e};return I.forEach((e=>delete s[e])),{sizeKeys:t,nonSizeKeys:s}}renderSpanDetails(){var e,t;const{span:s,event:n,location:r,organization:i,scrollToHash:a}=this.props;var c,p;if((0,V.hw)(s))return(0,P.tZ)(J,{children:(0,P.tZ)(E,{platform:(null===(c=n.sdk)||void 0===c?void 0:c.name)||"",orgSlug:i.slug,projectSlug:null!==(p=null==n?void 0:n.projectSlug)&&void 0!==p?p:""})});const h=s.start_timestamp,v=s.timestamp,x="".concat(Number((1e3*(v-h)).toFixed(3)).toLocaleString(),"ms"),f=Object.keys(s).filter((e=>!F.g.has(e))),{sizeKeys:b,nonSizeKeys:Z}=this.partitionSizes(null!==(e=null==s?void 0:s.data)&&void 0!==e?e:{}),y=I.map((e=>b[e])).every((e=>0===e));return(0,P.BX)(o.Fragment,{children:[this.renderOrphanSpanMessage(),this.renderSpanErrorMessage(),(0,P.tZ)(J,{children:(0,P.tZ)("table",{className:"table key-value",children:(0,P.BX)("tbody",{children:[(0,P.tZ)(ee,{title:(0,V.hw)(s)?(0,P.tZ)(W,{children:"Span ID"}):(0,P.BX)(W,{onClick:(0,V.rF)(s.span_id,a,r),children:["Span ID",(0,P.tZ)(Y,{})]}),extra:this.renderTraversalButton(),children:s.span_id}),(0,P.tZ)(ee,{title:"Parent Span ID",children:s.parent_span_id||""}),this.renderSpanChild(),(0,P.tZ)(ee,{title:"Trace ID",extra:this.renderTraceButton(),children:s.trace_id}),(0,P.tZ)(ee,{title:"Description",children:null!==(t=null==s?void 0:s.description)&&void 0!==t?t:""}),(0,P.tZ)(ee,{title:"Status",children:s.status||""}),(0,P.tZ)(ee,{title:"Start Date",children:(0,L.Z)({fixed:"Mar 16, 2020 9:10:12 AM UTC",value:(0,P.BX)(o.Fragment,{children:[(0,P.tZ)(m.Z,{date:1e3*h})," (".concat(h,")")]})})}),(0,P.tZ)(ee,{title:"End Date",children:(0,L.Z)({fixed:"Mar 16, 2020 9:10:13 AM UTC",value:(0,P.BX)(o.Fragment,{children:[(0,P.tZ)(m.Z,{date:1e3*v})," (".concat(v,")")]})})}),(0,P.tZ)(ee,{title:"Duration",children:x}),(0,P.tZ)(ee,{title:"Operation",children:s.op||""}),(0,P.tZ)(ee,{title:"Same Process as Parent",children:void 0!==s.same_process_as_parent?String(s.same_process_as_parent):null}),(0,P.BX)(d.Z,{organization:i,features:["organizations:performance-suspect-spans-view"],children:[(0,P.tZ)(ee,{title:"Span Group",children:(0,z.ri)(s.hash)?String(s.hash):null}),(0,P.tZ)(ee,{title:"Span Exclusive Time",children:(0,z.ri)(s.exclusive_time)?"".concat(Number(s.exclusive_time.toFixed(3)).toLocaleString(),"ms"):null})]}),(0,P.tZ)(te,{span:s}),y&&(0,P.BX)(K,{children:["The following sizes were not collected for security reasons. Check if the host serves the appropriate",(0,P.tZ)(g.Z,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Timing-Allow-Origin",children:(0,P.tZ)("span",{className:"val-string",children:"Timing-Allow-Origin"})}),"header. You may have to enable this collection manually."]}),l()(b,((e,t)=>(0,P.tZ)(ee,{title:t,children:(0,P.BX)(o.Fragment,{children:[(0,P.tZ)(u.Z,{bytes:e}),e>=1024&&(0,P.tZ)("span",{children:" (".concat(JSON.stringify(e,null,4)||""," B)")})]})},t))),l()(Z,((e,t)=>(0,P.tZ)(ee,{title:t,children:JSON.stringify(e,null,4)||""},t))),f.map((e=>(0,P.tZ)(ee,{title:e,children:JSON.stringify(s[e],null,4)||""},e)))]})})})]})}render(){return(0,P.tZ)(O,{"data-component":"span-detail",onClick:e=>{e.stopPropagation()},children:this.renderSpanDetails()})}}X.displayName="SpanDetail";const H=(0,r.Z)(h.Z,{target:"eb56mm29"})("position:absolute;top:",(0,_.Z)(.75),";right:",(0,_.Z)(.5),";"),q=(0,r.Z)(p.ZP,{target:"eb56mm28"})("position:absolute;top:",(0,_.Z)(.75),";right:",(0,_.Z)(.5),";"),O=(0,r.Z)("div",{target:"eb56mm27"})("border-bottom:1px solid ",(e=>e.theme.border),";cursor:auto;"),J=(0,r.Z)("div",{target:"eb56mm26"})("padding:",(0,_.Z)(2),";"),A=(0,r.Z)("td",{target:"eb56mm25"})({name:"bjn8wh",styles:"position:relative"}),G=(0,r.Z)(x.Z,{target:"eb56mm24"})("display:flex;align-items:center;height:",(0,_.Z)(2),";margin:0;"),$=(0,r.Z)("p",{target:"eb56mm23"})("font-size:",(e=>e.theme.fontSizeMedium),";margin:",(0,_.Z)(2)," ",(0,_.Z)(0),";"),K=({children:e})=>(0,P.BX)("tr",{children:[(0,P.tZ)("td",{className:"key"}),(0,P.tZ)(A,{className:"value",children:(0,P.tZ)($,{children:e})})]});K.displayName="TextTr";const Q=(0,r.Z)(p.ZP,{target:"eb56mm22"})("margin-top:",(0,_.Z)(.75),";"),W=(0,r.Z)("a",{target:"eb56mm21"})("display:flex;color:",(e=>e.theme.textColor),";:hover{color:",(e=>e.theme.textColor),";}"),Y=(0,r.Z)(S.rS,{target:"eb56mm20"})("display:block;color:",(e=>e.theme.gray300),";margin-left:",(0,_.Z)(1),";"),ee=({title:e,keep:t,children:s,extra:n=null})=>t||s?(0,P.BX)("tr",{children:[(0,P.tZ)("td",{className:"key",children:e}),(0,P.BX)(A,{className:"value",children:[(0,P.tZ)("pre",{className:"val",children:(0,P.tZ)("span",{className:"val-string",children:s})}),n]})]}):null;ee.displayName="Row";const te=({span:e})=>{const t=null==e?void 0:e.tags;if(!t)return null;const s=Object.keys(t);return s.length<=0?null:(0,P.BX)("tr",{children:[(0,P.tZ)("td",{className:"key",children:"Tags"}),(0,P.tZ)("td",{className:"value",children:(0,P.tZ)(Z.Z,{style:{padding:"8px"},children:s.map(((e,s)=>(0,P.tZ)(b.Z,{name:e,value:String(t[e])||""},s)))})})]})};te.displayName="Tags";const se=(0,C.Z)((0,i.withRouter)(X))},"./app/components/events/interfaces/spans/types.tsx":(e,t,s)=>{s.d(t,{g:()=>n,t:()=>r}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");const n=new Set(["trace_id","parent_span_id","span_id","start_timestamp","timestamp","same_process_as_parent","op","description","status","data","tags","hash","exclusive_time"]);let r;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center"}(r||(r={}))},"./app/components/fileSize.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/utils.tsx"),o=s("./app/utils/getDynamicText.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){const{className:t,bytes:s}=e;return(0,i.tZ)(l,{className:t,children:(0,o.Z)({value:(0,r.F)(s),fixed:"xx KB"})})}a.displayName="FileSize";const l=(0,n.Z)("span",{target:"e1xn0mc30"})({name:"kow0uz",styles:"font-variant-numeric:tabular-nums"}),d=a},"./app/components/performance/waterfall/row.tsx":(e,t,s)=>{s.d(t,{X2:()=>i,Qc:()=>a,E5:()=>l});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/performance/waterfall/constants.tsx"),o=s("./app/components/performance/waterfall/utils.tsx");const i=(0,n.Z)("div",{target:"e1wrqgcn2"})("display:",(e=>e.visible?"block":"none"),";border-top:",(e=>e.showBorder?"1px solid ".concat(e.theme.border):null),";margin-top:",(e=>e.showBorder?"-1px":null),";position:relative;overflow:hidden;min-height:",r.d,"px;cursor:",(e=>{var t;return null!==(t=e.cursor)&&void 0!==t?t:"pointer"}),";transition:background-color 0.15s ease-in-out;&:last-child{&>[data-component='span-detail']{border-bottom:none!important;}}"),a=(0,n.Z)("div",{target:"e1wrqgcn1"})("display:flex;position:relative;height:",r.d,"px;overflow:hidden;user-select:none;&:hover>div[data-type='span-row-cell']{background-color:",(e=>e.showDetail?e.theme.textColor:e.theme.backgroundSecondary),";}"),l=(0,n.Z)("div",{target:"e1wrqgcn0"})("position:relative;height:100%;overflow:hidden;background-color:",(e=>(0,o.dF)(e)),";transition:background-color 125ms ease-in-out;color:",(e=>e.showDetail?e.theme.background:"inherit"),";")},"./app/components/performance/waterfall/rowDetails.tsx":(e,t,s)=>{s.d(t,{CM:()=>i,TV:()=>a,_U:()=>l,wE:()=>d,St:()=>c});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/styles/overflowEllipsis.tsx"),o=s("./app/styles/space.tsx");const i=(0,n.Z)("div",{target:"e1j8ceje4"})({name:"1eoy87d",styles:"display:flex;justify-content:space-between"}),a=(0,n.Z)("div",{target:"e1j8ceje3"})("display:grid;align-items:center;grid-template-columns:16px 72px auto;grid-gap:",(0,o.Z)(.75),";margin-top:",(0,o.Z)(.75),";"),l=(0,n.Z)("div",{target:"e1j8ceje2"})("background-color:",(e=>e.theme.level[e.level]),";content:'';width:",(0,o.Z)(1),";min-width:",(0,o.Z)(1),";height:",(0,o.Z)(1),";margin-right:",(0,o.Z)(1),";border-radius:100%;flex:1;"),d=(0,n.Z)("span",{target:"e1j8ceje1"})({name:"m0jwvv",styles:"width:80px"}),c=(0,n.Z)("span",{target:"e1j8ceje0"})(r.Z,";")},"./app/components/performance/waterfall/rowDivider.tsx":(e,t,s)=>{s.d(t,{kP:()=>a,xN:()=>l,Hr:()=>d,cS:()=>p,mk:()=>m});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/icons/index.tsx"),o=s("./app/styles/space.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,n.Z)("div",{target:"e1hoco293"})({name:"zxn8uc",styles:"position:relative;min-width:1px"}),l=(0,n.Z)("div",{target:"e1hoco292"})("background-color:",(e=>e.showDetail?e.theme.textColor:e.theme.border),";position:absolute;height:100%;width:1px;transition:background-color 125ms ease-in-out;z-index:",(e=>e.theme.zIndex.traceView.dividerLine),";&:after{content:'';z-index:-1;position:absolute;left:-2px;top:0;width:5px;height:100%;}&.hovering{background-color:",(e=>e.theme.textColor),";width:3px;transform:translateX(-1px);margin-right:-2px;cursor:ew-resize;&:after{left:-2px;width:7px;}}"),d=(0,n.Z)("div",{target:"e1hoco291"})({name:"19s8nj4",styles:"position:absolute;width:100%;height:100%"}),c=(0,n.Z)("div",{target:"e1hoco290"})("position:absolute;margin:",(0,o.Z)(.25),";left:-11px;background:",(e=>e.theme.background),";width:",(0,o.Z)(3),";height:",(0,o.Z)(3),";border:1px solid ",(e=>e.theme[e.borderColor]),";border-radius:50%;z-index:",(e=>e.theme.zIndex.traceView.dividerLine),";display:flex;align-items:center;justify-content:center;");function p(){return(0,i.tZ)(c,{borderColor:"red300",children:(0,i.tZ)(r.zC,{color:"red300",size:"xs"})})}function m({expanded:e,onClick:t}){return(0,i.tZ)(c,{borderColor:"border",onClick:e=>{e.stopPropagation(),e.preventDefault(),t()},children:e?(0,i.tZ)(r.JZ,{color:"textColor",size:"xs"}):(0,i.tZ)(r.N_,{color:"textColor",size:"xs"})})}p.displayName="ErrorBadge",m.displayName="EmbeddedTransactionBadge"},"./app/components/performance/waterfall/rowTitle.tsx":(e,t,s)=>{s.d(t,{mw:()=>o,Wh:()=>i,rv:()=>a,$D:()=>l});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/performance/waterfall/constants.tsx");const o=(0,n.Z)("div",{target:"e1z0v4to3"})("display:flex;align-items:center;height:",r.d,"px;position:absolute;left:0;top:0;width:100%;user-select:none;"),i=(0,n.Z)("div",{target:"e1z0v4to2"})("position:relative;height:100%;font-size:",(e=>e.theme.fontSizeSmall),";white-space:nowrap;display:flex;flex:1;align-items:center;"),a=(0,n.Z)("span",{target:"e1z0v4to1"})("color:",(e=>e.errored?e.theme.error:"inherit"),";"),l=(0,n.Z)("span",{target:"e1z0v4to0"})("color:",(e=>e.theme.linkColor),";")},"./app/components/performance/waterfall/treeConnector.tsx":(e,t,s)=>{s.d(t,{Ll:()=>l,UV:()=>d,DN:()=>c,U1:()=>p,rw:()=>m,jd:()=>h});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/components/performance/waterfall/constants.tsx"),o=s("./app/components/performance/waterfall/utils.tsx"),i=s("./app/icons/index.tsx"),a=s("./app/styles/space.tsx");const l=46,d=(0,n.Z)("div",{target:"e1xp7sks4"})("height:250%;border-left:2px ",(e=>e.orphanBranch?"dashed":"solid")," ",(e=>e.theme.border),";position:absolute;top:0;"),c=(0,n.Z)("div",{target:"e1xp7sks3"})("height:",(e=>e.isLast?r.d/2+1:r.d),"px;width:100%;border-left:",(e=>"2px ".concat(e.orphanBranch?"dashed":"solid"," ").concat(e.theme.border,";")),";position:absolute;top:0;",(e=>e.isLast?"\n      border-bottom: 2px ".concat(e.orphanBranch?"dashed":"solid"," ").concat(e.theme.border,";\n      border-bottom-left-radius: ").concat(e.theme.borderRadius,";"):"\n      &:before {\n        content: '';\n        height: 2px;\n        left: -2px;\n        border-bottom: 2px solid ".concat(e.theme.border,";\n        width: calc(100% - 2px);\n        position: absolute;\n        bottom: calc(50% - 1px);\n      }"))," &:after{content:'';background-color:",(e=>e.theme.border),";border-radius:50%;height:6px;width:6px;position:absolute;right:0;top:",r.d/2-3,"px;}"),p=(0,n.Z)("div",{target:"e1xp7sks2"})("height:16px;white-space:nowrap;min-width:30px;display:flex;align-items:center;justify-content:center;border-radius:99px;padding:0px ",(0,a.Z)(.5),";transition:all 0.15s ease-in-out;font-size:10px;line-height:0;z-index:1;box-shadow:",(e=>e.theme.dropShadowLightest),";",(e=>(0,o.uu)(e)),";"),m=(0,n.Z)("div",{target:"e1xp7sks1"})("position:relative;height:",r.d,"px;width:",40,"px;min-width:",40,"px;margin-right:",(0,a.Z)(1),";z-index:",(e=>e.theme.zIndex.traceView.spanTreeToggler),";display:flex;justify-content:flex-end;align-items:center;"),h=(0,n.Z)(i.g6,{target:"e1xp7sks0"})("width:7px;margin-left:",(0,a.Z)(.25),";")},"./app/components/pill.tsx":(e,t,s)=>{s.d(t,{Z:()=>h});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),o=s("./app/styles/space.tsx"),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=r.memo((({name:e,value:t,children:s,type:n,className:r})=>{const{valueType:o,renderValue:a}=(()=>{if(void 0===t)return{};switch(t){case"true":case!0:return{valueType:"positive",renderValue:"true"};case"false":case!1:return{valueType:"negative",renderValue:"false"};case null:case void 0:return{valueType:"error",renderValue:"n/a"};default:return{valueType:void 0,renderValue:String(t)}}})();return(0,i.BX)(m,{type:null!=n?n:o,className:r,children:[(0,i.tZ)(c,{children:e}),(0,i.tZ)(p,{children:null!=s?s:a})]})})),l=({type:e,theme:t})=>{switch(e){case"error":return"\n        background: ".concat(t.red100,";\n        border: 1px solid ").concat(t.red300,";\n      ");default:return"\n        border: 1px solid ".concat(t.border,";\n      ")}},d=({type:e,theme:t})=>{switch(e){case"positive":return"\n        background: ".concat(t.green100,";\n        border: 1px solid ").concat(t.green300,";\n        border-left-color: ").concat(t.green300,";\n        font-family: ").concat(t.text.familyMono,";\n        margin: -1px;\n      ");case"error":return"\n        border-left-color: ".concat(t.red300,";\n        background: ").concat(t.red100,";\n        border: 1px solid ").concat(t.red300,";\n        margin: -1px;\n      ");case"negative":return"\n        border-left-color: ".concat(t.red300,";\n        background: ").concat(t.red100,";\n        border: 1px solid ").concat(t.red300,";\n        font-family: ").concat(t.text.familyMono,";\n        margin: -1px;\n      ");default:return"\n        background: ".concat(t.backgroundSecondary,";\n        font-family: ").concat(t.text.familyMono,";\n      ")}},c=(0,n.Z)("span",{target:"e1qdl66w2"})("padding:",(0,o.Z)(.5)," ",(0,o.Z)(1),";min-width:0;white-space:nowrap;display:flex;align-items:center;"),p=(0,n.Z)(c,{target:"e1qdl66w1"})("border-left:1px solid ",(e=>e.theme.border),";border-radius:",(e=>"0 ".concat(e.theme.button.borderRadius," ").concat(e.theme.button.borderRadius," 0")),";max-width:100%;display:flex;align-items:center;>a{max-width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block;vertical-align:text-bottom;}.pill-icon,.external-icon{display:inline;margin:0 0 0 ",(0,o.Z)(1),";color:",(e=>e.theme.gray300),";&:hover{color:",(e=>e.theme.textColor),";}}"),m=(0,n.Z)("li",{target:"e1qdl66w0"})("white-space:nowrap;margin:0 ",(0,o.Z)(1)," ",(0,o.Z)(1)," 0;display:flex;border-radius:",(e=>e.theme.button.borderRadius),";box-shadow:",(e=>e.theme.dropShadowLightest),";line-height:1.2;max-width:100%;:last-child{margin-right:0;}",l,";",p,"{",d,";}"),h=a},"./app/components/pills.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=(0,s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e1nyfzl40"})("display:flex;flex-wrap:wrap;font-size:",(e=>e.theme.fontSizeSmall),";")},"./app/components/quickTrace/utils.tsx":(e,t,s)=>{s.d(t,{t_:()=>p,F7:()=>m,Tn:()=>u,MV:()=>g,aV:()=>v}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/components/organizations/globalSelectionHeader/getParams.tsx"),r=s("./app/constants/pageFilters.tsx"),o=s("./app/utils.tsx"),i=s("./app/utils/discover/eventView.tsx"),a=s("./app/utils/discover/urls.tsx"),l=s("./app/utils/performance/quickTrace/utils.tsx"),d=s("./app/utils/performance/urls.ts"),c=(s("./app/utils/tokenizeSearch.tsx"),s("./app/views/performance/traceDetails/utils.tsx"));function p(e){return(0,o.ri)(e["transaction.duration"])}function m(e,t){return"/organizations/".concat(t.slug,"/issues/").concat(e.issue_id,"/events/").concat(e.event_id)}function h(e,t,s){const n=(0,a.JE)({id:e.event_id,project:e.project_slug}),r={...s,query:{...s.query,project:String(e.project_id)}};return(0,a.eQ)({orgSlug:t.slug,eventSlug:n,eventView:i.ZP.fromLocation(r)})}function u(e,t,s,n){switch(n){case"issue":return m(e,t);case"discover":default:return h(e,t,s)}}function g(e,t,s,n){switch(n){case"performance":return function(e,t,s){const n=(0,a.JE)({id:e.event_id,project:e.project_slug}),r={...s.query,project:String(e.project_id)};return(0,d.D)(t.slug,n,e.transaction,r)}(e,t,s);case"discover":default:return h(e,t,s)}}function v(e,t){var s,o,a;const d=null!==(s=null===(o=e.contexts)||void 0===o||null===(a=o.trace)||void 0===a?void 0:a.trace_id)&&void 0!==s?s:"",p=(0,n.Q)((0,l.$J)(e));return t.features.includes("performance-view")?(0,c.YA)(t,d,p,{}):i.ZP.fromSavedQuery({id:void 0,name:"Events with Trace ID ".concat(d),fields:["title","event.type","project","trace.span","timestamp"],orderby:"-timestamp",query:"trace:".concat(d),projects:t.features.includes("global-views")?[r.mP]:[Number(e.projectID)],version:2,...p}).getResultsViewUrlTarget(t.slug)}},"./app/utils/userselect.tsx":(e,t,s)=>{s.d(t,{l:()=>n});const n=e=>{const t={userSelect:document.body.style.userSelect,MozUserSelect:document.body.style.MozUserSelect,msUserSelect:document.body.style.msUserSelect,webkitUserSelect:document.body.style.webkitUserSelect};return document.body.style.userSelect=e.userSelect||"",document.body.style.MozUserSelect=e.MozUserSelect||"",document.body.style.msUserSelect=e.msUserSelect||"",document.body.style.webkitUserSelect=e.webkitUserSelect||"",t}}}]);
//# sourceMappingURL=../sourcemaps/app_components_events_interfaces_spans_dividerHandlerManager_tsx-app_components_events_interf-77dbd8.70c8e46ef36cdfb3449835d98de193a1.js.map