[metadata]
name = qemu.qmp
version = 0.0.0
author = John Snow
author_email = jsnow@redhat.com
maintainer = QEMU Project
maintainer_email = qemu-devel@nongnu.org
url = https://gitlab.com/jsnow/qemu.qmp
download_url = https://gitlab.com/jsnow/qemu.qmp/-/packages
description = QEMU Monitor Protocol library.
long_description = file:README.rst
long_description_content_type = text/x-rst
classifiers = 
	Development Status :: 3 - Alpha
	License :: OSI Approved :: GNU General Public License v2 (GPLv2)
	Natural Language :: English
	Operating System :: OS Independent
	Programming Language :: Python :: 3 :: Only
	Programming Language :: Python :: 3.6
	Programming Language :: Python :: 3.7
	Programming Language :: Python :: 3.8
	Programming Language :: Python :: 3.9
	Programming Language :: Python :: 3.10
	Typing :: Typed

[options]
setup_requires = setuptools_scm
python_requires = >= 3.6
packages = 
	qemu.qmp

[options.package_data]
* = py.typed

[options.extras_require]
devel = 
	avocado-framework >= 90.0
	flake8 >= 3.6.0
	isort >= 5.1.2
	mypy >= 0.770
	pylint >= 2.8.0
	tox >= 3.18.0
	urwid >= 2.1.2
	urwid-readline >= 0.13
	Pygments >= 2.9.0
tui = 
	urwid >= 2.1.2
	urwid-readline >= 0.13
	Pygments >= 2.9.0

[options.entry_points]
console_scripts = 
	qmp-shell = qemu.qmp.qmp_shell:main
	aqmp-tui = qemu.qmp.aqmp_tui:main [tui]

[flake8]
extend-ignore = E722  # Prefer pylint's bare-except checks to flake8's
exclude = __pycache__,

[mypy]
strict = True
python_version = 3.6
warn_unused_configs = True
namespace_packages = True

[mypy-qemu.qmp.aqmp_tui]
allow_subclassing_any = True

[mypy-urwid]
ignore_missing_imports = True

[mypy-urwid_readline]
ignore_missing_imports = True

[mypy-pygments]
ignore_missing_imports = True

[pylint.messages control]
disable = consider-using-f-string,
	too-many-function-args,  # mypy handles this with less false positives.
	no-member,  # mypy also handles this better.

[pylint.basic]
good-names = i,
	j,
	k,
	ex,
	Run,
	_,   # By convention: Unused variable
	fh,  # fh = open(...)
	fd,  # fd = os.open(...)
	c,   # for c in string: ...
	T,   # for TypeVars. See pylint#3401

[pylint.similarities]
ignore-imports = yes
ignore-signatures = yes
min-similarity-lines = 6

[isort]
force_grid_wrap = 4
force_sort_within_sections = True
include_trailing_comma = True
line_length = 72
lines_after_imports = 2
multi_line_output = 3

[tox:tox]
envlist = py36, py37, py38, py39, py310
skip_missing_interpreters = true

[testenv]
allowlist_externals = make
deps = 
	.[devel]
	.[tui]   # Workaround to trigger tox venv rebuild
commands = 
	make check

[coverage:run]
concurrency = multiprocessing
source = qemu/
parallel = true

[egg_info]
tag_build = 
tag_date = 0

