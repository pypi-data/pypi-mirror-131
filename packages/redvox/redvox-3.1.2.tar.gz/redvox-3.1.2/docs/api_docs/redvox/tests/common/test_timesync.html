<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>redvox.tests.common.test_timesync API documentation</title>
<meta name="description" content="tests for timesync" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>redvox.tests.common.test_timesync</code></h1>
</header>
<section id="section-intro">
<p>tests for timesync</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
tests for timesync
&#34;&#34;&#34;
import unittest
import contextlib
import numpy as np
import redvox.tests as tests
from redvox.common import timesync as ts
from redvox.common import api_reader
from redvox.common.io import ReadFilter


class TimesyncTest(unittest.TestCase):
    @classmethod
    def setUpClass(cls) -&gt; None:
        with contextlib.redirect_stdout(None):
            result = api_reader.ApiReader(tests.TEST_DATA_DIR, structured_dir=False,
                                          read_filter=ReadFilter(station_ids={&#34;1637680001&#34;}))
            cls.time_sync_analysis = ts.TimeSyncAnalysis().from_raw_packets(result.read_files_by_id(&#34;1637680001&#34;))

    def test_validate_sensors(self):
        test_ts = ts.TimeSyncData()
        test_ts.station_id = &#34;test&#34;
        test_ts.sample_rate_hz = 80.0
        test_ts.station_start_timestamp = 1
        other_ts = ts.TimeSyncData()
        other_ts.station_id = &#34;test&#34;
        other_ts.sample_rate_hz = 80.0
        tsa_test = ts.TimeSyncAnalysis()
        tsa_test.station_id = &#34;test&#34;
        tsa_test.timesync_data = [test_ts, other_ts]
        tsa_test.sample_rate_hz = 80.0
        tsa_test.station_start_timestamp = 1
        self.assertFalse(ts.validate_sensors(tsa_test))

    def test_compute_tri_message_stats(self):
        self.assertEqual(self.time_sync_analysis.get_latencies()[0], 69664.0)
        self.assertEqual(self.time_sync_analysis.get_offsets()[0], -22906528.0)

    def test_find_bad_packets(self):
        self.assertEqual(len(self.time_sync_analysis.get_bad_packets()), 0)

    def test_time_sync_analysis_data_load(self):
        self.assertEqual(len(self.time_sync_analysis.get_latencies()), 3)
        self.assertEqual(len(self.time_sync_analysis.get_offsets()), 3)
        self.assertEqual(self.time_sync_analysis.get_best_latency(), 69664.0)
        self.assertEqual(self.time_sync_analysis.best_latency_index, 0)

    def test_get_latency_mean(self):
        self.assertAlmostEqual(self.time_sync_analysis.get_mean_latency(), 116253.55, 2)

    def test_get_latency_std_dev(self):
        self.assertAlmostEqual(self.time_sync_analysis.get_latency_stdev(), 82599.05, 2)

    def test_get_offset_mean(self):
        self.assertAlmostEqual(self.time_sync_analysis.get_mean_offset(), -22904378.43, 2)

    def test_get_offset_std_dev(self):
        self.assertAlmostEqual(self.time_sync_analysis.get_offset_stdev(), 89482.83, 2)

    def test_get_best_start_time(self):
        self.assertEqual(self.time_sync_analysis.get_best_start_time(), 1532459197088257)

    def test_update_time_array(self):
        times = np.array([1532459197, 1532460197, 1532461197])
        times = ts.update_time_array(self.time_sync_analysis.timesync_data[0], times)
        self.assertAlmostEqual(1532459174.09, times[0], 2)

    def test_correct_time_array(self):
        &#34;&#34;&#34;
        Example: A sample is taken every 0.5 seconds, and a file has 5 seconds (10 samples). Let&#39;s say we sampled
        for a total of 20 seconds (4 files, 40 samples). At the beginning of each file (every 10th sample, or every
        5 seconds), there is a start mach time and a start epoch time. Rebuild the time array
        with the packet with the lowest latency being the best start time. In this case, the best latency is 1,
        which occurs in file 2, which starts at 4 seconds.  In the end we should get 40 timestamps,
        starting at -1.0 and increasing at a rate of 0.5 seconds, and the 11th sample (idx 10) = 4 seconds.
        &#34;&#34;&#34;
        # the revised start times are in microseconds, but the corrected time is in seconds
        tsd_one = ts.TimeSyncData()
        tsd_one.packet_start_timestamp = 1000000
        tsd_one.best_latency = 2
        tsd_one.sample_rate_hz = 2
        tsd_one.station_start_timestamp = 0
        tsd_two = ts.TimeSyncData()
        tsd_two.packet_start_timestamp = 4000000
        tsd_two.best_latency = 1
        tsd_two.sample_rate_hz = 2
        tsd_two.station_start_timestamp = 0
        tsd_thr = ts.TimeSyncData()
        tsd_thr.packet_start_timestamp = 8000000
        tsd_thr.best_latency = 2
        tsd_thr.sample_rate_hz = 2
        tsd_thr.station_start_timestamp = 0
        tsd_for = ts.TimeSyncData()
        tsd_for.packet_start_timestamp = 13000000
        tsd_for.best_latency = 2
        tsd_for.sample_rate_hz = 2
        tsd_for.station_start_timestamp = 0
        tsa_one = ts.TimeSyncAnalysis()
        tsa_one.station_id = &#34;test_station&#34;
        tsa_one.timesync_data = [tsd_one, tsd_two, tsd_thr, tsd_for]
        tsa_one.best_latency_index = 1
        tsa_one.sample_rate_hz = 2
        tsa_one.station_start_timestamp = 0
        file_samples = 10  # 10 samples per file
        correct_time_array_sec = ts.update_evenly_sampled_time_array(tsa_one, file_samples)

        self.assertTrue(np.array_equal(np.arange(-1.0, 19.0, 0.5), correct_time_array_sec))
        self.assertEqual(4.0, correct_time_array_sec[10])
        self.assertTrue(isinstance(correct_time_array_sec, np.ndarray))</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="redvox.tests.common.test_timesync.TimesyncTest"><code class="flex name class">
<span>class <span class="ident">TimesyncTest</span></span>
<span>(</span><span>methodName='runTest')</span>
</code></dt>
<dd>
<div class="desc"><p>A class whose instances are single test cases.</p>
<p>By default, the test code itself should be placed in a method named
'runTest'.</p>
<p>If the fixture may be used for many test cases, create as
many test methods as are needed. When instantiating such a TestCase
subclass, specify in the constructor arguments the name of the test method
that the instance is to execute.</p>
<p>Test authors should subclass TestCase for their own tests. Construction
and deconstruction of the test's environment ('fixture') can be
implemented by overriding the 'setUp' and 'tearDown' methods respectively.</p>
<p>If it is necessary to override the <strong>init</strong> method, the base class
<strong>init</strong> method must always be called. It is important that subclasses
should not change the signature of their <strong>init</strong> method, since instances
of the classes are instantiated automatically by parts of the framework
in order to be run.</p>
<p>When subclassing TestCase, you can set these attributes:
* failureException: determines which exception will be raised when
the instance's assertion methods fail; test methods raising this
exception will be deemed to have 'failed' rather than 'errored'.
* longMessage: determines whether long messages (including repr of
objects used in assert methods) will be printed on failure in <em>addition</em>
to any explicit message passed.
* maxDiff: sets the maximum length of a diff in failure messages
by assert methods using difflib. It is looked up as an instance
attribute so can be configured by individual tests if required.</p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TimesyncTest(unittest.TestCase):
    @classmethod
    def setUpClass(cls) -&gt; None:
        with contextlib.redirect_stdout(None):
            result = api_reader.ApiReader(tests.TEST_DATA_DIR, structured_dir=False,
                                          read_filter=ReadFilter(station_ids={&#34;1637680001&#34;}))
            cls.time_sync_analysis = ts.TimeSyncAnalysis().from_raw_packets(result.read_files_by_id(&#34;1637680001&#34;))

    def test_validate_sensors(self):
        test_ts = ts.TimeSyncData()
        test_ts.station_id = &#34;test&#34;
        test_ts.sample_rate_hz = 80.0
        test_ts.station_start_timestamp = 1
        other_ts = ts.TimeSyncData()
        other_ts.station_id = &#34;test&#34;
        other_ts.sample_rate_hz = 80.0
        tsa_test = ts.TimeSyncAnalysis()
        tsa_test.station_id = &#34;test&#34;
        tsa_test.timesync_data = [test_ts, other_ts]
        tsa_test.sample_rate_hz = 80.0
        tsa_test.station_start_timestamp = 1
        self.assertFalse(ts.validate_sensors(tsa_test))

    def test_compute_tri_message_stats(self):
        self.assertEqual(self.time_sync_analysis.get_latencies()[0], 69664.0)
        self.assertEqual(self.time_sync_analysis.get_offsets()[0], -22906528.0)

    def test_find_bad_packets(self):
        self.assertEqual(len(self.time_sync_analysis.get_bad_packets()), 0)

    def test_time_sync_analysis_data_load(self):
        self.assertEqual(len(self.time_sync_analysis.get_latencies()), 3)
        self.assertEqual(len(self.time_sync_analysis.get_offsets()), 3)
        self.assertEqual(self.time_sync_analysis.get_best_latency(), 69664.0)
        self.assertEqual(self.time_sync_analysis.best_latency_index, 0)

    def test_get_latency_mean(self):
        self.assertAlmostEqual(self.time_sync_analysis.get_mean_latency(), 116253.55, 2)

    def test_get_latency_std_dev(self):
        self.assertAlmostEqual(self.time_sync_analysis.get_latency_stdev(), 82599.05, 2)

    def test_get_offset_mean(self):
        self.assertAlmostEqual(self.time_sync_analysis.get_mean_offset(), -22904378.43, 2)

    def test_get_offset_std_dev(self):
        self.assertAlmostEqual(self.time_sync_analysis.get_offset_stdev(), 89482.83, 2)

    def test_get_best_start_time(self):
        self.assertEqual(self.time_sync_analysis.get_best_start_time(), 1532459197088257)

    def test_update_time_array(self):
        times = np.array([1532459197, 1532460197, 1532461197])
        times = ts.update_time_array(self.time_sync_analysis.timesync_data[0], times)
        self.assertAlmostEqual(1532459174.09, times[0], 2)

    def test_correct_time_array(self):
        &#34;&#34;&#34;
        Example: A sample is taken every 0.5 seconds, and a file has 5 seconds (10 samples). Let&#39;s say we sampled
        for a total of 20 seconds (4 files, 40 samples). At the beginning of each file (every 10th sample, or every
        5 seconds), there is a start mach time and a start epoch time. Rebuild the time array
        with the packet with the lowest latency being the best start time. In this case, the best latency is 1,
        which occurs in file 2, which starts at 4 seconds.  In the end we should get 40 timestamps,
        starting at -1.0 and increasing at a rate of 0.5 seconds, and the 11th sample (idx 10) = 4 seconds.
        &#34;&#34;&#34;
        # the revised start times are in microseconds, but the corrected time is in seconds
        tsd_one = ts.TimeSyncData()
        tsd_one.packet_start_timestamp = 1000000
        tsd_one.best_latency = 2
        tsd_one.sample_rate_hz = 2
        tsd_one.station_start_timestamp = 0
        tsd_two = ts.TimeSyncData()
        tsd_two.packet_start_timestamp = 4000000
        tsd_two.best_latency = 1
        tsd_two.sample_rate_hz = 2
        tsd_two.station_start_timestamp = 0
        tsd_thr = ts.TimeSyncData()
        tsd_thr.packet_start_timestamp = 8000000
        tsd_thr.best_latency = 2
        tsd_thr.sample_rate_hz = 2
        tsd_thr.station_start_timestamp = 0
        tsd_for = ts.TimeSyncData()
        tsd_for.packet_start_timestamp = 13000000
        tsd_for.best_latency = 2
        tsd_for.sample_rate_hz = 2
        tsd_for.station_start_timestamp = 0
        tsa_one = ts.TimeSyncAnalysis()
        tsa_one.station_id = &#34;test_station&#34;
        tsa_one.timesync_data = [tsd_one, tsd_two, tsd_thr, tsd_for]
        tsa_one.best_latency_index = 1
        tsa_one.sample_rate_hz = 2
        tsa_one.station_start_timestamp = 0
        file_samples = 10  # 10 samples per file
        correct_time_array_sec = ts.update_evenly_sampled_time_array(tsa_one, file_samples)

        self.assertTrue(np.array_equal(np.arange(-1.0, 19.0, 0.5), correct_time_array_sec))
        self.assertEqual(4.0, correct_time_array_sec[10])
        self.assertTrue(isinstance(correct_time_array_sec, np.ndarray))</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>unittest.case.TestCase</li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.setUpClass"><code class="name flex">
<span>def <span class="ident">setUpClass</span></span>(<span>) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>Hook method for setting up class fixture before running tests in the class.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def setUpClass(cls) -&gt; None:
    with contextlib.redirect_stdout(None):
        result = api_reader.ApiReader(tests.TEST_DATA_DIR, structured_dir=False,
                                      read_filter=ReadFilter(station_ids={&#34;1637680001&#34;}))
        cls.time_sync_analysis = ts.TimeSyncAnalysis().from_raw_packets(result.read_files_by_id(&#34;1637680001&#34;))</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_compute_tri_message_stats"><code class="name flex">
<span>def <span class="ident">test_compute_tri_message_stats</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_compute_tri_message_stats(self):
    self.assertEqual(self.time_sync_analysis.get_latencies()[0], 69664.0)
    self.assertEqual(self.time_sync_analysis.get_offsets()[0], -22906528.0)</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_correct_time_array"><code class="name flex">
<span>def <span class="ident">test_correct_time_array</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Example: A sample is taken every 0.5 seconds, and a file has 5 seconds (10 samples). Let's say we sampled
for a total of 20 seconds (4 files, 40 samples). At the beginning of each file (every 10th sample, or every
5 seconds), there is a start mach time and a start epoch time. Rebuild the time array
with the packet with the lowest latency being the best start time. In this case, the best latency is 1,
which occurs in file 2, which starts at 4 seconds.
In the end we should get 40 timestamps,
starting at -1.0 and increasing at a rate of 0.5 seconds, and the 11th sample (idx 10) = 4 seconds.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_correct_time_array(self):
    &#34;&#34;&#34;
    Example: A sample is taken every 0.5 seconds, and a file has 5 seconds (10 samples). Let&#39;s say we sampled
    for a total of 20 seconds (4 files, 40 samples). At the beginning of each file (every 10th sample, or every
    5 seconds), there is a start mach time and a start epoch time. Rebuild the time array
    with the packet with the lowest latency being the best start time. In this case, the best latency is 1,
    which occurs in file 2, which starts at 4 seconds.  In the end we should get 40 timestamps,
    starting at -1.0 and increasing at a rate of 0.5 seconds, and the 11th sample (idx 10) = 4 seconds.
    &#34;&#34;&#34;
    # the revised start times are in microseconds, but the corrected time is in seconds
    tsd_one = ts.TimeSyncData()
    tsd_one.packet_start_timestamp = 1000000
    tsd_one.best_latency = 2
    tsd_one.sample_rate_hz = 2
    tsd_one.station_start_timestamp = 0
    tsd_two = ts.TimeSyncData()
    tsd_two.packet_start_timestamp = 4000000
    tsd_two.best_latency = 1
    tsd_two.sample_rate_hz = 2
    tsd_two.station_start_timestamp = 0
    tsd_thr = ts.TimeSyncData()
    tsd_thr.packet_start_timestamp = 8000000
    tsd_thr.best_latency = 2
    tsd_thr.sample_rate_hz = 2
    tsd_thr.station_start_timestamp = 0
    tsd_for = ts.TimeSyncData()
    tsd_for.packet_start_timestamp = 13000000
    tsd_for.best_latency = 2
    tsd_for.sample_rate_hz = 2
    tsd_for.station_start_timestamp = 0
    tsa_one = ts.TimeSyncAnalysis()
    tsa_one.station_id = &#34;test_station&#34;
    tsa_one.timesync_data = [tsd_one, tsd_two, tsd_thr, tsd_for]
    tsa_one.best_latency_index = 1
    tsa_one.sample_rate_hz = 2
    tsa_one.station_start_timestamp = 0
    file_samples = 10  # 10 samples per file
    correct_time_array_sec = ts.update_evenly_sampled_time_array(tsa_one, file_samples)

    self.assertTrue(np.array_equal(np.arange(-1.0, 19.0, 0.5), correct_time_array_sec))
    self.assertEqual(4.0, correct_time_array_sec[10])
    self.assertTrue(isinstance(correct_time_array_sec, np.ndarray))</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_find_bad_packets"><code class="name flex">
<span>def <span class="ident">test_find_bad_packets</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_find_bad_packets(self):
    self.assertEqual(len(self.time_sync_analysis.get_bad_packets()), 0)</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_get_best_start_time"><code class="name flex">
<span>def <span class="ident">test_get_best_start_time</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_get_best_start_time(self):
    self.assertEqual(self.time_sync_analysis.get_best_start_time(), 1532459197088257)</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_get_latency_mean"><code class="name flex">
<span>def <span class="ident">test_get_latency_mean</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_get_latency_mean(self):
    self.assertAlmostEqual(self.time_sync_analysis.get_mean_latency(), 116253.55, 2)</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_get_latency_std_dev"><code class="name flex">
<span>def <span class="ident">test_get_latency_std_dev</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_get_latency_std_dev(self):
    self.assertAlmostEqual(self.time_sync_analysis.get_latency_stdev(), 82599.05, 2)</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_get_offset_mean"><code class="name flex">
<span>def <span class="ident">test_get_offset_mean</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_get_offset_mean(self):
    self.assertAlmostEqual(self.time_sync_analysis.get_mean_offset(), -22904378.43, 2)</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_get_offset_std_dev"><code class="name flex">
<span>def <span class="ident">test_get_offset_std_dev</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_get_offset_std_dev(self):
    self.assertAlmostEqual(self.time_sync_analysis.get_offset_stdev(), 89482.83, 2)</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_time_sync_analysis_data_load"><code class="name flex">
<span>def <span class="ident">test_time_sync_analysis_data_load</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_time_sync_analysis_data_load(self):
    self.assertEqual(len(self.time_sync_analysis.get_latencies()), 3)
    self.assertEqual(len(self.time_sync_analysis.get_offsets()), 3)
    self.assertEqual(self.time_sync_analysis.get_best_latency(), 69664.0)
    self.assertEqual(self.time_sync_analysis.best_latency_index, 0)</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_update_time_array"><code class="name flex">
<span>def <span class="ident">test_update_time_array</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_update_time_array(self):
    times = np.array([1532459197, 1532460197, 1532461197])
    times = ts.update_time_array(self.time_sync_analysis.timesync_data[0], times)
    self.assertAlmostEqual(1532459174.09, times[0], 2)</code></pre>
</details>
</dd>
<dt id="redvox.tests.common.test_timesync.TimesyncTest.test_validate_sensors"><code class="name flex">
<span>def <span class="ident">test_validate_sensors</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def test_validate_sensors(self):
    test_ts = ts.TimeSyncData()
    test_ts.station_id = &#34;test&#34;
    test_ts.sample_rate_hz = 80.0
    test_ts.station_start_timestamp = 1
    other_ts = ts.TimeSyncData()
    other_ts.station_id = &#34;test&#34;
    other_ts.sample_rate_hz = 80.0
    tsa_test = ts.TimeSyncAnalysis()
    tsa_test.station_id = &#34;test&#34;
    tsa_test.timesync_data = [test_ts, other_ts]
    tsa_test.sample_rate_hz = 80.0
    tsa_test.station_start_timestamp = 1
    self.assertFalse(ts.validate_sensors(tsa_test))</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="redvox.tests.common" href="index.html">redvox.tests.common</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="redvox.tests.common.test_timesync.TimesyncTest" href="#redvox.tests.common.test_timesync.TimesyncTest">TimesyncTest</a></code></h4>
<ul class="">
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.setUpClass" href="#redvox.tests.common.test_timesync.TimesyncTest.setUpClass">setUpClass</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_compute_tri_message_stats" href="#redvox.tests.common.test_timesync.TimesyncTest.test_compute_tri_message_stats">test_compute_tri_message_stats</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_correct_time_array" href="#redvox.tests.common.test_timesync.TimesyncTest.test_correct_time_array">test_correct_time_array</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_find_bad_packets" href="#redvox.tests.common.test_timesync.TimesyncTest.test_find_bad_packets">test_find_bad_packets</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_get_best_start_time" href="#redvox.tests.common.test_timesync.TimesyncTest.test_get_best_start_time">test_get_best_start_time</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_get_latency_mean" href="#redvox.tests.common.test_timesync.TimesyncTest.test_get_latency_mean">test_get_latency_mean</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_get_latency_std_dev" href="#redvox.tests.common.test_timesync.TimesyncTest.test_get_latency_std_dev">test_get_latency_std_dev</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_get_offset_mean" href="#redvox.tests.common.test_timesync.TimesyncTest.test_get_offset_mean">test_get_offset_mean</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_get_offset_std_dev" href="#redvox.tests.common.test_timesync.TimesyncTest.test_get_offset_std_dev">test_get_offset_std_dev</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_time_sync_analysis_data_load" href="#redvox.tests.common.test_timesync.TimesyncTest.test_time_sync_analysis_data_load">test_time_sync_analysis_data_load</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_update_time_array" href="#redvox.tests.common.test_timesync.TimesyncTest.test_update_time_array">test_update_time_array</a></code></li>
<li><code><a title="redvox.tests.common.test_timesync.TimesyncTest.test_validate_sensors" href="#redvox.tests.common.test_timesync.TimesyncTest.test_validate_sensors">test_validate_sensors</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>