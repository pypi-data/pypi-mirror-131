{
  "properties": {
    "DB": {
      "type": "object",
      "properties": {
        "host": {
          "type": "string",
          "default": "localhost"
        },
        "user": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "DB_name": {
          "type": "string"
        },
        "port": {
          "type": "integer",
          "minimum": 1,
          "default": 3306
        },
        "min_connections": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        },
        "max_connections": {
          "type": "integer",
          "minimum": 1,
          "default": 5
        },
        "cleanup": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false
            },
            "interval": {
              "type": "string",
              "pattern": "[s,m,h] [0-9]",
              "default": "h 1"
            },
            "tables": {
              "type": "array",
              "uniqueItems": true,
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "condition": {
                    "type": "string"
                  }
                },
                "required": [
                  "name"
                ],
                "additionalProperties": false
              },
              "default": []
            }
          },
          "required": [
            "enabled",
            "interval",
            "tables"
          ],
          "additionalProperties": false
        },
        "ping_connection": {
          "type": "object",
          "properties": {
            "enabled": {"type": "boolean", "default": true},
            "interval_sec": {"type": "integer", "default":  60}
          },
          "required": [
            "enabled",
            "interval_sec"
          ],
          "additionalProperties": false
        },
        "args": {
          "type": "object",
          "properties": {
            "local_infile": {
              "type": "boolean"
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "host",
        "user",
        "DB_name",
        "password",
        "min_connections",
        "max_connections",
        "cleanup",
        "ping_connection"
      ],
      "additionalProperties": false
    }
  },
  "required": ["DB"]
}
